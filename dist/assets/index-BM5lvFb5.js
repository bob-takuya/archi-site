const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-ponyfill-O6kbcU6U.js","assets/vendor-hK-MsNnn.js","assets/database-C_Jrbyj2.js"])))=>i.map(i=>d[i]);
import{u as is,j as u,B as D,a as Pe,b as Br,L as c0,M as u0,c as Qe,d as ko,C as d0,e as Ar,F as Un,S as oa,T as _t,I as wt,f as rM,g as Uo,A as nM,h as iM,i as R,k as aM,D as r1,l as eu,m as un,n as Wn,o as dn,H as oM,p as Vc,P as Gs,q as _i,r as n1,s as sM,t as hr,G as ue,v as Yt,w as St,x as Ct,y as Ta,z as Ys,E as $e,J as Oi,K as as,N as ke,O as In,Q as yi,R as Wo,U as Ho,V as kn,W as Vu,Z as Xs,X as ia,Y as mg,_ as vg,$ as Jh,a0 as tu,a1 as Pi,a2 as ru,a3 as f0,a4 as Qh,a5 as yg,a6 as lM,a7 as cM,a8 as uM,a9 as dM,aa as fM,ab as bh,ac as hM,ad as pM,ae as Gn,af as Yn,ag as qn,ah as gM,ai as i1,aj as Vn,ak as ep,al as Ua,am as Wa,an as nu,ao as mM,ap as Js,aq as vM,ar as yM,as as xM,at as bM,au as _M,av as wM,aw as jM,ax as AM,ay as xg,az as SM,aA as CM,aB as OM,aC as PM,aD as Ji,aE as nr,aF as tp,aG as EM,aH as TM,aI as De,aJ as nl,aK as LM,aL as kM,aM as IM,aN as pi,aO as gi,aP as mi,aQ as vi,aR as RM,aS as MM,aT as DM,aU as $M,aV as NM,aW as rp,aX as np,aY as bg,aZ as _g,a_ as wg,a$ as jg,b0 as BM,b1 as FM,b2 as ip,b3 as a1,b4 as o1,b5 as s1,b6 as Lo,b7 as zM,b8 as UM,b9 as WM,ba as Ag,bb as l1,bc as c1,bd as HM,be as u1,bf as h0,bg as KM,bh as ZM,bi as d1,bj as p0,bk as GM,bl as YM,bm as g0,bn as qM,bo as VM,bp as ap,bq as XM,br as f1,bs as JM,bt as QM}from"./ui-BmzncxB5.js";import{d as Sg,g as Or,r as y,a as Ft,u as Xu,L as Mt,c as Ma,f as os,h as h1,H as eD,i as tD,j as Qi}from"./vendor-hK-MsNnn.js";import{L as qe}from"./map-BtvNs8GB.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var p1,m0=Sg;p1=m0.createRoot,m0.hydrateRoot;var rD=typeof Element<"u",nD=typeof Map=="function",iD=typeof Set=="function",aD=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Xc(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!Xc(e[n],t[n]))return!1;return!0}var i;if(nD&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;for(i=e.entries();!(n=i.next()).done;)if(!Xc(n.value[1],t.get(n.value[0])))return!1;return!0}if(iD&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(aD&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;if(rD&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((a[n]==="_owner"||a[n]==="__v"||a[n]==="__o")&&e.$$typeof)&&!Xc(e[a[n]],t[a[n]]))return!1;return!0}return e!==e&&t!==t}var oD=function(t,r){try{return Xc(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const sD=Or(oD);var lD=function(e,t,r,n,a,i,o,s){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[r,n,a,i,o,s],f=0;c=new Error(t.replace(/%s/g,function(){return d[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},cD=lD;const v0=Or(cD);var uD=function(t,r,n,a){var i=n?n.call(a,t,r):void 0;if(i!==void 0)return!!i;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var o=Object.keys(t),s=Object.keys(r);if(o.length!==s.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(r),d=0;d<o.length;d++){var f=o[d];if(!c(f))return!1;var p=t[f],g=r[f];if(i=n?n.call(a,p,g,f):void 0,i===!1||i===void 0&&p!==g)return!1}return!0};const dD=Or(uD);var g1=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(g1||{}),_h={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},y0=Object.values(g1),Cg={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},fD=Object.entries(Cg).reduce((e,[t,r])=>(e[r]=t,e),{}),Ln="data-rh",$o={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},No=(e,t)=>{for(let r=e.length-1;r>=0;r-=1){const n=e[r];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},hD=e=>{let t=No(e,"title");const r=No(e,$o.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,()=>t);const n=No(e,$o.DEFAULT_TITLE);return t||n||void 0},pD=e=>No(e,$o.ON_CHANGE_CLIENT_STATE)||(()=>{}),wh=(e,t)=>t.filter(r=>typeof r[e]<"u").map(r=>r[e]).reduce((r,n)=>({...r,...n}),{}),gD=(e,t)=>t.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,n)=>{if(!r.length){const a=Object.keys(n);for(let i=0;i<a.length;i+=1){const s=a[i].toLowerCase();if(e.indexOf(s)!==-1&&n[s])return r.concat(n)}}return r},[]),mD=e=>console&&typeof console.warn=="function"&&console.warn(e),Ms=(e,t,r)=>{const n={};return r.filter(a=>Array.isArray(a[e])?!0:(typeof a[e]<"u"&&mD(`Helmet: ${e} should be of type "Array". Instead found type "${typeof a[e]}"`),!1)).map(a=>a[e]).reverse().reduce((a,i)=>{const o={};i.filter(c=>{let d;const f=Object.keys(c);for(let g=0;g<f.length;g+=1){const m=f[g],x=m.toLowerCase();t.indexOf(x)!==-1&&!(d==="rel"&&c[d].toLowerCase()==="canonical")&&!(x==="rel"&&c[x].toLowerCase()==="stylesheet")&&(d=x),t.indexOf(m)!==-1&&(m==="innerHTML"||m==="cssText"||m==="itemprop")&&(d=m)}if(!d||!c[d])return!1;const p=c[d].toLowerCase();return n[d]||(n[d]={}),o[d]||(o[d]={}),n[d][p]?!1:(o[d][p]=!0,!0)}).reverse().forEach(c=>a.push(c));const s=Object.keys(o);for(let c=0;c<s.length;c+=1){const d=s[c],f={...n[d],...o[d]};n[d]=f}return a},[]).reverse()},vD=(e,t)=>{if(Array.isArray(e)&&e.length){for(let r=0;r<e.length;r+=1)if(e[r][t])return!0}return!1},yD=e=>({baseTag:gD(["href"],e),bodyAttributes:wh("bodyAttributes",e),defer:No(e,$o.DEFER),encode:No(e,$o.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:wh("htmlAttributes",e),linkTags:Ms("link",["rel","href"],e),metaTags:Ms("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:Ms("noscript",["innerHTML"],e),onChangeClientState:pD(e),scriptTags:Ms("script",["src","innerHTML"],e),styleTags:Ms("style",["cssText"],e),title:hD(e),titleAttributes:wh("titleAttributes",e),prioritizeSeoTags:vD(e,$o.PRIORITIZE_SEO_TAGS)}),m1=e=>Array.isArray(e)?e.join(""):e,xD=(e,t)=>{const r=Object.keys(e);for(let n=0;n<r.length;n+=1)if(t[r[n]]&&t[r[n]].includes(e[r[n]]))return!0;return!1},jh=(e,t)=>Array.isArray(e)?e.reduce((r,n)=>(xD(n,t)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:e,priority:[]},x0=(e,t)=>({...e,[t]:void 0}),bD=["noscript","script","style"],op=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),v1=e=>Object.keys(e).reduce((t,r)=>{const n=typeof e[r]<"u"?`${r}="${e[r]}"`:`${r}`;return t?`${t} ${n}`:n},""),_D=(e,t,r,n)=>{const a=v1(r),i=m1(t);return a?`<${e} ${Ln}="true" ${a}>${op(i,n)}</${e}>`:`<${e} ${Ln}="true">${op(i,n)}</${e}>`},wD=(e,t,r=!0)=>t.reduce((n,a)=>{const i=a,o=Object.keys(i).filter(d=>!(d==="innerHTML"||d==="cssText")).reduce((d,f)=>{const p=typeof i[f]>"u"?f:`${f}="${op(i[f],r)}"`;return d?`${d} ${p}`:p},""),s=i.innerHTML||i.cssText||"",c=bD.indexOf(e)===-1;return`${n}<${e} ${Ln}="true" ${o}${c?"/>":`>${s}</${e}>`}`},""),y1=(e,t={})=>Object.keys(e).reduce((r,n)=>{const a=Cg[n];return r[a||n]=e[n],r},t),jD=(e,t,r)=>{const n={key:t,[Ln]:!0},a=y1(r,n);return[Ft.createElement("title",a,t)]},Jc=(e,t)=>t.map((r,n)=>{const a={key:n,[Ln]:!0};return Object.keys(r).forEach(i=>{const s=Cg[i]||i;if(s==="innerHTML"||s==="cssText"){const c=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:c}}else a[s]=r[i]}),Ft.createElement(e,a)}),on=(e,t,r=!0)=>{switch(e){case"title":return{toComponent:()=>jD(e,t.title,t.titleAttributes),toString:()=>_D(e,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>y1(t),toString:()=>v1(t)};default:return{toComponent:()=>Jc(e,t),toString:()=>wD(e,t,r)}}},AD=({metaTags:e,linkTags:t,scriptTags:r,encode:n})=>{const a=jh(e,_h.meta),i=jh(t,_h.link),o=jh(r,_h.script);return{priorityMethods:{toComponent:()=>[...Jc("meta",a.priority),...Jc("link",i.priority),...Jc("script",o.priority)],toString:()=>`${on("meta",a.priority,n)} ${on("link",i.priority,n)} ${on("script",o.priority,n)}`},metaTags:a.default,linkTags:i.default,scriptTags:o.default}},SD=e=>{const{baseTag:t,bodyAttributes:r,encode:n=!0,htmlAttributes:a,noscriptTags:i,styleTags:o,title:s="",titleAttributes:c,prioritizeSeoTags:d}=e;let{linkTags:f,metaTags:p,scriptTags:g}=e,m={toComponent:()=>{},toString:()=>""};return d&&({priorityMethods:m,linkTags:f,metaTags:p,scriptTags:g}=AD(e)),{priority:m,base:on("base",t,n),bodyAttributes:on("bodyAttributes",r,n),htmlAttributes:on("htmlAttributes",a,n),link:on("link",f,n),meta:on("meta",p,n),noscript:on("noscript",i,n),script:on("script",g,n),style:on("style",o,n),title:on("title",{title:s,titleAttributes:c},n)}},sp=SD,kc=[],x1=!!(typeof window<"u"&&window.document&&window.document.createElement),lp=class{instances=[];canUseDOM=x1;context;value={setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?kc:this.instances,add:e=>{(this.canUseDOM?kc:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?kc:this.instances).indexOf(e);(this.canUseDOM?kc:this.instances).splice(t,1)}}};constructor(e,t){this.context=e,this.canUseDOM=t||!1,t||(e.helmet=sp({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},CD={},b1=Ft.createContext(CD),_1=class w1 extends y.Component{static canUseDOM=x1;helmetData;constructor(t){super(t),this.helmetData=new lp(this.props.context||{},w1.canUseDOM)}render(){return Ft.createElement(b1.Provider,{value:this.helmetData.value},this.props.children)}},wo=(e,t)=>{const r=document.head||document.querySelector("head"),n=r.querySelectorAll(`${e}[${Ln}]`),a=[].slice.call(n),i=[];let o;return t&&t.length&&t.forEach(s=>{const c=document.createElement(e);for(const d in s)if(Object.prototype.hasOwnProperty.call(s,d))if(d==="innerHTML")c.innerHTML=s.innerHTML;else if(d==="cssText")c.styleSheet?c.styleSheet.cssText=s.cssText:c.appendChild(document.createTextNode(s.cssText));else{const f=d,p=typeof s[f]>"u"?"":s[f];c.setAttribute(d,p)}c.setAttribute(Ln,"true"),a.some((d,f)=>(o=f,c.isEqualNode(d)))?a.splice(o,1):i.push(c)}),a.forEach(s=>s.parentNode?.removeChild(s)),i.forEach(s=>r.appendChild(s)),{oldTags:a,newTags:i}},cp=(e,t)=>{const r=document.getElementsByTagName(e)[0];if(!r)return;const n=r.getAttribute(Ln),a=n?n.split(","):[],i=[...a],o=Object.keys(t);for(const s of o){const c=t[s]||"";r.getAttribute(s)!==c&&r.setAttribute(s,c),a.indexOf(s)===-1&&a.push(s);const d=i.indexOf(s);d!==-1&&i.splice(d,1)}for(let s=i.length-1;s>=0;s-=1)r.removeAttribute(i[s]);a.length===i.length?r.removeAttribute(Ln):r.getAttribute(Ln)!==o.join(",")&&r.setAttribute(Ln,o.join(","))},OD=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=m1(e)),cp("title",t)},b0=(e,t)=>{const{baseTag:r,bodyAttributes:n,htmlAttributes:a,linkTags:i,metaTags:o,noscriptTags:s,onChangeClientState:c,scriptTags:d,styleTags:f,title:p,titleAttributes:g}=e;cp("body",n),cp("html",a),OD(p,g);const m={baseTag:wo("base",r),linkTags:wo("link",i),metaTags:wo("meta",o),noscriptTags:wo("noscript",s),scriptTags:wo("script",d),styleTags:wo("style",f)},x={},b={};Object.keys(m).forEach(_=>{const{newTags:j,oldTags:A}=m[_];j.length&&(x[_]=j),A.length&&(b[_]=m[_].oldTags)}),t&&t(),c(e,x,b)},Ds=null,PD=e=>{Ds&&cancelAnimationFrame(Ds),e.defer?Ds=requestAnimationFrame(()=>{b0(e,()=>{Ds=null})}):(b0(e),Ds=null)},ED=PD,_0=class extends y.Component{rendered=!1;shouldComponentUpdate(e){return!dD(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let r=null;const n=yD(e.get().map(a=>{const i={...a.props};return delete i.context,i}));_1.canUseDOM?ED(n):sp&&(r=sp(n)),t(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},TD=class extends y.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(e){return!sD(x0(this.props,"helmetData"),x0(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,n){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,n)}]}}mapObjectTypeChildren(e,t,r,n){switch(e.type){case"title":return{...t,[e.type]:n,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach(n=>{r={...r,[n]:e[n]}}),r}warnOnInvalidChildren(e,t){return v0(y0.some(r=>e.type===r),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${y0.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),v0(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return Ft.Children.forEach(e,n=>{if(!n||!n.props)return;const{children:a,...i}=n.props,o=Object.keys(i).reduce((c,d)=>(c[fD[d]||d]=i[d],c),{});let{type:s}=n;switch(typeof s=="symbol"?s=s.toString():this.warnOnInvalidChildren(n,a),s){case"Symbol(react.fragment)":t=this.mapChildrenToProps(a,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(n,r,o,a);break;default:t=this.mapObjectTypeChildren(n,t,o,a);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:n}=t;if(e&&(r=this.mapChildrenToProps(e,r)),n&&!(n instanceof lp)){const a=n;n=new lp(a.context,!0),delete r.helmetData}return n?Ft.createElement(_0,{...r,context:n.value}):Ft.createElement(b1.Consumer,null,a=>Ft.createElement(_0,{...r,context:a}))}};const Ie=e=>typeof e=="string",$s=()=>{let e,t;const r=new Promise((n,a)=>{e=n,t=a});return r.resolve=e,r.reject=t,r},w0=e=>e==null?"":""+e,LD=(e,t,r)=>{e.forEach(n=>{t[n]&&(r[n]=t[n])})},kD=/###/g,j0=e=>e&&e.indexOf("###")>-1?e.replace(kD,"."):e,A0=e=>!e||Ie(e),Qs=(e,t,r)=>{const n=Ie(t)?t.split("."):t;let a=0;for(;a<n.length-1;){if(A0(e))return{};const i=j0(n[a]);!e[i]&&r&&(e[i]=new r),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++a}return A0(e)?{}:{obj:e,k:j0(n[a])}},S0=(e,t,r)=>{const{obj:n,k:a}=Qs(e,t,Object);if(n!==void 0||t.length===1){n[a]=r;return}let i=t[t.length-1],o=t.slice(0,t.length-1),s=Qs(e,o,Object);for(;s.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),s=Qs(e,o,Object),s?.obj&&typeof s.obj[`${s.k}.${i}`]<"u"&&(s.obj=void 0);s.obj[`${s.k}.${i}`]=r},ID=(e,t,r,n)=>{const{obj:a,k:i}=Qs(e,t,Object);a[i]=a[i]||[],a[i].push(r)},iu=(e,t)=>{const{obj:r,k:n}=Qs(e,t);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},RD=(e,t,r)=>{const n=iu(e,r);return n!==void 0?n:iu(t,r)},j1=(e,t,r)=>{for(const n in t)n!=="__proto__"&&n!=="constructor"&&(n in e?Ie(e[n])||e[n]instanceof String||Ie(t[n])||t[n]instanceof String?r&&(e[n]=t[n]):j1(e[n],t[n],r):e[n]=t[n]);return e},jo=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var MD={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const DD=e=>Ie(e)?e.replace(/[&<>"'\/]/g,t=>MD[t]):e;class $D{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const r=this.regExpMap.get(t);if(r!==void 0)return r;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}const ND=[" ",",","?","!",";"],BD=new $D(20),FD=(e,t,r)=>{t=t||"",r=r||"";const n=ND.filter(o=>t.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const a=BD.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!a.test(e);if(!i){const o=e.indexOf(r);o>0&&!a.test(e.substring(0,o))&&(i=!0)}return i},up=(e,t,r=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const n=t.split(r);let a=e;for(let i=0;i<n.length;){if(!a||typeof a!="object")return;let o,s="";for(let c=i;c<n.length;++c)if(c!==i&&(s+=r),s+=n[c],o=a[s],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<n.length-1)continue;i+=c-i+1;break}a=o}return a},il=e=>e?.replace("_","-"),zD={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class au{constructor(t,r={}){this.init(t,r)}init(t,r={}){this.prefix=r.prefix||"i18next:",this.logger=t||zD,this.options=r,this.debug=r.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,n,a){return a&&!this.debug?null:(Ie(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new au(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new au(this.logger,t)}}var Hn=new au;let Ju=class{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const a=this.observers[n].get(r)||0;this.observers[n].set(r,a+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t,...r){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([a,i])=>{for(let o=0;o<i;o++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,i])=>{for(let o=0;o<i;o++)a.apply(a,[t,...r])})}};class C0 extends Ju{constructor(t,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,n,a={}){const i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,o=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;t.indexOf(".")>-1?s=t.split("."):(s=[t,r],n&&(Array.isArray(n)?s.push(...n):Ie(n)&&i?s.push(...n.split(i)):s.push(n)));const c=iu(this.data,s);return!c&&!r&&!n&&t.indexOf(".")>-1&&(t=s[0],r=s[1],n=s.slice(2).join(".")),c||!o||!Ie(n)?c:up(this.data?.[t]?.[r],n,i)}addResource(t,r,n,a,i={silent:!1}){const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let s=[t,r];n&&(s=s.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(s=t.split("."),a=r,r=s[1]),this.addNamespaces(r),S0(this.data,s,a),i.silent||this.emit("added",t,r,n,a)}addResources(t,r,n,a={silent:!1}){for(const i in n)(Ie(n[i])||Array.isArray(n[i]))&&this.addResource(t,r,i,n[i],{silent:!0});a.silent||this.emit("added",t,r,n)}addResourceBundle(t,r,n,a,i,o={silent:!1,skipCopy:!1}){let s=[t,r];t.indexOf(".")>-1&&(s=t.split("."),a=n,n=r,r=s[1]),this.addNamespaces(r);let c=iu(this.data,s)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),a?j1(c,n,i):c={...c,...n},S0(this.data,s,c),o.silent||this.emit("added",t,r,n)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return this.getResource(t,r)!==void 0}getResourceBundle(t,r){return r||(r=this.options.defaultNS),this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(a=>r[a]&&Object.keys(r[a]).length>0)}toJSON(){return this.data}}var A1={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,a){return e.forEach(i=>{t=this.processors[i]?.process(t,r,n,a)??t}),t}};const O0={},P0=e=>!Ie(e)&&typeof e!="boolean"&&typeof e!="number";class ou extends Ju{constructor(t,r={}){super(),LD(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Hn.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,r={interpolation:{}}){const n={...r};return t==null?!1:this.resolve(t,n)?.res!==void 0}extractFromKey(t,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let i=r.ns||this.options.defaultNS||[];const o=n&&t.indexOf(n)>-1,s=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!FD(t,n,a);if(o&&!s){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:Ie(i)?[i]:i};const d=t.split(n);(n!==a||n===a&&this.options.ns.indexOf(d[0])>-1)&&(i=d.shift()),t=d.join(a)}return{key:t,namespaces:Ie(i)?[i]:i}}translate(t,r,n){let a=typeof r=="object"?{...r}:r;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(a={...a}),a||(a={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:s,namespaces:c}=this.extractFromKey(t[t.length-1],a),d=c[c.length-1];let f=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;f===void 0&&(f=":");const p=a.lng||this.language,g=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p?.toLowerCase()==="cimode")return g?i?{res:`${d}${f}${s}`,usedKey:s,exactUsedKey:s,usedLng:p,usedNS:d,usedParams:this.getUsedParamsDetails(a)}:`${d}${f}${s}`:i?{res:s,usedKey:s,exactUsedKey:s,usedLng:p,usedNS:d,usedParams:this.getUsedParamsDetails(a)}:s;const m=this.resolve(t,a);let x=m?.res;const b=m?.usedKey||s,_=m?.exactUsedKey||s,j=["[object Number]","[object Function]","[object RegExp]"],A=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject,C=a.count!==void 0&&!Ie(a.count),E=ou.hasDefaultValue(a),k=C?this.pluralResolver.getSuffix(p,a.count,a):"",I=a.ordinal&&C?this.pluralResolver.getSuffix(p,a.count,{ordinal:!1}):"",U=C&&!a.ordinal&&a.count===0,V=U&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${k}`]||a[`defaultValue${I}`]||a.defaultValue;let re=x;S&&!x&&E&&(re=V);const te=P0(re),J=Object.prototype.toString.apply(re);if(S&&re&&te&&j.indexOf(J)<0&&!(Ie(A)&&Array.isArray(re))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ne=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,re,{...a,ns:c}):`key '${s} (${this.language})' returned an object instead of string.`;return i?(m.res=ne,m.usedParams=this.getUsedParamsDetails(a),m):ne}if(o){const ne=Array.isArray(re),fe=ne?[]:{},Q=ne?_:b;for(const G in re)if(Object.prototype.hasOwnProperty.call(re,G)){const B=`${Q}${o}${G}`;E&&!x?fe[G]=this.translate(B,{...a,defaultValue:P0(V)?V[G]:void 0,joinArrays:!1,ns:c}):fe[G]=this.translate(B,{...a,joinArrays:!1,ns:c}),fe[G]===B&&(fe[G]=re[G])}x=fe}}else if(S&&Ie(A)&&Array.isArray(x))x=x.join(A),x&&(x=this.extendTranslation(x,t,a,n));else{let ne=!1,fe=!1;!this.isValidLookup(x)&&E&&(ne=!0,x=V),this.isValidLookup(x)||(fe=!0,x=s);const G=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&fe?void 0:x,B=E&&V!==x&&this.options.updateMissing;if(fe||ne||B){if(this.logger.log(B?"updateKey":"missingKey",p,d,s,B?V:x),o){const $=this.resolve(s,{...a,keySeparator:!1});$&&$.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let X=[];const ae=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ae&&ae[0])for(let $=0;$<ae.length;$++)X.push(ae[$]);else this.options.saveMissingTo==="all"?X=this.languageUtils.toResolveHierarchy(a.lng||this.language):X.push(a.lng||this.language);const me=($,N,Y)=>{const se=E&&Y!==x?Y:G;this.options.missingKeyHandler?this.options.missingKeyHandler($,d,N,se,B,a):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing($,d,N,se,B,a),this.emit("missingKey",$,d,N,x)};this.options.saveMissing&&(this.options.saveMissingPlurals&&C?X.forEach($=>{const N=this.pluralResolver.getSuffixes($,a);U&&a[`defaultValue${this.options.pluralSeparator}zero`]&&N.indexOf(`${this.options.pluralSeparator}zero`)<0&&N.push(`${this.options.pluralSeparator}zero`),N.forEach(Y=>{me([$],s+Y,a[`defaultValue${Y}`]||V)})}):me(X,s,V))}x=this.extendTranslation(x,t,a,m,n),fe&&x===s&&this.options.appendNamespaceToMissingKey&&(x=`${d}${f}${s}`),(fe||ne)&&this.options.parseMissingKeyHandler&&(x=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${f}${s}`:s,ne?x:void 0,a))}return i?(m.res=x,m.usedParams=this.getUsedParamsDetails(a),m):x}extendTranslation(t,r,n,a,i){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const c=Ie(t)&&(n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(c){const p=t.match(this.interpolator.nestingRegexp);d=p&&p.length}let f=n.replace&&!Ie(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),t=this.interpolator.interpolate(t,f,n.lng||this.language||a.usedLng,n),c){const p=t.match(this.interpolator.nestingRegexp),g=p&&p.length;d<g&&(n.nest=!1)}!n.lng&&a&&a.res&&(n.lng=this.language||a.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,(...p)=>i?.[0]===p[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${r[0]}`),null):this.translate(...p,r),n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,s=Ie(o)?[o]:o;return t!=null&&s?.length&&n.applyPostProcessor!==!1&&(t=A1.handle(s,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t,r={}){let n,a,i,o,s;return Ie(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(n))return;const d=this.extractFromKey(c,r),f=d.key;a=f;let p=d.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const g=r.count!==void 0&&!Ie(r.count),m=g&&!r.ordinal&&r.count===0,x=r.context!==void 0&&(Ie(r.context)||typeof r.context=="number")&&r.context!=="",b=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);p.forEach(_=>{this.isValidLookup(n)||(s=_,!O0[`${b[0]}-${_}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(s)&&(O0[`${b[0]}-${_}`]=!0,this.logger.warn(`key "${a}" for languages "${b.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(j=>{if(this.isValidLookup(n))return;o=j;const A=[f];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(A,f,j,_,r);else{let C;g&&(C=this.pluralResolver.getSuffix(j,r.count,r));const E=`${this.options.pluralSeparator}zero`,k=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(A.push(f+C),r.ordinal&&C.indexOf(k)===0&&A.push(f+C.replace(k,this.options.pluralSeparator)),m&&A.push(f+E)),x){const I=`${f}${this.options.contextSeparator}${r.context}`;A.push(I),g&&(A.push(I+C),r.ordinal&&C.indexOf(k)===0&&A.push(I+C.replace(k,this.options.pluralSeparator)),m&&A.push(I+E))}}let S;for(;S=A.pop();)this.isValidLookup(n)||(i=S,n=this.getResource(j,_,S,r))}))})}),{res:n,usedKey:a,exactUsedKey:i,usedLng:o,usedNS:s}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,r,n,a={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,r,n,a):this.resourceStore.getResource(t,r,n,a)}getUsedParamsDetails(t={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!Ie(t.replace);let a=n?t.replace:t;if(n&&typeof t.count<"u"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!n){a={...a};for(const i of r)delete a[i]}return a}static hasDefaultValue(t){const r="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r===n.substring(0,r.length)&&t[n]!==void 0)return!0;return!1}}class E0{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Hn.create("languageUtils")}getScriptPartFromCode(t){if(t=il(t),!t||t.indexOf("-")<0)return null;const r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(t=il(t),!t||t.indexOf("-")<0)return t;const r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if(Ie(t)&&t.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(t)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let r;return t.forEach(n=>{if(r)return;const a=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(a))&&(r=a)}),!r&&this.options.supportedLngs&&t.forEach(n=>{if(r)return;const a=this.getScriptPartFromCode(n);if(this.isSupportedCode(a))return r=a;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),Ie(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let n=t[r];return n||(n=t[this.getScriptPartFromCode(r)]),n||(n=t[this.formatLanguageCode(r)]),n||(n=t[this.getLanguagePartFromCode(r)]),n||(n=t.default),n||[]}toResolveHierarchy(t,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],t),a=[],i=o=>{o&&(this.isSupportedCode(o)?a.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Ie(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):Ie(t)&&i(this.formatLanguageCode(t)),n.forEach(o=>{a.indexOf(o)<0&&i(this.formatLanguageCode(o))}),a}}const T0={zero:0,one:1,two:2,few:3,many:4,other:5},L0={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class UD{constructor(t,r={}){this.languageUtils=t,this.options=r,this.logger=Hn.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t,r={}){const n=il(t==="dev"?"en":t),a=r.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:a});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(n,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),L0;if(!t.match(/-|_/))return L0;const c=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(c,r)}return this.pluralRulesCache[i]=o,o}needsPlural(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,r,n={}){return this.getSuffixes(t,n).map(a=>`${r}${a}`)}getSuffixes(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((a,i)=>T0[a]-T0[i]).map(a=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(t,r,n={}){const a=this.getRule(t,n);return a?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a.select(r)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",r,n))}}const k0=(e,t,r,n=".",a=!0)=>{let i=RD(e,t,r);return!i&&a&&Ie(r)&&(i=up(e,r,n),i===void 0&&(i=up(t,r,n))),i},Ah=e=>e.replace(/\$/g,"$$$$");class WD{constructor(t={}){this.logger=Hn.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(r=>r),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:a,prefix:i,prefixEscaped:o,suffix:s,suffixEscaped:c,formatSeparator:d,unescapeSuffix:f,unescapePrefix:p,nestingPrefix:g,nestingPrefixEscaped:m,nestingSuffix:x,nestingSuffixEscaped:b,nestingOptionsSeparator:_,maxReplaces:j,alwaysFormat:A}=t.interpolation;this.escape=r!==void 0?r:DD,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=i?jo(i):o||"{{",this.suffix=s?jo(s):c||"}}",this.formatSeparator=d||",",this.unescapePrefix=f?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=g?jo(g):m||jo("$t("),this.nestingSuffix=x?jo(x):b||jo(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=j||1e3,this.alwaysFormat=A!==void 0?A:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(r,n)=>r?.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,r,n,a){let i,o,s;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=m=>{if(m.indexOf(this.formatSeparator)<0){const j=k0(r,c,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(j,void 0,n,{...a,...r,interpolationkey:m}):j}const x=m.split(this.formatSeparator),b=x.shift().trim(),_=x.join(this.formatSeparator).trim();return this.format(k0(r,c,b,this.options.keySeparator,this.options.ignoreJSONStructure),_,n,{...a,...r,interpolationkey:b})};this.resetRegExp();const f=a?.missingInterpolationHandler||this.options.missingInterpolationHandler,p=a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>Ah(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?Ah(this.escape(m)):Ah(m)}].forEach(m=>{for(s=0;i=m.regex.exec(t);){const x=i[1].trim();if(o=d(x),o===void 0)if(typeof f=="function"){const _=f(t,i,a);o=Ie(_)?_:""}else if(a&&Object.prototype.hasOwnProperty.call(a,x))o="";else if(p){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${t}`),o="";else!Ie(o)&&!this.useRawValueToEscape&&(o=w0(o));const b=m.safeValue(o);if(t=t.replace(i[0],b),p?(m.regex.lastIndex+=o.length,m.regex.lastIndex-=i[0].length):m.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),t}nest(t,r,n={}){let a,i,o;const s=(c,d)=>{const f=this.nestingOptionsSeparator;if(c.indexOf(f)<0)return c;const p=c.split(new RegExp(`${f}[ ]*{`));let g=`{${p[1]}`;c=p[0],g=this.interpolate(g,o);const m=g.match(/'/g),x=g.match(/"/g);((m?.length??0)%2===0&&!x||x.length%2!==0)&&(g=g.replace(/'/g,'"'));try{o=JSON.parse(g),d&&(o={...d,...o})}catch(b){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,b),`${c}${f}${g}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;a=this.nestingRegexp.exec(t);){let c=[];o={...n},o=o.replace&&!Ie(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const d=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(d!==-1&&(c=a[1].slice(d).split(this.formatSeparator).map(f=>f.trim()).filter(Boolean),a[1]=a[1].slice(0,d)),i=r(s.call(this,a[1].trim(),o),o),i&&a[0]===t&&!Ie(i))return i;Ie(i)||(i=w0(i)),i||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),i=""),c.length&&(i=c.reduce((f,p)=>this.format(f,p,n.lng,{...n,interpolationkey:a[1].trim()}),i.trim())),t=t.replace(a[0],i),this.regexp.lastIndex=0}return t}}const HD=e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const a=n[1].substring(0,n[1].length-1);t==="currency"&&a.indexOf(":")<0?r.currency||(r.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?r.range||(r.range=a.trim()):a.split(";").forEach(o=>{if(o){const[s,...c]=o.split(":"),d=c.join(":").trim().replace(/^'+|'+$/g,""),f=s.trim();r[f]||(r[f]=d),d==="false"&&(r[f]=!1),d==="true"&&(r[f]=!0),isNaN(d)||(r[f]=parseInt(d,10))}})}return{formatName:t,formatOptions:r}},I0=e=>{const t={};return(r,n,a)=>{let i=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(i={...i,[a.interpolationkey]:void 0});const o=n+JSON.stringify(i);let s=t[o];return s||(s=e(il(n),a),t[o]=s),s(r)}},KD=e=>(t,r,n)=>e(il(r),n)(t);class ZD{constructor(t={}){this.logger=Hn.create("formatter"),this.options=t,this.init(t)}init(t,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?I0:KD;this.formats={number:n((a,i)=>{const o=new Intl.NumberFormat(a,{...i});return s=>o.format(s)}),currency:n((a,i)=>{const o=new Intl.NumberFormat(a,{...i,style:"currency"});return s=>o.format(s)}),datetime:n((a,i)=>{const o=new Intl.DateTimeFormat(a,{...i});return s=>o.format(s)}),relativetime:n((a,i)=>{const o=new Intl.RelativeTimeFormat(a,{...i});return s=>o.format(s,i.range||"day")}),list:n((a,i)=>{const o=new Intl.ListFormat(a,{...i});return s=>o.format(s)})}}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=I0(r)}format(t,r,n,a={}){const i=r.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(s=>s.indexOf(")")>-1)){const s=i.findIndex(c=>c.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,s)].join(this.formatSeparator)}return i.reduce((s,c)=>{const{formatName:d,formatOptions:f}=HD(c);if(this.formats[d]){let p=s;try{const g=a?.formatParams?.[a.interpolationkey]||{},m=g.locale||g.lng||a.locale||a.lng||n;p=this.formats[d](s,m,{...f,...a,...g})}catch(g){this.logger.warn(g)}return p}else this.logger.warn(`there was no format function for ${d}`);return s},t)}}const GD=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class YD extends Ju{constructor(t,r,n,a={}){super(),this.backend=t,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=a,this.logger=Hn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,a.backend,a)}queueLoad(t,r,n,a){const i={},o={},s={},c={};return t.forEach(d=>{let f=!0;r.forEach(p=>{const g=`${d}|${p}`;!n.reload&&this.store.hasResourceBundle(d,p)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?o[g]===void 0&&(o[g]=!0):(this.state[g]=1,f=!1,o[g]===void 0&&(o[g]=!0),i[g]===void 0&&(i[g]=!0),c[p]===void 0&&(c[p]=!0)))}),f||(s[d]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(c)}}loaded(t,r,n){const a=t.split("|"),i=a[0],o=a[1];r&&this.emit("failedLoading",i,o,r),!r&&n&&this.store.addResourceBundle(i,o,n,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&n&&(this.state[t]=0);const s={};this.queue.forEach(c=>{ID(c.loaded,[i],o),GD(c,t),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(d=>{s[d]||(s[d]={});const f=c.loaded[d];f.length&&f.forEach(p=>{s[d][p]===void 0&&(s[d][p]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(c=>!c.done)}read(t,r,n,a=0,i=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:n,tried:a,wait:i,callback:o});return}this.readingCalls++;const s=(d,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(d&&f&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,n,a+1,i*2,o)},i);return}o(d,f)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const d=c(t,r);d&&typeof d.then=="function"?d.then(f=>s(null,f)).catch(s):s(null,d)}catch(d){s(d)}return}return c(t,r,s)}prepareLoading(t,r,n={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Ie(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Ie(r)&&(r=[r]);const i=this.queueLoad(t,r,n,a);if(!i.toLoad.length)return i.pending.length||a(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(t,r,n){this.prepareLoading(t,r,{},n)}reload(t,r,n){this.prepareLoading(t,r,{reload:!0},n)}loadOne(t,r=""){const n=t.split("|"),a=n[0],i=n[1];this.read(a,i,"read",void 0,void 0,(o,s)=>{o&&this.logger.warn(`${r}loading namespace ${i} for language ${a} failed`,o),!o&&s&&this.logger.log(`${r}loaded namespace ${i} for language ${a}`,s),this.loaded(t,o,s)})}saveMissing(t,r,n,a,i,o={},s=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend?.create){const c={...o,isUpdate:i},d=this.backend.create.bind(this.backend);if(d.length<6)try{let f;d.length===5?f=d(t,r,n,a,c):f=d(t,r,n,a),f&&typeof f.then=="function"?f.then(p=>s(null,p)).catch(s):s(null,f)}catch(f){s(f)}else d(t,r,n,a,s,c)}!t||!t[0]||this.store.addResource(t[0],r,n,a)}}}const R0=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Ie(e[1])&&(t.defaultValue=e[1]),Ie(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(n=>{t[n]=r[n]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),M0=e=>(Ie(e.ns)&&(e.ns=[e.ns]),Ie(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Ie(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),Ic=()=>{},qD=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(r=>{typeof e[r]=="function"&&(e[r]=e[r].bind(e))})};class al extends Ju{constructor(t={},r){if(super(),this.options=M0(t),this.services={},this.logger=Hn,this.modules={external:[]},qD(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(t={},r){this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),t.defaultNS==null&&t.ns&&(Ie(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const n=R0();this.options={...n,...this.options,...M0(t)},this.options.interpolation={...n.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const a=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?Hn.init(a(this.modules.logger),this.options):Hn.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=ZD;const f=new E0(this.options);this.store=new C0(this.options.resources,this.options);const p=this.services;p.logger=Hn,p.resourceStore=this.store,p.languageUtils=f,p.pluralResolver=new UD(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),d&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(p.formatter=a(d),p.formatter.init&&p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new WD(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new YD(a(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",(m,...x)=>{this.emit(m,...x)}),this.modules.languageDetector&&(p.languageDetector=a(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=a(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new ou(this.services,this.options),this.translator.on("*",(m,...x)=>{this.emit(m,...x)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Ic),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...f)=>this.store[d](...f)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...f)=>(this.store[d](...f),this)});const s=$s(),c=()=>{const d=(f,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),s.resolve(p),r(f,p)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),s}loadResources(t,r=Ic){let n=r;const a=Ie(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if(a?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const i=[],o=s=>{if(!s||s==="cimode")return;this.services.languageUtils.toResolveHierarchy(s).forEach(d=>{d!=="cimode"&&i.indexOf(d)<0&&i.push(d)})};a?o(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload?.forEach?.(s=>o(s)),this.services.backendConnector.load(i,this.options.ns,s=>{!s&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(s)})}else n(null)}reloadResources(t,r,n){const a=$s();return typeof t=="function"&&(n=t,t=void 0),typeof r=="function"&&(n=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),n||(n=Ic),this.services.backendConnector.reload(t,r,i=>{a.resolve(),n(i)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&A1.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,r){this.isLanguageChangingTo=t;const n=$s();this.emit("languageChanging",t);const a=s=>{this.language=s,this.languages=this.services.languageUtils.toResolveHierarchy(s),this.resolvedLanguage=void 0,this.setResolvedLanguage(s)},i=(s,c)=>{c?this.isLanguageChangingTo===t&&(a(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,n.resolve((...d)=>this.t(...d)),r&&r(s,(...d)=>this.t(...d))},o=s=>{!t&&!s&&this.services.languageDetector&&(s=[]);const c=Ie(s)?s:s&&s[0],d=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Ie(s)?[s]:s);d&&(this.language||a(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector?.cacheUserLanguage?.(d)),this.loadResources(d,f=>{i(f,d)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),n}getFixedT(t,r,n){const a=(i,o,...s)=>{let c;typeof o!="object"?c=this.options.overloadTranslationOptionHandler([i,o].concat(s)):c={...o},c.lng=c.lng||a.lng,c.lngs=c.lngs||a.lngs,c.ns=c.ns||a.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||a.keyPrefix);const d=this.options.keySeparator||".";let f;return c.keyPrefix&&Array.isArray(i)?f=i.map(p=>`${c.keyPrefix}${d}${p}`):f=c.keyPrefix?`${c.keyPrefix}${d}${i}`:i,this.t(f,c)};return Ie(t)?a.lng=t:a.lngs=t,a.ns=r,a.keyPrefix=n,a}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(s,c)=>{const d=this.services.backendConnector.state[`${s}|${c}`];return d===-1||d===0||d===2};if(r.precheck){const s=r.precheck(this,o);if(s!==void 0)return s}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,t)&&(!a||o(i,t)))}loadNamespaces(t,r){const n=$s();return this.options.ns?(Ie(t)&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}loadLanguages(t,r){const n=$s();Ie(t)&&(t=[t]);const a=this.options.preload||[],i=t.filter(o=>a.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=a.concat(i),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const a=new Intl.Locale(t);if(a&&a.getTextInfo){const i=a.getTextInfo();if(i&&i.direction)return i.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services?.languageUtils||new E0(R0());return t.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},r){return new al(t,r)}cloneInstance(t={},r=Ic){const n=t.forkResourceStore;n&&delete t.forkResourceStore;const a={...this.options,...t,isClone:!0},i=new al(a);if((t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(s=>{i[s]=this[s]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n){const s=Object.keys(this.store.data).reduce((c,d)=>(c[d]={...this.store.data[d]},c[d]=Object.keys(c[d]).reduce((f,p)=>(f[p]={...c[d][p]},f),c[d]),c),{});i.store=new C0(s,a),i.services.resourceStore=i.store}return i.translator=new ou(i.services,a),i.translator.on("*",(s,...c)=>{i.emit(s,...c)}),i.init(a,r),i.translator.options=a,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const sr=al.createInstance();sr.createInstance=al.createInstance;sr.createInstance;sr.dir;sr.init;sr.loadResources;sr.reloadResources;sr.use;sr.changeLanguage;sr.getFixedT;sr.t;sr.exists;sr.setDefaultNamespace;sr.hasLoadedNamespace;sr.loadNamespaces;sr.loadLanguages;const VD=(e,t,r,n)=>{const a=[r,{code:t,...n||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);Ha(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...a):console?.warn&&console.warn(...a)},D0={},dp=(e,t,r,n)=>{Ha(r)&&D0[r]||(Ha(r)&&(D0[r]=new Date),VD(e,t,r,n))},S1=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},fp=(e,t,r)=>{e.loadNamespaces(t,S1(e,r))},$0=(e,t,r,n)=>{if(Ha(r)&&(r=[r]),e.options.preload&&e.options.preload.indexOf(t)>-1)return fp(e,r,n);r.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(t,S1(e,n))},XD=(e,t,r={})=>!t.languages||!t.languages.length?(dp(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:r.lng,precheck:(n,a)=>{if(r.bindI18n?.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!a(n.isLanguageChangingTo,e))return!1}}),Ha=e=>typeof e=="string",JD=e=>typeof e=="object"&&e!==null,QD=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,e$={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},t$=e=>e$[e],r$=e=>e.replace(QD,t$);let hp={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:r$};const n$=(e={})=>{hp={...hp,...e}},i$=()=>hp;let C1;const a$=e=>{C1=e},o$=()=>C1,s$={type:"3rdParty",init(e){n$(e.options.react),a$(e)}},l$=y.createContext();class c${constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const u$=(e,t)=>{const r=y.useRef();return y.useEffect(()=>{r.current=e},[e,t]),r.current},O1=(e,t,r,n)=>e.getFixedT(t,r,n),d$=(e,t,r,n)=>y.useCallback(O1(e,t,r,n),[e,t,r,n]),f$=(e,t={})=>{const{i18n:r}=t,{i18n:n,defaultNS:a}=y.useContext(l$)||{},i=r||n||o$();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new c$),!i){dp(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const C=(k,I)=>Ha(I)?I:JD(I)&&Ha(I.defaultValue)?I.defaultValue:Array.isArray(k)?k[k.length-1]:k,E=[C,{},!1];return E.t=C,E.i18n={},E.ready=!1,E}i.options.react?.wait&&dp(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...i$(),...i.options.react,...t},{useSuspense:s,keyPrefix:c}=o;let d=e;d=Ha(d)?[d]:d||["translation"],i.reportNamespaces.addUsedNamespaces?.(d);const f=(i.isInitialized||i.initializedStoreOnce)&&d.every(C=>XD(C,i,o)),p=d$(i,t.lng||null,o.nsMode==="fallback"?d:d[0],c),g=()=>p,m=()=>O1(i,t.lng||null,o.nsMode==="fallback"?d:d[0],c),[x,b]=y.useState(g);let _=d.join();t.lng&&(_=`${t.lng}${_}`);const j=u$(_),A=y.useRef(!0);y.useEffect(()=>{const{bindI18n:C,bindI18nStore:E}=o;A.current=!0,!f&&!s&&(t.lng?$0(i,t.lng,d,()=>{A.current&&b(m)}):fp(i,d,()=>{A.current&&b(m)})),f&&j&&j!==_&&A.current&&b(m);const k=()=>{A.current&&b(m)};return C&&i?.on(C,k),E&&i?.store.on(E,k),()=>{A.current=!1,i&&C?.split(" ").forEach(I=>i.off(I,k)),E&&i&&E.split(" ").forEach(I=>i.store.off(I,k))}},[i,_]),y.useEffect(()=>{A.current&&f&&b(g)},[i,c,f]);const S=[x,i,f];if(S.t=x,S.i18n=i,S.ready=f,f||!f&&!s)return S;throw new Promise(C=>{t.lng?$0(i,t.lng,d,()=>C()):fp(i,d,()=>C())})},{slice:h$,forEach:p$}=[];function g$(e){return p$.call(h$.call(arguments,1),t=>{if(t)for(const r in t)e[r]===void 0&&(e[r]=t[r])}),e}function m$(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(e))}const N0=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,v$=function(e,t){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(t);let i=`${e}=${a}`;if(n.maxAge>0){const o=n.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(o)}`}if(n.domain){if(!N0.test(n.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${n.domain}`}if(n.path){if(!N0.test(n.path))throw new TypeError("option path is invalid");i+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(i+="; Partitioned"),i},B0={create(e,t,r,n){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+r*60*1e3)),n&&(a.domain=n),document.cookie=v$(e,t,a)},read(e){const t=`${e}=`,r=document.cookie.split(";");for(let n=0;n<r.length;n++){let a=r[n];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(t)===0)return a.substring(t.length,a.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var y$={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return B0.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:r,cookieMinutes:n,cookieDomain:a,cookieOptions:i}=t;r&&typeof document<"u"&&B0.create(r,e,n,a,i)}},x$={name:"querystring",lookup(e){let{lookupQuerystring:t}=e,r;if(typeof window<"u"){let{search:n}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));const i=n.substring(1).split("&");for(let o=0;o<i.length;o++){const s=i[o].indexOf("=");s>0&&i[o].substring(0,s)===t&&(r=i[o].substring(s+1))}}return r}},b$={name:"hash",lookup(e){let{lookupHash:t,lookupFromHashIndex:r}=e,n;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const i=a.substring(1);if(t){const o=i.split("&");for(let s=0;s<o.length;s++){const c=o[s].indexOf("=");c>0&&o[s].substring(0,c)===t&&(n=o[s].substring(c+1))}}if(n)return n;if(!n&&r>-1){const o=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?o[typeof r=="number"?r:0]?.replace("/",""):void 0}}}return n}};let Ao=null;const F0=()=>{if(Ao!==null)return Ao;try{if(Ao=typeof window<"u"&&window.localStorage!==null,!Ao)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Ao=!1}return Ao};var _$={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&F0())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:r}=t;r&&F0()&&window.localStorage.setItem(r,e)}};let So=null;const z0=()=>{if(So!==null)return So;try{if(So=typeof window<"u"&&window.sessionStorage!==null,!So)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{So=!1}return So};var w$={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&z0())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:r}=t;r&&z0()&&window.sessionStorage.setItem(r,e)}},j$={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:r,userLanguage:n,language:a}=navigator;if(r)for(let i=0;i<r.length;i++)t.push(r[i]);n&&t.push(n),a&&t.push(a)}return t.length>0?t:void 0}},A$={name:"htmlTag",lookup(e){let{htmlTag:t}=e,r;const n=t||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},S$={name:"path",lookup(e){let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?r[typeof t=="number"?t:0]?.replace("/",""):void 0}},C$={name:"subdomain",lookup(e){let{lookupFromSubdomainIndex:t}=e;const r=typeof t=="number"?t+1:1,n=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[r]}};let P1=!1;try{document.cookie,P1=!0}catch{}const E1=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];P1||E1.splice(1,1);const O$=()=>({order:E1,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class T1{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,r)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=g$(r,this.options||{},O$()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(y$),this.addDetector(x$),this.addDetector(_$),this.addDetector(w$),this.addDetector(j$),this.addDetector(A$),this.addDetector(S$),this.addDetector(C$),this.addDetector(b$)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return t.forEach(n=>{if(this.detectors[n]){let a=this.detectors[n].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(r=r.concat(a))}}),r=r.filter(n=>n!=null&&!m$(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||r.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(t,this.options)}))}}T1.type="languageDetector";function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function L1(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":pp(XMLHttpRequest))==="object"}function P$(e){return!!e&&typeof e.then=="function"}function E$(e){return P$(e)?e:Promise.resolve(e)}const T$="modulepreload",L$=function(e){return"/archi-site/"+e},U0={},Qu=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=o?.nonce||o?.getAttribute("nonce");a=Promise.allSettled(r.map(c=>{if(c=L$(c),c in U0)return;U0[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":T$,d||(p.as="script"),p.crossOrigin="",p.href=c,s&&p.setAttribute("nonce",s),document.head.appendChild(p),d)return new Promise((g,m)=>{p.addEventListener("load",g),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return a.then(o=>{for(const s of o||[])s.status==="rejected"&&i(s.reason);return t().catch(i)})};function W0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function H0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W0(Object(r),!0).forEach(function(n){k$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k$(e,t,r){return(t=I$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I$(e){var t=R$(e,"string");return qa(t)=="symbol"?t:t+""}function R$(e,t){if(qa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qa(e){"@babel/helpers - typeof";return qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qa(e)}var ca=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?ca=global.fetch:typeof window<"u"&&window.fetch&&(ca=window.fetch);var ol;L1()&&(typeof global<"u"&&global.XMLHttpRequest?ol=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(ol=window.XMLHttpRequest));var su;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?su=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(su=window.ActiveXObject));typeof ca!="function"&&(ca=void 0);if(!ca&&!ol&&!su)try{Qu(()=>import("./browser-ponyfill-O6kbcU6U.js").then(e=>e.b),__vite__mapDeps([0,1])).then(function(e){ca=e.default}).catch(function(){})}catch{}var gp=function(t,r){if(r&&qa(r)==="object"){var n="";for(var a in r)n+="&"+encodeURIComponent(a)+"="+encodeURIComponent(r[a]);if(!n)return t;t=t+(t.indexOf("?")!==-1?"&":"?")+n.slice(1)}return t},K0=function(t,r,n,a){var i=function(c){if(!c.ok)return n(c.statusText||"Error",{status:c.status});c.text().then(function(d){n(null,{status:c.status,data:d})}).catch(n)};if(a){var o=a(t,r);if(o instanceof Promise){o.then(i).catch(n);return}}typeof fetch=="function"?fetch(t,r).then(i).catch(n):ca(t,r).then(i).catch(n)},Z0=!1,M$=function(t,r,n,a){t.queryStringParams&&(r=gp(r,t.queryStringParams));var i=H0({},typeof t.customHeaders=="function"?t.customHeaders():t.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(i["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),n&&(i["Content-Type"]="application/json");var o=typeof t.requestOptions=="function"?t.requestOptions(n):t.requestOptions,s=H0({method:n?"POST":"GET",body:n?t.stringify(n):void 0,headers:i},Z0?{}:o),c=typeof t.alternateFetch=="function"&&t.alternateFetch.length>=1?t.alternateFetch:void 0;try{K0(r,s,a,c)}catch(d){if(!o||Object.keys(o).length===0||!d.message||d.message.indexOf("not implemented")<0)return a(d);try{Object.keys(o).forEach(function(f){delete s[f]}),K0(r,s,a,c),Z0=!0}catch(f){a(f)}}},D$=function(t,r,n,a){n&&qa(n)==="object"&&(n=gp("",n).slice(1)),t.queryStringParams&&(r=gp(r,t.queryStringParams));try{var i=ol?new ol:new su("MSXML2.XMLHTTP.3.0");i.open(n?"POST":"GET",r,1),t.crossDomain||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.withCredentials=!!t.withCredentials,n&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.overrideMimeType&&i.overrideMimeType("application/json");var o=t.customHeaders;if(o=typeof o=="function"?o():o,o)for(var s in o)i.setRequestHeader(s,o[s]);i.onreadystatechange=function(){i.readyState>3&&a(i.status>=400?i.statusText:null,{status:i.status,data:i.responseText})},i.send(n)}catch(c){console&&console.log(c)}},$$=function(t,r,n,a){if(typeof n=="function"&&(a=n,n=void 0),a=a||function(){},ca&&r.indexOf("file:")!==0)return M$(t,r,n,a);if(L1()||typeof ActiveXObject=="function")return D$(t,r,n,a);a(new Error("No fetch and no xhr implementation found!"))};function Ko(e){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(e)}function G0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G0(Object(r),!0).forEach(function(n){k1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I1(n.key),n)}}function F$(e,t,r){return t&&B$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function k1(e,t,r){return(t=I1(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I1(e){var t=z$(e,"string");return Ko(t)=="symbol"?t:t+""}function z$(e,t){if(Ko(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var U$=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(r){return JSON.parse(r)},stringify:JSON.stringify,parsePayload:function(r,n,a){return k1({},n,a||"")},parseLoadPayload:function(r,n){},request:$$,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},R1=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};N$(this,e),this.services=t,this.options=r,this.allOptions=n,this.type="backend",this.init(t,r,n)}return F$(e,[{key:"init",value:function(r){var n=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=r,this.options=Sh(Sh(Sh({},U$()),this.options||{}),a),this.allOptions=i,this.services&&this.options.reloadInterval){var o=setInterval(function(){return n.reload()},this.options.reloadInterval);Ko(o)==="object"&&typeof o.unref=="function"&&o.unref()}}},{key:"readMulti",value:function(r,n,a){this._readAny(r,r,n,n,a)}},{key:"read",value:function(r,n,a){this._readAny([r],r,[n],n,a)}},{key:"_readAny",value:function(r,n,a,i,o){var s=this,c=this.options.loadPath;typeof this.options.loadPath=="function"&&(c=this.options.loadPath(r,a)),c=E$(c),c.then(function(d){if(!d)return o(null,{});var f=s.services.interpolator.interpolate(d,{lng:r.join("+"),ns:a.join("+")});s.loadUrl(f,o,n,i)})}},{key:"loadUrl",value:function(r,n,a,i){var o=this,s=typeof a=="string"?[a]:a,c=typeof i=="string"?[i]:i,d=this.options.parseLoadPayload(s,c);this.options.request(this.options,r,d,function(f,p){if(p&&(p.status>=500&&p.status<600||!p.status))return n("failed loading "+r+"; status code: "+p.status,!0);if(p&&p.status>=400&&p.status<500)return n("failed loading "+r+"; status code: "+p.status,!1);if(!p&&f&&f.message){var g=f.message.toLowerCase(),m=["failed","fetch","network","load"].find(function(_){return g.indexOf(_)>-1});if(m)return n("failed loading "+r+": "+f.message,!0)}if(f)return n(f,!1);var x,b;try{typeof p.data=="string"?x=o.options.parse(p.data,a,i):x=p.data}catch{b="failed parsing "+r+" to json"}if(b)return n(b,!1);n(null,x)})}},{key:"create",value:function(r,n,a,i,o){var s=this;if(this.options.addPath){typeof r=="string"&&(r=[r]);var c=this.options.parsePayload(n,a,i),d=0,f=[],p=[];r.forEach(function(g){var m=s.options.addPath;typeof s.options.addPath=="function"&&(m=s.options.addPath(g,n));var x=s.services.interpolator.interpolate(m,{lng:g,ns:n});s.options.request(s.options,x,c,function(b,_){d+=1,f.push(b),p.push(_),d===r.length&&typeof o=="function"&&o(f,p)})})}}},{key:"reload",value:function(){var r=this,n=this.services,a=n.backendConnector,i=n.languageUtils,o=n.logger,s=a.language;if(!(s&&s.toLowerCase()==="cimode")){var c=[],d=function(p){var g=i.toResolveHierarchy(p);g.forEach(function(m){c.indexOf(m)<0&&c.push(m)})};d(s),this.allOptions.preload&&this.allOptions.preload.forEach(function(f){return d(f)}),c.forEach(function(f){r.allOptions.ns.forEach(function(p){a.read(f,p,"read",null,null,function(g,m){g&&o.warn("loading namespace ".concat(p," for language ").concat(f," failed"),g),!g&&m&&o.log("loaded namespace ".concat(p," for language ").concat(f),m),a.loaded("".concat(f,"|").concat(p),g,m)})})})}}}])}();R1.type="backend";const W$={home:"Home",architecture:"Architecture",architects:"Architects",map:"Map",research:"Research",mobileMenu:"Main Navigation",desktopNavigation:"Desktop Navigation"},H$={title:"Architecture Database",subtitle:"A comprehensive database for searching and browsing Japanese architectural works and architects",searchPlaceholder:"Search by architectural work, architect, location, etc.",searchButton:"Search",statsArchitecture:"14,000+ Architecture Works",statsArchitects:"2,900+ Architects",statsNationwide:"Nationwide Coverage",recentWorks:"Recent Architectural Works",viewAllWorks:"View All Works",features:"Database Features",loadingDatabase:"Initializing database...",loadingProgress:"Loading large database...",dataLoadingText:"Loading 14,000 architectural work records",optimizedLoading:"High-speed loading with optimized data (1-3 seconds)",errorLoading:"Failed to load from database",networkSlow:"Internet connection may be slow. Please wait and reload the page.",checkConnection:"Please check your network connection.",retry:"Retry",openDiagnostics:"Open Diagnostic Tool",refresh:"Refresh",noWorksFound:"No architectural works found",checkDatabaseConnection:"Please check database connection"},K$={architecture:{title:"Architectural Works",description:"Browse over 14,000 architectural work information from all over Japan. Detailed search by region, era, category, etc. is possible.",button:"Find Works"},architects:{title:"Architects",description:"Contains information on over 2,900 architects. You can check detailed information such as career, work list, and affiliated office.",button:"Find Architects"},map:{title:"Map Display",description:"Visually explore architectural works on a map. Discover nearby architectural works based on location information.",button:"Open Map"}},Z$={skipToMain:"Skip to main content",skipToNavigation:"Skip to navigation",currentPage:"Current page",loading:"Loading",error:"Error",search:"Search",openMenu:"Open menu",closeMenu:"Close menu",pageOf:"Page {{current}} of {{total}}",resultsFound:"{{count}} results found",sortBy:"Sort by",filterBy:"Filter by"},G$={loading:"Loading...",error:"Error",retry:"Retry",close:"Close",open:"Open",search:"Search",clear:"Clear",apply:"Apply",cancel:"Cancel",save:"Save",edit:"Edit",delete:"Delete",view:"View",next:"Next",previous:"Previous",first:"First",last:"Last"},Y$={japanese:"日本語",english:"English",changeLanguage:"Change Language"},q$={navigation:W$,homepage:H$,features:K$,accessibility:Z$,common:G$,languages:Y$},V$={home:"ホーム",architecture:"建築作品",architects:"建築家",map:"マップ",research:"研究",mobileMenu:"メインナビゲーション",desktopNavigation:"デスクトップナビゲーション"},X$={title:"建築データベース",subtitle:"日本の建築作品と建築家を検索・閲覧できる包括的なデータベース",searchPlaceholder:"建築作品、建築家、住所などで検索",searchButton:"検索",statsArchitecture:"14,000+ 建築作品",statsArchitects:"2,900+ 建築家",statsNationwide:"全国対応",recentWorks:"最近の建築作品",viewAllWorks:"すべての作品を見る",features:"データベースの特徴",loadingDatabase:"データベースを初期化中...",loadingProgress:"大きなデータベースを読み込み中...",dataLoadingText:"14,000件の建築作品データを読み込み中です",optimizedLoading:"最適化されたデータで高速読み込み中（1-3秒）",errorLoading:"データベースからの読み込みに失敗しました",networkSlow:"インターネット接続が遅い可能性があります。しばらく待ってからページを再読み込みしてください。",checkConnection:"ネットワーク接続を確認してください。",retry:"再試行",openDiagnostics:"診断ツールを開く",refresh:"リフレッシュ",noWorksFound:"建築作品が見つかりませんでした",checkDatabaseConnection:"データベースの接続を確認してください"},J$={architecture:{title:"建築作品",description:"日本全国から14,000件以上の建築作品情報を閲覧できます。地域、年代、カテゴリーなどで詳細検索が可能です。",button:"作品を探す"},architects:{title:"建築家",description:"2,900人以上の建築家情報を収録。経歴、作品リスト、所属事務所などの詳細情報を確認できます。",button:"建築家を探す"},map:{title:"マップ表示",description:"建築作品を地図上で視覚的に探索できます。位置情報をもとに周辺の建築作品を発見できます。",button:"マップを開く"}},Q$={skipToMain:"メインコンテンツへスキップ",skipToNavigation:"ナビゲーションへスキップ",currentPage:"現在のページ",loading:"読み込み中",error:"エラー",search:"検索",openMenu:"メニューを開く",closeMenu:"メニューを閉じる",pageOf:"{{total}}ページ中{{current}}ページ",resultsFound:"{{count}}件の結果が見つかりました",sortBy:"並び替え",filterBy:"絞り込み"},eN={loading:"読み込み中...",error:"エラー",retry:"再試行",close:"閉じる",open:"開く",search:"検索",clear:"クリア",apply:"適用",cancel:"キャンセル",save:"保存",edit:"編集",delete:"削除",view:"表示",next:"次へ",previous:"前へ",first:"最初",last:"最後"},tN={japanese:"日本語",english:"English",changeLanguage:"言語を変更"},rN={navigation:V$,homepage:X$,features:J$,accessibility:Q$,common:eN,languages:tN},nN={en:{common:q$},ja:{common:rN}};sr.use(R1).use(T1).use(s$).init({resources:nN,fallbackLng:"ja",debug:!1,defaultNS:"common",ns:["common"],interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"],lookupLocalStorage:"i18nextLng",checkWhitelist:!0},backend:{loadPath:"/locales/{{lng}}/{{ns}}.json"},react:{useSuspense:!1,bindI18n:"languageChanged loaded",bindI18nStore:"added removed",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transKeepBasicHtmlNodesFor:["br","strong","i","em"]},supportedLngs:["ja","en"],load:"languageOnly",preload:["ja","en"],keySeparator:".",nsSeparator:":",returnEmptyString:!1,returnNull:!1,returnObjects:!1});const Rc=[{code:"ja",name:"日本語",nativeName:"日本語"},{code:"en",name:"English",nativeName:"English"}],Og=()=>{const{t:e,i18n:t}=f$("common"),r=(i,o)=>e(i,o),n=i=>t.changeLanguage(i),a=t.language;return{t:r,changeLanguage:n,currentLanguage:a,isReady:t.isInitialized}},Y0=({variant:e="button",size:t="medium",className:r=""})=>{const{t:n,changeLanguage:a,currentLanguage:i}=Og(),o=is(),[s,c]=y.useState(null),d=m=>{c(m.currentTarget)},f=()=>{c(null)},p=async m=>{try{await a(m),f();const x=document.createElement("div");x.setAttribute("aria-live","polite"),x.setAttribute("aria-atomic","true"),x.style.position="absolute",x.style.left="-10000px",x.textContent=`Language changed to ${Rc.find(b=>b.code===m)?.nativeName}`,document.body.appendChild(x),setTimeout(()=>{document.body.removeChild(x)},1e3)}catch(x){console.error("Failed to change language:",x)}},g=Rc.find(m=>m.code===i);return e==="icon"?u.jsxs(D,{className:r,children:[u.jsx(Pe,{size:t,onClick:d,startIcon:u.jsx(c0,{}),"aria-label":n("languages.changeLanguage"),"aria-expanded":!!s,"aria-haspopup":"menu",sx:{minWidth:"auto",px:1,"&:hover":{backgroundColor:Br(o.palette.primary.main,.08)}},children:g?.code.toUpperCase()}),u.jsx(u0,{anchorEl:s,open:!!s,onClose:f,MenuListProps:{"aria-labelledby":"language-button",role:"menu"},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},sx:{"& .MuiPaper-root":{minWidth:160,mt:1,borderRadius:2,boxShadow:o.shadows[3]}},children:Rc.map(m=>u.jsxs(Qe,{onClick:()=>p(m.code),selected:m.code===i,role:"menuitemradio","aria-checked":m.code===i,sx:{py:1.5,px:2,"&.Mui-selected":{backgroundColor:Br(o.palette.primary.main,.12),"&:hover":{backgroundColor:Br(o.palette.primary.main,.16)}}},children:[u.jsx(ko,{sx:{minWidth:32},children:m.code===i&&u.jsx(d0,{fontSize:"small",color:"primary","aria-hidden":"true"})}),u.jsx(Ar,{primary:m.nativeName,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:m.code===i?600:400}})]},m.code))})]}):u.jsxs(D,{className:r,children:[u.jsx(Pe,{size:t,variant:"outlined",onClick:d,startIcon:u.jsx(c0,{}),"aria-label":n("languages.changeLanguage"),"aria-expanded":!!s,"aria-haspopup":"menu",sx:{borderRadius:2,textTransform:"none",fontWeight:500,px:2,py:1,"&:hover":{borderColor:o.palette.primary.main,backgroundColor:Br(o.palette.primary.main,.04)}},children:g?.nativeName}),u.jsx(u0,{anchorEl:s,open:!!s,onClose:f,MenuListProps:{"aria-labelledby":"language-button",role:"menu"},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},sx:{"& .MuiPaper-root":{minWidth:180,mt:1,borderRadius:2,boxShadow:o.shadows[4],border:`1px solid ${o.palette.divider}`}},children:Rc.map(m=>u.jsxs(Qe,{onClick:()=>p(m.code),selected:m.code===i,role:"menuitemradio","aria-checked":m.code===i,sx:{py:1.5,px:2,"&.Mui-selected":{backgroundColor:Br(o.palette.primary.main,.12),"&:hover":{backgroundColor:Br(o.palette.primary.main,.16)}}},children:[u.jsx(ko,{sx:{minWidth:36},children:m.code===i&&u.jsx(d0,{fontSize:"small",color:"primary","aria-hidden":"true"})}),u.jsx(Ar,{children:u.jsxs(D,{children:[u.jsx(D,{component:"span",sx:{fontWeight:m.code===i?600:400,fontSize:"0.875rem"},children:m.nativeName}),u.jsx(D,{component:"span",sx:{display:"block",fontSize:"0.75rem",color:"text.secondary",mt:.25},children:m.name})]})})]},m.code))})]})},iN=e=>{const t=["a[href]","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[tabindex]:not([tabindex="-1"])','[contenteditable="true"]'];return Array.from(e.querySelectorAll(t.join(", ")))},aN=(e,t,r,n,a,i)=>{y.useEffect(()=>{const o=s=>{switch(s.key){case"Escape":e?.();break;case"Enter":break;case"ArrowUp":s.preventDefault();break;case"ArrowDown":s.preventDefault();break}};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[e,t,r,n,a,i])},oN=e=>{const t=y.useRef(null);return y.useEffect(()=>{if(!e||!t.current)return;const r=t.current,n=iN(r);if(n.length===0)return;const a=n[0],i=n[n.length-1];a.focus();const o=s=>{s.key==="Tab"&&(s.shiftKey?document.activeElement===a&&(s.preventDefault(),i.focus()):document.activeElement===i&&(s.preventDefault(),a.focus()))};return r.addEventListener("keydown",o),()=>{r.removeEventListener("keydown",o)}},[e]),t},sN=({message:e,level:t="polite",className:r=""})=>u.jsx("div",{"aria-live":t,"aria-atomic":"true",className:`sr-only ${r}`,style:{position:"absolute",left:"-10000px",width:"1px",height:"1px",overflow:"hidden"},children:e}),lN=()=>{const[e,t]=y.useState(!1);return y.useEffect(()=>{const r=window.matchMedia("(prefers-contrast: high)");t(r.matches);const n=a=>{t(a.matches)};return r.addEventListener("change",n),()=>r.removeEventListener("change",n)},[]),e},cN=(e,t,r,n,a,i,o,s,c)=>{const d={};return d["aria-label"]=e,d},q0=({variant:e="icon",size:t="medium",className:r="",onToggle:n})=>{Og();const a=is(),i=lN(),[o,s]=y.useState(()=>{const f=localStorage.getItem("highContrast");return f!==null?f==="true":i});y.useEffect(()=>{localStorage.setItem("highContrast",o.toString())},[o]),y.useEffect(()=>{const f=document.documentElement;o?(f.classList.add("high-contrast-mode"),f.style.setProperty("--primary-color","#000000"),f.style.setProperty("--secondary-color","#FFFFFF"),f.style.setProperty("--background-color","#FFFFFF"),f.style.setProperty("--text-color","#000000"),f.style.setProperty("--border-color","#000000")):(f.classList.remove("high-contrast-mode"),f.style.removeProperty("--primary-color"),f.style.removeProperty("--secondary-color"),f.style.removeProperty("--background-color"),f.style.removeProperty("--text-color"),f.style.removeProperty("--border-color"))},[o]);const c=y.useCallback(()=>{const f=!o;s(f),n?.(f);const p=document.createElement("div");p.setAttribute("aria-live","polite"),p.setAttribute("aria-atomic","true"),p.style.position="absolute",p.style.left="-10000px",p.textContent=f?"ハイコントラストモードが有効になりました":"ハイコントラストモードが無効になりました",document.body.appendChild(p),setTimeout(()=>{document.body.removeChild(p)},1e3)},[o,n]),d=cN("ハイコントラストモードの切り替え");return e==="switch"?u.jsx(D,{className:r,children:u.jsx(Un,{control:u.jsx(oa,{checked:o,onChange:c,size:t,...d,sx:{"& .MuiSwitch-track":{backgroundColor:o?a.palette.common.black:a.palette.grey[400]},"& .MuiSwitch-thumb":{backgroundColor:a.palette.common.white,border:o?`2px solid ${a.palette.common.black}`:"none"},"&:focus-within .MuiSwitch-thumb":{outline:`2px solid ${a.palette.secondary.main}`,outlineOffset:2}}}),label:"ハイコントラスト",labelPlacement:"start",sx:{"& .MuiFormControlLabel-label":{fontSize:t==="large"?"1.125rem":t==="small"?"0.875rem":"1rem",fontWeight:500,color:o?a.palette.common.black:"inherit"}}})}):u.jsx(D,{className:r,children:u.jsx(_t,{title:o?"ハイコントラストモードを無効にする":"ハイコントラストモードを有効にする",arrow:!0,children:u.jsx(wt,{onClick:c,size:t,...d,sx:{color:o?a.palette.common.black:"inherit",backgroundColor:o?Br(a.palette.common.black,.08):"transparent",border:o?`2px solid ${a.palette.common.black}`:"2px solid transparent","&:hover":{backgroundColor:o?Br(a.palette.common.black,.12):Br(a.palette.primary.main,.08)},"&:focus-visible":{outline:`2px solid ${a.palette.secondary.main}`,outlineOffset:2}},children:u.jsx(rM,{fontSize:t,sx:{color:o?a.palette.common.black:"inherit"}})})})})},uN=[{titleKey:"navigation.home",path:"/",icon:u.jsx(oM,{})},{titleKey:"navigation.architecture",path:"/architecture",icon:u.jsx(Vc,{})},{titleKey:"navigation.architects",path:"/architects",icon:u.jsx(Gs,{})},{titleKey:"navigation.map",path:"/map",icon:u.jsx(_i,{})},{titleKey:"navigation.research",path:"/research",icon:u.jsx(n1,{})},{titleKey:"navigation.analytics",path:"/analytics",icon:u.jsx(sM,{})}],dN=()=>{const t=Xu().pathname,r=is(),n=Uo(r.breakpoints.down("sm")),[a,i]=y.useState(!1),{t:o}=Og(),s=oN(a),c=uN.map(f=>({...f,ariaLabel:o(f.titleKey)})),d=f=>p=>{p.type==="keydown"&&(p.key==="Tab"||p.key==="Shift")||i(f)};return aN(()=>i(!1),void 0,void 0,void 0,void 0,void 0),u.jsx(nM,{position:"static",color:"primary",component:"nav",role:"navigation","aria-label":o("navigation.mobileMenu"),id:"navigation",children:u.jsxs(iM,{children:[u.jsx(R,{variant:"h6",component:Mt,to:"/","data-testid":"site-title","aria-label":o("homepage.title"),sx:{flexGrow:1,color:"white",textDecoration:"none",fontWeight:"bold","&:focus":{outline:"2px solid white",outlineOffset:"2px",borderRadius:1}},children:o("homepage.title")}),u.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1,mr:2},children:[u.jsx(q0,{variant:"icon",size:"small"}),u.jsx(Y0,{variant:"icon",size:"small"})]}),n?u.jsxs(u.Fragment,{children:[u.jsx(wt,{edge:"end",color:"inherit","aria-label":o("accessibility.openMenu"),"aria-expanded":a,"aria-controls":"mobile-drawer","data-testid":"mobile-menu-button",onClick:d(!0),sx:{"&:focus":{outline:"2px solid white",outlineOffset:"2px"}},children:u.jsx(aM,{})}),u.jsx(r1,{anchor:"right",open:a,onClose:d(!1),id:"mobile-drawer",ModalProps:{"aria-labelledby":"drawer-title","aria-describedby":"drawer-description"},children:u.jsxs(D,{ref:s,sx:{width:280},role:"presentation",children:[u.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:2},children:[u.jsx(R,{variant:"h6",id:"drawer-title",sx:{fontWeight:"bold"},children:o("navigation.mobileMenu")}),u.jsx(wt,{onClick:d(!1),"aria-label":o("accessibility.closeMenu"),sx:{"&:focus":{outline:"2px solid currentColor",outlineOffset:"2px"}},children:u.jsx(eu,{})})]}),u.jsx(un,{}),u.jsx(Wn,{role:"menu","aria-label":o("navigation.mobileMenu"),sx:{pt:1},children:c.map(({titleKey:f,path:p,icon:g,ariaLabel:m})=>u.jsxs(dn,{component:Mt,to:p,role:"menuitem","aria-label":m,"aria-current":t===p?"page":void 0,"data-testid":`nav-link-${m?.toLowerCase()}`,onClick:d(!1),sx:{color:t===p?"primary.main":"text.primary",backgroundColor:t===p?"rgba(0, 0, 0, 0.08)":"transparent",fontWeight:t===p?"bold":"normal",borderRadius:1,mx:1,mb:.5,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"},"&:focus":{outline:"2px solid currentColor",outlineOffset:"2px"}},children:[u.jsx(D,{sx:{mr:2,display:"flex",alignItems:"center"},children:g}),u.jsx(Ar,{primary:o(f),primaryTypographyProps:{fontWeight:t===p?"bold":"normal"}})]},f))}),u.jsx(un,{sx:{mt:2}}),u.jsxs(D,{sx:{p:2,display:"flex",flexDirection:"column",gap:2},children:[u.jsx(q0,{variant:"switch",size:"small"}),u.jsx(Y0,{variant:"button",size:"small"})]})]})})]}):u.jsx(D,{sx:{display:"flex",alignItems:"center"},role:"menubar","aria-label":o("navigation.desktopNavigation"),children:c.map(({titleKey:f,path:p,ariaLabel:g})=>u.jsx(Pe,{component:Mt,to:p,color:"inherit",role:"menuitem","aria-label":g,"aria-current":t===p?"page":void 0,"data-testid":`nav-link-${g?.toLowerCase()}`,sx:{mx:1,fontWeight:t===p?"bold":"normal",borderBottom:t===p?"2px solid white":"none","&:focus":{outline:"2px solid white",outlineOffset:"2px",borderRadius:1}},children:o(f)},f))})]})})},fN=()=>u.jsx(D,{component:"footer",role:"contentinfo","data-testid":"footer",sx:{py:3,px:2,mt:"auto",backgroundColor:"primary.main",color:"white"},children:u.jsx(hr,{maxWidth:"sm",children:u.jsxs(R,{variant:"body1",align:"center",children:["建築データベース © ",new Date().getFullYear()]})})}),hN=({variant:e="card",count:t=6})=>{const r=()=>u.jsx(St,{sx:{height:"100%"},children:u.jsxs(Ct,{children:[u.jsx(Yt,{variant:"text",height:40,sx:{mb:1}}),u.jsx(Yt,{variant:"text",height:20,sx:{mb:1}}),u.jsx(Yt,{variant:"text",height:20,width:"60%"})]})}),n=()=>u.jsxs(D,{sx:{p:2},children:[u.jsx(Yt,{variant:"text",height:32,sx:{mb:1}}),u.jsx(Yt,{variant:"text",height:24,sx:{mb:1}}),u.jsx(Yt,{variant:"text",height:20,width:"40%"})]}),a=()=>u.jsx(hr,{maxWidth:"lg",children:u.jsxs(D,{sx:{textAlign:"center",py:8},children:[u.jsx(Yt,{variant:"text",height:60,sx:{mb:2}}),u.jsx(Yt,{variant:"text",height:30,sx:{mb:4}}),u.jsx(D,{sx:{display:"flex",justifyContent:"center",mb:4},children:u.jsx(Yt,{variant:"rectangular",width:500,height:56,sx:{borderRadius:1}})})]})}),i=()=>u.jsx(Yt,{variant:"rectangular",width:"100%",height:400,sx:{borderRadius:2}});return e==="hero"?a():e==="map"?i():e==="list"?u.jsx(D,{children:Array.from({length:t}).map((o,s)=>u.jsx(D,{sx:{borderBottom:"1px solid #e0e0e0"},children:n()},s))}):u.jsx(ue,{container:!0,spacing:4,children:Array.from({length:t}).map((o,s)=>u.jsx(ue,{item:!0,xs:12,sm:6,md:4,children:r()},s))})},pN=()=>{const[e,t]=y.useState(""),[r,n]=y.useState([]),[a,i]=y.useState(!0),[o,s]=y.useState(null),[c,d]=y.useState(!1),[f,p]=y.useState(null);y.useEffect(()=>{const _=S=>{const{progress:C,speed:E,eta:k,receivedLength:I,totalLength:U}=S.detail;p({progress:C,speed:E,eta:k,receivedLength:I,totalLength:U})};window.addEventListener("database-download-progress",_);const j=setTimeout(()=>{console.warn("Emergency timeout: forcing app to render without data after 30 seconds"),i(!1),d(!1),s("データの読み込みがタイムアウトしました（30秒）。ネットワーク接続を確認してください。")},3e4);return(async()=>{try{i(!0),s(null),console.log("最近の建築作品を取得中...");const{getAllArchitectures:S}=await Qu(async()=>{const{getAllArchitectures:I}=await Promise.resolve().then(()=>mN);return{getAllArchitectures:I}},void 0),C=new Promise((I,U)=>{setTimeout(()=>U(new Error("データの読み込みがタイムアウトしました（30秒）。ネットワーク接続を確認してください。")),3e4)}),E=S(1,6),k=await Promise.race([E,C]);clearTimeout(j),n(k.results||[]),d(!0),console.log("建築作品の取得に成功しました",k)}catch(S){console.error("建築作品の取得に失敗:",S),clearTimeout(j);let C=S.message||"データベースからの読み込みに失敗しました";S.message?.includes("timeout")?C+=" インターネット接続が遅い可能性があります。しばらく待ってからページを再読み込みしてください。":S.message?.includes("fetch")&&(C+=" ネットワーク接続を確認してください。"),s(C),d(!1)}finally{i(!1)}})(),()=>{clearTimeout(j),window.removeEventListener("database-download-progress",_)}},[]);const g=_=>{_.preventDefault(),e.trim()&&(window.location.href=`#/architecture?search=${encodeURIComponent(e)}`)},m=()=>{s(null),i(!0),p(null),window.location.reload()},x=_=>_<1024?`${Math.round(_)} B/s`:_<1024*1024?`${Math.round(_/1024)} KB/s`:`${Math.round(_/1024/1024)} MB/s`,b=_=>_<60?`${Math.round(_)}s`:_<3600?`${Math.round(_/60)}m ${Math.round(_%60)}s`:`${Math.round(_/3600)}h ${Math.round(_%3600/60)}m`;return u.jsxs(hr,{maxWidth:"lg","data-testid":"homepage-container",children:[u.jsx(Ta,{in:!0,timeout:1e3,children:u.jsxs(D,{component:"section",role:"banner","aria-labelledby":"main-heading",sx:{pt:8,pb:6,textAlign:"center",background:"linear-gradient(135deg, #ECEFF4 0%, #D8DEE9 100%)",borderRadius:3,mb:6,position:"relative",overflow:"hidden"},children:[u.jsx(D,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,opacity:.1,background:"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(46, 52, 64, 0.1) 10px, rgba(46, 52, 64, 0.1) 20px)"}}),u.jsxs(D,{sx:{position:"relative",zIndex:1},children:[u.jsx(R,{component:"h1",variant:"h1",align:"center",color:"text.primary",gutterBottom:!0,id:"main-heading",sx:{background:"linear-gradient(135deg, #2E3440 0%, #4C566A 100%)",backgroundClip:"text",WebkitBackgroundClip:"text",color:"transparent",mb:2},children:"建築データベース"}),u.jsxs(R,{variant:"h5",align:"center",color:"text.secondary",paragraph:!0,sx:{mb:4,maxWidth:600,mx:"auto"},children:["日本の建築作品と建築家を検索・閲覧できる",u.jsx("br",{}),"包括的なデータベース"]}),u.jsxs(Ys,{direction:"row",spacing:3,justifyContent:"center",sx:{mb:4},children:[u.jsx($e,{icon:u.jsx(Vc,{}),label:"14,000+ 建築作品",color:"primary",variant:"outlined"}),u.jsx($e,{icon:u.jsx(Gs,{}),label:"2,900+ 建築家",color:"secondary",variant:"outlined"}),u.jsx($e,{icon:u.jsx(_i,{}),label:"全国対応",color:"info",variant:"outlined"})]}),u.jsx(Ta,{in:!0,timeout:1500,children:u.jsxs(D,{component:"form",onSubmit:g,role:"search","aria-label":"建築作品検索",sx:{mt:4,display:"flex",justifyContent:"center",alignItems:"center",maxWidth:600,mx:"auto",gap:2},children:[u.jsx(Oi,{fullWidth:!0,variant:"outlined",placeholder:"建築作品、建築家、住所などで検索",value:e,onChange:_=>t(_.target.value),inputProps:{"aria-label":"建築作品検索","data-testid":"search-input",role:"searchbox"},sx:{"& .MuiOutlinedInput-root":{backgroundColor:"white",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"}}}),u.jsx(Pe,{type:"submit",variant:"contained",color:"primary",startIcon:u.jsx(as,{}),size:"large","data-testid":"search-button",sx:{px:3,py:1.5,minWidth:120},children:"検索"})]})}),!c&&a&&u.jsx(D,{sx:{mt:4,maxWidth:600,mx:"auto"},children:f?u.jsxs(ke,{sx:{p:3,background:"rgba(255, 255, 255, 0.9)",borderRadius:2},children:[u.jsx(R,{variant:"h6",gutterBottom:!0,sx:{color:"primary.main"},children:"📦 大きなデータベースを読み込み中..."}),u.jsxs(D,{sx:{mb:2},children:[u.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:1},children:[u.jsx(In,{variant:"determinate",value:f.progress,size:24,sx:{mr:2}}),u.jsxs(R,{variant:"body2",color:"text.secondary",children:[f.progress,"% • ",Math.round(f.receivedLength/1024/1024)," MB / ",Math.round(f.totalLength/1024/1024)," MB"]})]}),u.jsx(yi,{variant:"determinate",value:f.progress,sx:{height:8,borderRadius:4}})]}),u.jsxs(Ys,{direction:"row",spacing:2,sx:{fontSize:"0.875rem",color:"text.secondary"},children:[u.jsxs(D,{children:["📊 ",x(f.speed)]}),u.jsxs(D,{children:["⏱️ ETA: ",b(f.eta)]})]}),u.jsx(R,{variant:"body2",sx:{mt:1,fontStyle:"italic",color:"text.secondary"},children:"最適化されたデータを読み込み中です。通常1-3秒で完了します。"})]}):u.jsxs(ke,{sx:{p:3,background:"rgba(255, 255, 255, 0.9)",borderRadius:2},children:[u.jsxs(D,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:2},children:[u.jsx(In,{size:24,sx:{mr:2}}),u.jsx(R,{variant:"h6",sx:{color:"primary.main"},children:"データベースを初期化中..."})]}),u.jsxs(R,{variant:"body2",color:"text.secondary",align:"center",children:["14,000件の建築作品データを読み込み中です",u.jsx("br",{}),u.jsx("em",{children:"最適化されたデータで高速読み込み中（1-3秒）"})]})]})})]})]})}),u.jsxs(D,{component:"section","aria-labelledby":"recent-works-heading",sx:{py:4},children:[u.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[u.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:2},children:[u.jsx(Wo,{color:"primary"}),u.jsx(R,{variant:"h4",fontWeight:"bold",id:"recent-works-heading",component:"h2",children:"最近の建築作品"})]}),c&&u.jsx(_t,{title:"リフレッシュ",children:u.jsx(wt,{onClick:()=>window.location.reload(),color:"primary",children:u.jsx(Ho,{})})})]}),o&&u.jsx(Ta,{in:!0,children:u.jsx(kn,{severity:"error",sx:{mb:3,borderRadius:2,"& .MuiAlert-message":{display:"flex",alignItems:"center",gap:2}},children:u.jsxs(D,{children:[o,u.jsx(Ys,{direction:"row",spacing:2,sx:{mt:2},children:u.jsx(Pe,{size:"small",variant:"contained",color:"primary",onClick:m,startIcon:u.jsx(Ho,{}),children:"再試行"})})]})})}),a?u.jsx(hN,{variant:"card",count:6}):r&&r.length>0?u.jsx(Ta,{in:!0,timeout:800,children:u.jsx(ue,{container:!0,spacing:4,children:r.map((_,j)=>u.jsx(ue,{item:!0,xs:12,sm:6,md:4,children:u.jsx(Ta,{in:!0,timeout:1e3+j*200,children:u.jsx(St,{sx:{height:"100%",display:"flex",flexDirection:"column",background:"linear-gradient(135deg, #FFFFFF 0%, #F8F9FA 100%)",border:"1px solid #E5E9F0","&:hover":{"& .card-content":{transform:"translateY(-2px)"}}},children:u.jsx(Vu,{component:Mt,to:`/architecture/${_.id}`,sx:{height:"100%"},children:u.jsxs(Ct,{className:"card-content",sx:{flexGrow:1,transition:"transform 0.3s ease-in-out",p:3},children:[u.jsx(R,{gutterBottom:!0,variant:"h6",component:"h3",sx:{fontWeight:600,color:"text.primary",mb:2,lineHeight:1.3},children:_.title}),u.jsxs(Ys,{spacing:1,children:[u.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1},children:[u.jsx(Gs,{fontSize:"small",color:"secondary"}),u.jsx(R,{variant:"body2",color:"text.secondary",children:_.architect||"建築家不明"})]}),u.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1},children:[u.jsx(_i,{fontSize:"small",color:"secondary"}),u.jsxs(R,{variant:"body2",color:"text.secondary",children:[_.address||"場所不明"," • ",_.year&&_.year!==0?_.year+"年":"年代不明"]})]})]})]})})})})},_.id))})}):u.jsxs(ke,{sx:{p:6,textAlign:"center",background:"linear-gradient(135deg, #F8F9FA 0%, #ECEFF4 100%)"},children:[u.jsx(R,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"建築作品が見つかりませんでした"}),u.jsx(R,{variant:"body2",color:"text.secondary",children:"データベースの接続を確認してください"})]}),c&&u.jsx(Ta,{in:!0,timeout:1200,children:u.jsx(D,{sx:{display:"flex",justifyContent:"center",mt:4},children:u.jsx(Pe,{variant:"outlined",color:"primary",component:Mt,to:"/architecture",size:"large",sx:{px:4,py:1.5,borderWidth:2,"&:hover":{borderWidth:2}},children:"すべての作品を見る"})})})]}),u.jsx(un,{sx:{my:6}}),u.jsx(Ta,{in:!0,timeout:1400,children:u.jsxs(D,{component:"section","aria-labelledby":"features-heading",sx:{mb:6},children:[u.jsx(R,{variant:"h4",align:"center",gutterBottom:!0,id:"features-heading",component:"h2",sx:{mb:4,fontWeight:"bold"},children:"データベースの特徴"}),u.jsxs(ue,{container:!0,spacing:4,children:[u.jsx(ue,{item:!0,xs:12,md:4,children:u.jsxs(St,{sx:{height:"100%",display:"flex",flexDirection:"column",background:"linear-gradient(135deg, #88C0D0 0%, #5E81AC 100%)",color:"white",position:"relative",overflow:"hidden"},children:[u.jsx(D,{sx:{position:"absolute",top:-20,right:-20,opacity:.2},children:u.jsx(Vc,{sx:{fontSize:100}})}),u.jsxs(Ct,{sx:{position:"relative",zIndex:1,p:3},children:[u.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:2},children:[u.jsx(Vc,{sx:{mr:2,fontSize:32}}),u.jsx(R,{variant:"h5",fontWeight:"bold",children:"建築作品"})]}),u.jsx(R,{paragraph:!0,sx:{mb:3,opacity:.9},children:"日本全国から14,000件以上の建築作品情報を閲覧できます。地域、年代、カテゴリーなどで詳細検索が可能です。"}),u.jsx(Pe,{variant:"contained",component:Mt,to:"/architecture",sx:{mt:"auto",backgroundColor:"rgba(255, 255, 255, 0.2)",color:"white","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.3)"}},children:"作品を探す"})]})]})}),u.jsx(ue,{item:!0,xs:12,md:4,children:u.jsxs(St,{sx:{height:"100%",display:"flex",flexDirection:"column",background:"linear-gradient(135deg, #D08770 0%, #BF616A 100%)",color:"white",position:"relative",overflow:"hidden"},children:[u.jsx(D,{sx:{position:"absolute",top:-20,right:-20,opacity:.2},children:u.jsx(Gs,{sx:{fontSize:100}})}),u.jsxs(Ct,{sx:{position:"relative",zIndex:1,p:3},children:[u.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:2},children:[u.jsx(Gs,{sx:{mr:2,fontSize:32}}),u.jsx(R,{variant:"h5",fontWeight:"bold",children:"建築家"})]}),u.jsx(R,{paragraph:!0,sx:{mb:3,opacity:.9},children:"2,900人以上の建築家情報を収録。経歴、作品リスト、所属事務所などの詳細情報を確認できます。"}),u.jsx(Pe,{variant:"contained",component:Mt,to:"/architects",sx:{mt:"auto",backgroundColor:"rgba(255, 255, 255, 0.2)",color:"white","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.3)"}},children:"建築家を探す"})]})]})}),u.jsx(ue,{item:!0,xs:12,md:4,children:u.jsxs(St,{sx:{height:"100%",display:"flex",flexDirection:"column",background:"linear-gradient(135deg, #A3BE8C 0%, #8CAF69 100%)",color:"white",position:"relative",overflow:"hidden"},children:[u.jsx(D,{sx:{position:"absolute",top:-20,right:-20,opacity:.2},children:u.jsx(_i,{sx:{fontSize:100}})}),u.jsxs(Ct,{sx:{position:"relative",zIndex:1,p:3},children:[u.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:2},children:[u.jsx(_i,{sx:{mr:2,fontSize:32}}),u.jsx(R,{variant:"h5",fontWeight:"bold",children:"マップ表示"})]}),u.jsx(R,{paragraph:!0,sx:{mb:3,opacity:.9},children:"建築作品を地図上で視覚的に探索できます。位置情報をもとに周辺の建築作品を発見できます。"}),u.jsx(Pe,{variant:"contained",component:Mt,to:"/map",sx:{mt:"auto",backgroundColor:"rgba(255, 255, 255, 0.2)",color:"white","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.3)"}},children:"マップを開く"})]})]})})]})]})})]})};class gN{baseUrl;cache=new Map;searchIndex=null;allItems=new Map;initialized=!1;metadata=null;constructor(){this.baseUrl="/archi-site/data",console.log("🚀 FastArchitectureService initialized with baseUrl:",this.baseUrl)}async initialize(){if(!this.initialized)try{console.log("📋 Loading search index...");const t=await fetch(`${this.baseUrl}/search_index.json`);if(!t.ok)throw new Error(`Failed to load search index: ${t.status}`);this.searchIndex=await t.json(),console.log("✅ Search index loaded successfully");const r=await fetch(`${this.baseUrl}/metadata.json`);r.ok?(this.metadata=await r.json(),console.log(`📊 Database info: ${this.metadata.total_items.toLocaleString()} items in ${this.metadata.total_pages} pages`)):this.metadata={total_items:14467,total_pages:290},this.initialized=!0}catch(t){throw console.error("❌ Failed to initialize FastArchitectureService:",t),t}}async loadPage(t){const r=`page_${t}`;if(this.cache.has(r))return this.cache.get(r);try{const n=await fetch(`${this.baseUrl}/page_${t}.json`);if(!n.ok)throw new Error(`Failed to load page ${t}: ${n.status}`);const a=await n.json();return this.cache.set(r,a),a.items.forEach(i=>{this.allItems.set(i.id,i)}),console.log(`✅ Loaded page ${t} with ${a.items.length} items`),a}catch(n){throw console.error(`❌ Failed to load page ${t}:`,n),n}}async getAllArchitectures(t=1,r=20){try{await this.initialize();const n=await this.loadPage(t);return{results:n.items.slice(0,r),total:this.metadata?.total_items||n.total_items,page:t,total_pages:this.metadata?.total_pages||n.total_pages,has_more:t<(this.metadata?.total_pages||n.total_pages)}}catch(n){throw console.error("❌ getAllArchitectures error:",n),n}}async searchArchitectures(t="",r={},n=1,a=20){try{if(await this.initialize(),!this.searchIndex)throw new Error("Search index not loaded");let i=new Set,o=!0;if(t.trim()){const x=t.toLowerCase(),b=new Set;Object.entries(this.searchIndex.titles).forEach(([_,j])=>{(_.includes(x)||x.includes(_))&&j.forEach(A=>b.add(A))}),Object.entries(this.searchIndex.architects).forEach(([_,j])=>{(_.includes(x)||x.includes(_))&&j.forEach(A=>b.add(A))}),o?(i=b,o=!1):i=new Set([...i].filter(_=>b.has(_)))}if(r.architect){const x=r.architect.toLowerCase(),b=new Set;Object.entries(this.searchIndex.architects).forEach(([_,j])=>{_.includes(x)&&j.forEach(A=>b.add(A))}),o?(i=b,o=!1):i=new Set([...i].filter(_=>b.has(_)))}if(r.year){const x=r.year+".0",b=this.searchIndex.years[x]||[],_=new Set(b);console.log(`🔍 Searching for year ${r.year} with key "${x}", found ${b.length} items`),o?(i=_,o=!1):i=new Set([...i].filter(j=>_.has(j)))}if(r.tag){const x=r.tag.toLowerCase(),b=new Set;console.log(`🏷️ Searching for tag: ${r.tag}`);for(let _=1;_<=Math.min(50,this.metadata?.total_pages||10);_++)(await this.loadPage(_)).items.forEach(A=>{A.tags&&A.tags.toLowerCase().includes(x)&&b.add(A.id)});console.log(`🏷️ Found ${b.size} items with tag "${r.tag}"`),o?(i=b,o=!1):i=new Set([...i].filter(_=>b.has(_)))}if(o)return this.getAllArchitectures(n,a);const s=[...i].filter(x=>!this.allItems.has(x));if(s.length>0){const x=new Set;for(const _ of s){const j=Math.ceil(_/50);x.add(j)}console.log(`📋 Need to load ${x.size} pages for ${s.length} missing items`);for(const _ of x)_>0&&_<=290&&(this.cache.has(`page_${_}`)||await this.loadPage(_));const b=s.filter(_=>!this.allItems.has(_));if(b.length>0){console.log(`⚠️ Still missing ${b.length} items, loading additional pages...`);let _=0;for(let j=1;j<=290&&b.some(A=>!this.allItems.has(A))&&!(!this.cache.has(`page_${j}`)&&(await this.loadPage(j),_++,_>=50));j++);}}const c=[];for(const x of i){const b=this.allItems.get(x);b&&c.push(b)}c.sort((x,b)=>x.year&&b.year?b.year-x.year:x.year&&!b.year?-1:!x.year&&b.year?1:x.title.localeCompare(b.title));const d=(n-1)*a,f=d+a,p=c.slice(d,f),g=c.length,m=Math.ceil(g/a);return console.log(`🔍 Search results: ${g} matches, showing page ${n}/${m}`),{results:p,total:g,page:n,total_pages:m,has_more:n<m}}catch(i){throw console.error("❌ searchArchitectures error:",i),i}}async getArchitectureById(t){try{if(await this.initialize(),this.allItems.has(t))return this.allItems.get(t)||null;const r=Math.ceil(t/50);if(r>0&&r<=290){const i=(await this.loadPage(r)).items.find(o=>o.id===t);if(i)return i}const n=[r-1,r+1,r-2,r+2].filter(a=>a>0&&a<=290&&a!==r);for(const a of n){const o=(await this.loadPage(a)).items.find(s=>s.id===t);if(o)return o}return console.warn(`⚠️ Architecture with ID ${t} not found`),null}catch(r){return console.error(`❌ getArchitectureById(${t}) error:`,r),null}}async getStats(){try{const t=await fetch(`${this.baseUrl}/metadata.json`);if(t.ok){const r=await t.json();return{total_items:r.total_items,total_pages:r.total_pages,items_per_page:r.items_per_page,loading_performance:"Sub-second loading (300x faster than SQLite)"}}return{total_items:0,total_pages:0,items_per_page:50,loading_performance:"Statistics unavailable"}}catch(t){throw console.error("❌ getStats error:",t),t}}async getResearchAnalytics(){try{await this.initialize(),console.log("📊 Loading all data for research analytics...");const t=[];for(let c=1;c<=(this.metadata?.total_pages||290);c++){const d=await this.loadPage(c);t.push(...d.items),c%50===0&&console.log(`📊 Analytics progress: ${c}/${this.metadata?.total_pages||290} pages loaded`)}console.log(`📊 Analyzing ${t.length} architectural records...`);const r=this.analyzeAwards(t),n=this.analyzeArchitects(t),a=this.analyzeTemporalTrends(t),i=this.analyzeRegionalTrends(t),o=this.analyzeBuildingTypeEvolution(t),s=this.analyzeProfessionalNetworks(t);return{awards:r,architects:n,temporalAnalysis:a,regionalAnalysis:i,buildingTypeEvolution:o,professionalNetworks:s}}catch(t){throw console.error("❌ getResearchAnalytics error:",t),t}}analyzeAwards(t){const r=new Map;return t.forEach(n=>{n.tags&&n.tags.trim()&&this.parseAwards(n.tags).forEach(i=>{r.has(i)||r.set(i,[]),r.get(i).push({architect:n.architect||"不明",title:n.title,year:n.year||0,id:n.id})})}),Array.from(r.entries()).map(([n,a])=>({name:n,count:a.length,recipients:a})).sort((n,a)=>a.count-n.count)}parseAwards(t){const r=[/日本建築学会[\s　]*作品[賞選]?[\s　]*[奨賞]?/g,/日本建築大賞/g,/村野藤吾賞/g,/JIA25年賞/g,/公共建築賞/g,/グッドデザイン賞/g,/建築業協会賞/g,/照明学会賞/g,/空間デザイン賞/g,/都市景観賞/g,/建築文化賞/g,/BCS賞/g],n=[];return r.forEach(a=>{const i=t.match(a);i&&i.forEach(o=>n.push(o.trim()))}),[...new Set(n)]}analyzeArchitects(t){const r=new Map;return t.forEach(n=>{const a=n.architect||"不明";r.has(a)||r.set(a,[]),r.get(a).push(n)}),Array.from(r.entries()).map(([n,a])=>{const i=a.map(g=>g.year).filter(g=>g),o=[...new Set(a.map(g=>g.category).filter(g=>g))],s=[...new Set(a.flatMap(g=>g.tags?this.parseAwards(g.tags):[]))],c=[...new Set(a.map(g=>g.prefecture).filter(g=>g))],d=[...new Set(a.map(g=>g.structural_designer).filter(g=>g&&g.trim()))],f=[...new Set(a.map(g=>g.landscape_designer).filter(g=>g&&g.trim()))],p=[...new Set(a.map(g=>g.contractor).filter(g=>g&&g.trim()))];return{name:n,projectCount:a.length,yearSpan:i.length>0?{start:Math.min(...i),end:Math.max(...i)}:{start:0,end:0},categories:o,awards:s,prefectures:c,collaborators:{structural:d,landscape:f,contractor:p},projects:a.sort((g,m)=>(m.year||0)-(g.year||0))}}).filter(n=>n.projectCount>=2).sort((n,a)=>a.projectCount-n.projectCount)}analyzeTemporalTrends(t){const r=new Map;return t.forEach(n=>{if(n.year){const a=`${Math.floor(n.year/10)*10}年代`;r.has(a)||r.set(a,[]),r.get(a).push(n)}}),Array.from(r.entries()).map(([n,a])=>{const i=new Map,o=new Map,s=[...new Set(a.flatMap(f=>f.tags?this.parseAwards(f.tags):[]))];a.forEach(f=>{f.category&&i.set(f.category,(i.get(f.category)||0)+1),f.architect&&o.set(f.architect,(o.get(f.architect)||0)+1)});const c=Array.from(i.entries()).sort((f,p)=>p[1]-f[1]).slice(0,5).map(([f])=>f),d=Array.from(o.entries()).sort((f,p)=>p[1]-f[1]).slice(0,5).map(([f])=>f);return{decade:n,projectCount:a.length,dominantCategories:c,notableArchitects:d,awards:s}}).sort((n,a)=>n.decade.localeCompare(a.decade))}analyzeRegionalTrends(t){const r=new Map;return t.forEach(n=>{const a=n.prefecture||"不明";r.has(a)||r.set(a,[]),r.get(a).push(n)}),Array.from(r.entries()).map(([n,a])=>{const i=a.map(p=>p.year).filter(p=>p),o=new Map,s=new Map,c=[...new Set(a.flatMap(p=>p.tags?this.parseAwards(p.tags):[]))];a.forEach(p=>{p.category&&o.set(p.category,(o.get(p.category)||0)+1),p.architect&&s.set(p.architect,(s.get(p.architect)||0)+1)});const d=Array.from(o.entries()).sort((p,g)=>g[1]-p[1]).slice(0,3).map(([p])=>p),f=Array.from(s.entries()).sort((p,g)=>g[1]-p[1]).slice(0,3).map(([p])=>p);return{prefecture:n,projectCount:a.length,timeSpan:i.length>0?{start:Math.min(...i),end:Math.max(...i)}:{start:0,end:0},dominantCategories:d,notableArchitects:f,awards:c}}).filter(n=>n.projectCount>=5).sort((n,a)=>a.projectCount-n.projectCount)}analyzeBuildingTypeEvolution(t){const r=new Map;return t.forEach(n=>{const a=n.category||"不明";r.has(a)||r.set(a,[]),r.get(a).push(n)}),Array.from(r.entries()).map(([n,a])=>{const i=new Map,o=a.map(c=>c.year).filter(c=>c);a.forEach(c=>{if(c.year){const d=`${Math.floor(c.year/10)*10}年代`;i.has(d)||i.set(d,[]),i.get(d).push(c)}});const s=Array.from(i.entries()).map(([c,d])=>({decade:c,count:d.length,notable:d.filter(f=>f.tags&&this.parseAwards(f.tags).length>0).slice(0,3).map(f=>f.title)})).sort((c,d)=>c.decade.localeCompare(d.decade));return{category:n,timelineData:s,totalCount:a.length,averageYear:o.length>0?Math.round(o.reduce((c,d)=>c+d,0)/o.length):0}}).filter(n=>n.totalCount>=5).sort((n,a)=>a.totalCount-n.totalCount)}analyzeProfessionalNetworks(t){const r=new Map;return t.forEach(n=>{const a=n.architect||"不明";r.has(a)||r.set(a,new Map);const i=r.get(a);[n.structural_designer,n.landscape_designer,n.contractor].filter(o=>o&&o.trim()).forEach((o,s)=>{const c=["structural_designer","landscape_designer","contractor"][s],d=`${c}:${o}`;i.has(d)||i.set(d,[]);const f=i.get(d).find(p=>p.name===o);f?f.count++:i.get(d).push({name:o,count:1,role:c})})}),Array.from(r.entries()).map(([n,a])=>{const i=Array.from(a.values()).flat(),o=[...new Set(i.filter(f=>f.role==="structural_designer").map(f=>f.name))],s=[...new Set(i.filter(f=>f.role==="landscape_designer").map(f=>f.name))],c=[...new Set(i.filter(f=>f.role==="contractor").map(f=>f.name))],d=i.filter(f=>f.count>=2).sort((f,p)=>p.count-f.count);return{architect:n,connections:{structural_designers:o,landscape_designers:s,contractors:c,frequent_collaborators:d}}}).filter(n=>n.connections.frequent_collaborators.length>0).sort((n,a)=>a.connections.frequent_collaborators.length-n.connections.frequent_collaborators.length)}async searchByTag(t,r=1,n=20){return this.searchArchitectures("",{tag:t},r,n)}async getAwardWinners(t){await this.initialize();const r=[];for(let n=1;n<=Math.min(100,this.metadata?.total_pages||10);n++)(await this.loadPage(n)).items.forEach(i=>{if(i.tags&&i.tags.trim()){const o=this.parseAwards(i.tags);o.length>0&&(!t||o.some(s=>s.includes(t)))&&r.push(i)}});return r.sort((n,a)=>(a.year||0)-(n.year||0))}async getArchitectPortfolio(t){return this.searchArchitectures("",{architect:t},1,1e3).then(r=>r.results)}clearCache(){this.cache.clear(),this.allItems.clear(),this.searchIndex=null,this.initialized=!1,console.log("🧹 FastArchitectureService cache cleared")}}const _l=new gN;async function Pg(e=1,t=20){return _l.getAllArchitectures(e,t)}async function La(e="",t={},r=1,n=20){return _l.searchArchitectures(e,t,r,n)}async function M1(e){return _l.getArchitectureById(e)}async function D1(){return _l.getResearchAnalytics()}const mN=Object.freeze(Object.defineProperty({__proto__:null,fastArchitectureService:_l,getAllArchitectures:Pg,getArchitectureById:M1,getResearchAnalytics:D1,searchArchitectures:La},Symbol.toStringTag,{value:"Module"}));var V0={exports:{}};(function(e,t){(function(r,n){n(t)})(Ma,function(r){var n=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(i){L.Util.setOptions(this,i),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var o=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,o?this._withAnimation:this._noAnimation),this._markerCluster=o?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(i){if(i instanceof L.LayerGroup)return this.addLayers([i]);if(!i.getLatLng)return this._nonPointGroup.addLayer(i),this.fire("layeradd",{layer:i}),this;if(!this._map)return this._needsClustering.push(i),this.fire("layeradd",{layer:i}),this;if(this.hasLayer(i))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(i,this._maxZoom),this.fire("layeradd",{layer:i}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var o=i,s=this._zoom;if(i.__parent)for(;o.__parent._zoom>=s;)o=o.__parent;return this._currentShownBounds.contains(o.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(i,o):this._animationAddLayerNonAnimated(i,o)),this},removeLayer:function(i){return i instanceof L.LayerGroup?this.removeLayers([i]):(i.getLatLng?this._map?i.__parent&&(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(i)),this._removeLayer(i,!0),this.fire("layerremove",{layer:i}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),i.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(i)&&(this._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow())):(!this._arraySplice(this._needsClustering,i)&&this.hasLayer(i)&&this._needsRemoving.push({layer:i,latlng:i._latlng}),this.fire("layerremove",{layer:i})):(this._nonPointGroup.removeLayer(i),this.fire("layerremove",{layer:i})),this)},addLayers:function(i,o){if(!L.Util.isArray(i))return this.addLayer(i);var s,c=this._featureGroup,d=this._nonPointGroup,f=this.options.chunkedLoading,p=this.options.chunkInterval,g=this.options.chunkProgress,m=i.length,x=0,b=!0;if(this._map){var _=new Date().getTime(),j=L.bind(function(){var S=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();x<m;x++){if(f&&x%200==0){var C=new Date().getTime()-S;if(p<C)break}if((s=i[x])instanceof L.LayerGroup)b&&(i=i.slice(),b=!1),this._extractNonGroupLayers(s,i),m=i.length;else if(s.getLatLng){if(!this.hasLayer(s)&&(this._addLayer(s,this._maxZoom),o||this.fire("layeradd",{layer:s}),s.__parent&&s.__parent.getChildCount()===2)){var E=s.__parent.getAllChildMarkers(),k=E[0]===s?E[1]:E[0];c.removeLayer(k)}}else d.addLayer(s),o||this.fire("layeradd",{layer:s})}g&&g(x,m,new Date().getTime()-_),x===m?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(j,this.options.chunkDelay)},this);j()}else for(var A=this._needsClustering;x<m;x++)(s=i[x])instanceof L.LayerGroup?(b&&(i=i.slice(),b=!1),this._extractNonGroupLayers(s,i),m=i.length):s.getLatLng?this.hasLayer(s)||A.push(s):d.addLayer(s);return this},removeLayers:function(i){var o,s,c=i.length,d=this._featureGroup,f=this._nonPointGroup,p=!0;if(!this._map){for(o=0;o<c;o++)(s=i[o])instanceof L.LayerGroup?(p&&(i=i.slice(),p=!1),this._extractNonGroupLayers(s,i),c=i.length):(this._arraySplice(this._needsClustering,s),f.removeLayer(s),this.hasLayer(s)&&this._needsRemoving.push({layer:s,latlng:s._latlng}),this.fire("layerremove",{layer:s}));return this}if(this._unspiderfy){this._unspiderfy();var g=i.slice(),m=c;for(o=0;o<m;o++)(s=g[o])instanceof L.LayerGroup?(this._extractNonGroupLayers(s,g),m=g.length):this._unspiderfyLayer(s)}for(o=0;o<c;o++)(s=i[o])instanceof L.LayerGroup?(p&&(i=i.slice(),p=!1),this._extractNonGroupLayers(s,i),c=i.length):s.__parent?(this._removeLayer(s,!0,!0),this.fire("layerremove",{layer:s}),d.hasLayer(s)&&(d.removeLayer(s),s.clusterShow&&s.clusterShow())):(f.removeLayer(s),this.fire("layerremove",{layer:s}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(i){i.off(this._childMarkerEventHandlers,this),delete i.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var i=new L.LatLngBounds;this._topClusterLevel&&i.extend(this._topClusterLevel._bounds);for(var o=this._needsClustering.length-1;0<=o;o--)i.extend(this._needsClustering[o].getLatLng());return i.extend(this._nonPointGroup.getBounds()),i},eachLayer:function(i,o){var s,c,d,f=this._needsClustering.slice(),p=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(f),c=f.length-1;0<=c;c--){for(s=!0,d=p.length-1;0<=d;d--)if(p[d].layer===f[c]){s=!1;break}s&&i.call(o,f[c])}this._nonPointGroup.eachLayer(i,o)},getLayers:function(){var i=[];return this.eachLayer(function(o){i.push(o)}),i},getLayer:function(i){var o=null;return i=parseInt(i,10),this.eachLayer(function(s){L.stamp(s)===i&&(o=s)}),o},hasLayer:function(i){if(!i)return!1;var o,s=this._needsClustering;for(o=s.length-1;0<=o;o--)if(s[o]===i)return!0;for(o=(s=this._needsRemoving).length-1;0<=o;o--)if(s[o].layer===i)return!1;return!(!i.__parent||i.__parent._group!==this)||this._nonPointGroup.hasLayer(i)},zoomToShowLayer:function(i,o){var s=this._map;typeof o!="function"&&(o=function(){});var c=function(){!s.hasLayer(i)&&!s.hasLayer(i.__parent)||this._inZoomAnimation||(this._map.off("moveend",c,this),this.off("animationend",c,this),s.hasLayer(i)?o():i.__parent._icon&&(this.once("spiderfied",o,this),i.__parent.spiderfy()))};i._icon&&this._map.getBounds().contains(i.getLatLng())?o():i.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",c,this),this._map.panTo(i.getLatLng())):(this._map.on("moveend",c,this),this.on("animationend",c,this),i.__parent.zoomToBounds())},onAdd:function(i){var o,s,c;if(this._map=i,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(i),this._nonPointGroup.addTo(i),this._gridClusters||this._generateInitialClusters(),this._maxLat=i.options.crs.projection.MAX_LATITUDE,o=0,s=this._needsRemoving.length;o<s;o++)(c=this._needsRemoving[o]).newlatlng=c.layer._latlng,c.layer._latlng=c.latlng;for(o=0,s=this._needsRemoving.length;o<s;o++)c=this._needsRemoving[o],this._removeLayer(c.layer,!0),c.layer._latlng=c.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),s=this._needsClustering,this._needsClustering=[],this.addLayers(s,!0)},onRemove:function(i){i.off("zoomend",this._zoomEnd,this),i.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(i){for(var o=i;o&&!o._icon;)o=o.__parent;return o||null},_arraySplice:function(i,o){for(var s=i.length-1;0<=s;s--)if(i[s]===o)return i.splice(s,1),!0},_removeFromGridUnclustered:function(i,o){for(var s=this._map,c=this._gridUnclustered,d=Math.floor(this._map.getMinZoom());d<=o&&c[o].removeObject(i,s.project(i.getLatLng(),o));o--);},_childMarkerDragStart:function(i){i.target.__dragStart=i.target._latlng},_childMarkerMoved:function(i){if(!this._ignoreMove&&!i.target.__dragStart){var o=i.target._popup&&i.target._popup.isOpen();this._moveChild(i.target,i.oldLatLng,i.latlng),o&&i.target.openPopup()}},_moveChild:function(i,o,s){i._latlng=o,this.removeLayer(i),i._latlng=s,this.addLayer(i)},_childMarkerDragEnd:function(i){var o=i.target.__dragStart;delete i.target.__dragStart,o&&this._moveChild(i.target,o,i.target._latlng)},_removeLayer:function(i,o,s){var c=this._gridClusters,d=this._gridUnclustered,f=this._featureGroup,p=this._map,g=Math.floor(this._map.getMinZoom());o&&this._removeFromGridUnclustered(i,this._maxZoom);var m,x=i.__parent,b=x._markers;for(this._arraySplice(b,i);x&&(x._childCount--,x._boundsNeedUpdate=!0,!(x._zoom<g));)o&&x._childCount<=1?(m=x._markers[0]===i?x._markers[1]:x._markers[0],c[x._zoom].removeObject(x,p.project(x._cLatLng,x._zoom)),d[x._zoom].addObject(m,p.project(m.getLatLng(),x._zoom)),this._arraySplice(x.__parent._childClusters,x),x.__parent._markers.push(m),m.__parent=x.__parent,x._icon&&(f.removeLayer(x),s||f.addLayer(m))):x._iconNeedsUpdate=!0,x=x.__parent;delete i.__parent},_isOrIsParent:function(i,o){for(;o;){if(i===o)return!0;o=o.parentNode}return!1},fire:function(i,o,s){if(o&&o.layer instanceof L.MarkerCluster){if(o.originalEvent&&this._isOrIsParent(o.layer._icon,o.originalEvent.relatedTarget))return;i="cluster"+i}L.FeatureGroup.prototype.fire.call(this,i,o,s)},listens:function(i,o){return L.FeatureGroup.prototype.listens.call(this,i,o)||L.FeatureGroup.prototype.listens.call(this,"cluster"+i,o)},_defaultIconCreateFunction:function(i){var o=i.getChildCount(),s=" marker-cluster-";return s+=o<10?"small":o<100?"medium":"large",new L.DivIcon({html:"<div><span>"+o+"</span></div>",className:"marker-cluster"+s,iconSize:new L.Point(40,40)})},_bindEvents:function(){var i=this._map,o=this.options.spiderfyOnMaxZoom,s=this.options.showCoverageOnHover,c=this.options.zoomToBoundsOnClick,d=this.options.spiderfyOnEveryZoom;(o||c||d)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),s&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),i.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(i){var o=i.layer,s=o;if(i.type!=="clusterkeypress"||!i.originalEvent||i.originalEvent.keyCode===13){for(;s._childClusters.length===1;)s=s._childClusters[0];s._zoom===this._maxZoom&&s._childCount===o._childCount&&this.options.spiderfyOnMaxZoom?o.spiderfy():this.options.zoomToBoundsOnClick&&o.zoomToBounds(),this.options.spiderfyOnEveryZoom&&o.spiderfy(),i.originalEvent&&i.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(i){var o=this._map;this._inZoomAnimation||(this._shownPolygon&&o.removeLayer(this._shownPolygon),2<i.layer.getChildCount()&&i.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(i.layer.getConvexHull(),this.options.polygonOptions),o.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var i=this.options.spiderfyOnMaxZoom,o=this.options.showCoverageOnHover,s=this.options.zoomToBoundsOnClick,c=this.options.spiderfyOnEveryZoom,d=this._map;(i||s||c)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),o&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),d.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var i=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,i),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),i),this._currentShownBounds=i}},_generateInitialClusters:function(){var i=Math.ceil(this._map.getMaxZoom()),o=Math.floor(this._map.getMinZoom()),s=this.options.maxClusterRadius,c=s;typeof s!="function"&&(c=function(){return s}),this.options.disableClusteringAtZoom!==null&&(i=this.options.disableClusteringAtZoom-1),this._maxZoom=i,this._gridClusters={},this._gridUnclustered={};for(var d=i;o<=d;d--)this._gridClusters[d]=new L.DistanceGrid(c(d)),this._gridUnclustered[d]=new L.DistanceGrid(c(d));this._topClusterLevel=new this._markerCluster(this,o-1)},_addLayer:function(i,o){var s,c,d=this._gridClusters,f=this._gridUnclustered,p=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(i),i.on(this._childMarkerEventHandlers,this);p<=o;o--){s=this._map.project(i.getLatLng(),o);var g=d[o].getNearObject(s);if(g)return g._addChild(i),void(i.__parent=g);if(g=f[o].getNearObject(s)){var m=g.__parent;m&&this._removeLayer(g,!1);var x=new this._markerCluster(this,o,g,i);d[o].addObject(x,this._map.project(x._cLatLng,o)),g.__parent=x;var b=i.__parent=x;for(c=o-1;c>m._zoom;c--)b=new this._markerCluster(this,c,b),d[c].addObject(b,this._map.project(g.getLatLng(),c));return m._addChild(b),void this._removeFromGridUnclustered(g,o)}f[o].addObject(i,s)}this._topClusterLevel._addChild(i),i.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(i){i instanceof L.MarkerCluster&&i._iconNeedsUpdate&&i._updateIcon()})},_enqueue:function(i){this._queue.push(i),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var i=0;i<this._queue.length;i++)this._queue[i].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var i=Math.round(this._map._zoom);this._processQueue(),this._zoom<i&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,i)):this._zoom>i?(this._animationStart(),this._animationZoomOut(this._zoom,i)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(i){var o=this._maxLat;return o!==void 0&&(i.getNorth()>=o&&(i._northEast.lat=1/0),i.getSouth()<=-o&&(i._southWest.lat=-1/0)),i},_animationAddLayerNonAnimated:function(i,o){if(o===i)this._featureGroup.addLayer(i);else if(o._childCount===2){o._addToMap();var s=o.getAllChildMarkers();this._featureGroup.removeLayer(s[0]),this._featureGroup.removeLayer(s[1])}else o._updateIcon()},_extractNonGroupLayers:function(i,o){var s,c=i.getLayers(),d=0;for(o=o||[];d<c.length;d++)(s=c[d])instanceof L.LayerGroup?this._extractNonGroupLayers(s,o):o.push(s);return o},_overrideMarkerIcon:function(i){return i.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[i]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(i,o){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),i),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(i,o){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),i),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(i,o){this._animationAddLayerNonAnimated(i,o)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(i,o){var s,c=this._getExpandedVisibleBounds(),d=this._featureGroup,f=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(c,i,f,function(p){var g,m=p._latlng,x=p._markers;for(c.contains(m)||(m=null),p._isSingleParent()&&i+1===o?(d.removeLayer(p),p._recursivelyAddChildrenToMap(null,o,c)):(p.clusterHide(),p._recursivelyAddChildrenToMap(m,o,c)),s=x.length-1;0<=s;s--)g=x[s],c.contains(g._latlng)||d.removeLayer(g)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(c,o),d.eachLayer(function(p){p instanceof L.MarkerCluster||!p._icon||p.clusterShow()}),this._topClusterLevel._recursively(c,i,o,function(p){p._recursivelyRestoreChildPositions(o)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(c,i,f,function(p){d.removeLayer(p),p.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(i,o){this._animationZoomOutSingle(this._topClusterLevel,i-1,o),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),i,this._getExpandedVisibleBounds())},_animationAddLayer:function(i,o){var s=this,c=this._featureGroup;c.addLayer(i),o!==i&&(2<o._childCount?(o._updateIcon(),this._forceLayout(),this._animationStart(),i._setPos(this._map.latLngToLayerPoint(o.getLatLng())),i.clusterHide(),this._enqueue(function(){c.removeLayer(i),i.clusterShow(),s._animationEnd()})):(this._forceLayout(),s._animationStart(),s._animationZoomOutSingle(o,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(i,o,s){var c=this._getExpandedVisibleBounds(),d=Math.floor(this._map.getMinZoom());i._recursivelyAnimateChildrenInAndAddSelfToMap(c,d,o+1,s);var f=this;this._forceLayout(),i._recursivelyBecomeVisible(c,s),this._enqueue(function(){if(i._childCount===1){var p=i._markers[0];this._ignoreMove=!0,p.setLatLng(p.getLatLng()),this._ignoreMove=!1,p.clusterShow&&p.clusterShow()}else i._recursively(c,s,d,function(g){g._recursivelyRemoveChildrenFromMap(c,d,o+1)});f._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(i){return new L.MarkerClusterGroup(i)};var a=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(i,o,s,c){L.Marker.prototype.initialize.call(this,s?s._cLatLng||s.getLatLng():new L.LatLng(0,0),{icon:this,pane:i.options.clusterPane}),this._group=i,this._zoom=o,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,s&&this._addChild(s),c&&this._addChild(c)},getAllChildMarkers:function(i,o){i=i||[];for(var s=this._childClusters.length-1;0<=s;s--)this._childClusters[s].getAllChildMarkers(i,o);for(var c=this._markers.length-1;0<=c;c--)o&&this._markers[c].__dragStart||i.push(this._markers[c]);return i},getChildCount:function(){return this._childCount},zoomToBounds:function(i){for(var o,s=this._childClusters.slice(),c=this._group._map,d=c.getBoundsZoom(this._bounds),f=this._zoom+1,p=c.getZoom();0<s.length&&f<d;){f++;var g=[];for(o=0;o<s.length;o++)g=g.concat(s[o]._childClusters);s=g}f<d?this._group._map.setView(this._latlng,f):d<=p?this._group._map.setView(this._latlng,p+1):this._group._map.fitBounds(this._bounds,i)},getBounds:function(){var i=new L.LatLngBounds;return i.extend(this._bounds),i},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(i,o){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(i),i instanceof L.MarkerCluster?(o||(this._childClusters.push(i),i.__parent=this),this._childCount+=i._childCount):(o||this._markers.push(i),this._childCount++),this.__parent&&this.__parent._addChild(i,!0)},_setClusterCenter:function(i){this._cLatLng||(this._cLatLng=i._cLatLng||i._latlng)},_resetBounds:function(){var i=this._bounds;i._southWest&&(i._southWest.lat=1/0,i._southWest.lng=1/0),i._northEast&&(i._northEast.lat=-1/0,i._northEast.lng=-1/0)},_recalculateBounds:function(){var i,o,s,c,d=this._markers,f=this._childClusters,p=0,g=0,m=this._childCount;if(m!==0){for(this._resetBounds(),i=0;i<d.length;i++)s=d[i]._latlng,this._bounds.extend(s),p+=s.lat,g+=s.lng;for(i=0;i<f.length;i++)(o=f[i])._boundsNeedUpdate&&o._recalculateBounds(),this._bounds.extend(o._bounds),s=o._wLatLng,c=o._childCount,p+=s.lat*c,g+=s.lng*c;this._latlng=this._wLatLng=new L.LatLng(p/m,g/m),this._boundsNeedUpdate=!1}},_addToMap:function(i){i&&(this._backupLatlng=this._latlng,this.setLatLng(i)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(i,o,s){this._recursively(i,this._group._map.getMinZoom(),s-1,function(c){var d,f,p=c._markers;for(d=p.length-1;0<=d;d--)(f=p[d])._icon&&(f._setPos(o),f.clusterHide())},function(c){var d,f,p=c._childClusters;for(d=p.length-1;0<=d;d--)(f=p[d])._icon&&(f._setPos(o),f.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(i,o,s,c){this._recursively(i,c,o,function(d){d._recursivelyAnimateChildrenIn(i,d._group._map.latLngToLayerPoint(d.getLatLng()).round(),s),d._isSingleParent()&&s-1===c?(d.clusterShow(),d._recursivelyRemoveChildrenFromMap(i,o,s)):d.clusterHide(),d._addToMap()})},_recursivelyBecomeVisible:function(i,o){this._recursively(i,this._group._map.getMinZoom(),o,null,function(s){s.clusterShow()})},_recursivelyAddChildrenToMap:function(i,o,s){this._recursively(s,this._group._map.getMinZoom()-1,o,function(c){if(o!==c._zoom)for(var d=c._markers.length-1;0<=d;d--){var f=c._markers[d];s.contains(f._latlng)&&(i&&(f._backupLatlng=f.getLatLng(),f.setLatLng(i),f.clusterHide&&f.clusterHide()),c._group._featureGroup.addLayer(f))}},function(c){c._addToMap(i)})},_recursivelyRestoreChildPositions:function(i){for(var o=this._markers.length-1;0<=o;o--){var s=this._markers[o];s._backupLatlng&&(s.setLatLng(s._backupLatlng),delete s._backupLatlng)}if(i-1===this._zoom)for(var c=this._childClusters.length-1;0<=c;c--)this._childClusters[c]._restorePosition();else for(var d=this._childClusters.length-1;0<=d;d--)this._childClusters[d]._recursivelyRestoreChildPositions(i)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(i,o,s,c){var d,f;this._recursively(i,o-1,s-1,function(p){for(f=p._markers.length-1;0<=f;f--)d=p._markers[f],c&&c.contains(d._latlng)||(p._group._featureGroup.removeLayer(d),d.clusterShow&&d.clusterShow())},function(p){for(f=p._childClusters.length-1;0<=f;f--)d=p._childClusters[f],c&&c.contains(d._latlng)||(p._group._featureGroup.removeLayer(d),d.clusterShow&&d.clusterShow())})},_recursively:function(i,o,s,c,d){var f,p,g=this._childClusters,m=this._zoom;if(o<=m&&(c&&c(this),d&&m===s&&d(this)),m<o||m<s)for(f=g.length-1;0<=f;f--)(p=g[f])._boundsNeedUpdate&&p._recalculateBounds(),i.intersects(p._bounds)&&p._recursively(i,o,s,c,d)},_isSingleParent:function(){return 0<this._childClusters.length&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var i=this.options.opacity;return this.setOpacity(0),this.options.opacity=i,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(i){this._cellSize=i,this._sqCellSize=i*i,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(i,o){var s=this._getCoord(o.x),c=this._getCoord(o.y),d=this._grid,f=d[c]=d[c]||{},p=f[s]=f[s]||[],g=L.Util.stamp(i);this._objectPoint[g]=o,p.push(i)},updateObject:function(i,o){this.removeObject(i),this.addObject(i,o)},removeObject:function(i,o){var s,c,d=this._getCoord(o.x),f=this._getCoord(o.y),p=this._grid,g=p[f]=p[f]||{},m=g[d]=g[d]||[];for(delete this._objectPoint[L.Util.stamp(i)],s=0,c=m.length;s<c;s++)if(m[s]===i)return m.splice(s,1),c===1&&delete g[d],!0},eachObject:function(i,o){var s,c,d,f,p,g,m=this._grid;for(s in m)for(c in p=m[s])for(d=0,f=(g=p[c]).length;d<f;d++)i.call(o,g[d])&&(d--,f--)},getNearObject:function(i){var o,s,c,d,f,p,g,m,x=this._getCoord(i.x),b=this._getCoord(i.y),_=this._objectPoint,j=this._sqCellSize,A=null;for(o=b-1;o<=b+1;o++)if(d=this._grid[o]){for(s=x-1;s<=x+1;s++)if(f=d[s])for(c=0,p=f.length;c<p;c++)g=f[c],((m=this._sqDist(_[L.Util.stamp(g)],i))<j||m<=j&&A===null)&&(j=m,A=g)}return A},_getCoord:function(i){var o=Math.floor(i/this._cellSize);return isFinite(o)?o:i},_sqDist:function(i,o){var s=o.x-i.x,c=o.y-i.y;return s*s+c*c}},L.QuickHull={getDistant:function(i,o){var s=o[1].lat-o[0].lat;return(o[0].lng-o[1].lng)*(i.lat-o[0].lat)+s*(i.lng-o[0].lng)},findMostDistantPointFromBaseLine:function(i,o){var s,c,d,f=0,p=null,g=[];for(s=o.length-1;0<=s;s--)c=o[s],0<(d=this.getDistant(c,i))&&(g.push(c),f<d&&(f=d,p=c));return{maxPoint:p,newPoints:g}},buildConvexHull:function(i,o){var s=[],c=this.findMostDistantPointFromBaseLine(i,o);return c.maxPoint?s=(s=s.concat(this.buildConvexHull([i[0],c.maxPoint],c.newPoints))).concat(this.buildConvexHull([c.maxPoint,i[1]],c.newPoints)):[i[0]]},getConvexHull:function(i){var o,s=!1,c=!1,d=!1,f=!1,p=null,g=null,m=null,x=null,b=null,_=null;for(o=i.length-1;0<=o;o--){var j=i[o];(s===!1||j.lat>s)&&(s=(p=j).lat),(c===!1||j.lat<c)&&(c=(g=j).lat),(d===!1||j.lng>d)&&(d=(m=j).lng),(f===!1||j.lng<f)&&(f=(x=j).lng)}return b=c!==s?(_=g,p):(_=x,m),[].concat(this.buildConvexHull([_,b],i),this.buildConvexHull([b,_],i))}},L.MarkerCluster.include({getConvexHull:function(){var i,o,s=this.getAllChildMarkers(),c=[];for(o=s.length-1;0<=o;o--)i=s[o].getLatLng(),c.push(i);return L.QuickHull.getConvexHull(c)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var i,o=this.getAllChildMarkers(null,!0),s=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),i=(this._group._spiderfied=this)._group.options.spiderfyShapePositions?this._group.options.spiderfyShapePositions(o.length,s):o.length>=this._circleSpiralSwitchover?this._generatePointsSpiral(o.length,s):(s.y+=10,this._generatePointsCircle(o.length,s)),this._animationSpiderfy(o,i)}},unspiderfy:function(i){this._group._inZoomAnimation||(this._animationUnspiderfy(i),this._group._spiderfied=null)},_generatePointsCircle:function(i,o){var s,c,d=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+i)/this._2PI,f=this._2PI/i,p=[];for(d=Math.max(d,35),p.length=i,s=0;s<i;s++)c=this._circleStartAngle+s*f,p[s]=new L.Point(o.x+d*Math.cos(c),o.y+d*Math.sin(c))._round();return p},_generatePointsSpiral:function(i,o){var s,c=this._group.options.spiderfyDistanceMultiplier,d=c*this._spiralLengthStart,f=c*this._spiralFootSeparation,p=c*this._spiralLengthFactor*this._2PI,g=0,m=[];for(s=m.length=i;0<=s;s--)s<i&&(m[s]=new L.Point(o.x+d*Math.cos(g),o.y+d*Math.sin(g))._round()),d+=p/(g+=f/d+5e-4*s);return m},_noanimationUnspiderfy:function(){var i,o,s=this._group,c=s._map,d=s._featureGroup,f=this.getAllChildMarkers(null,!0);for(s._ignoreMove=!0,this.setOpacity(1),o=f.length-1;0<=o;o--)i=f[o],d.removeLayer(i),i._preSpiderfyLatlng&&(i.setLatLng(i._preSpiderfyLatlng),delete i._preSpiderfyLatlng),i.setZIndexOffset&&i.setZIndexOffset(0),i._spiderLeg&&(c.removeLayer(i._spiderLeg),delete i._spiderLeg);s.fire("unspiderfied",{cluster:this,markers:f}),s._ignoreMove=!1,s._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(i,o){var s,c,d,f,p=this._group,g=p._map,m=p._featureGroup,x=this._group.options.spiderLegPolylineOptions;for(p._ignoreMove=!0,s=0;s<i.length;s++)f=g.layerPointToLatLng(o[s]),c=i[s],d=new L.Polyline([this._latlng,f],x),g.addLayer(d),c._spiderLeg=d,c._preSpiderfyLatlng=c._latlng,c.setLatLng(f),c.setZIndexOffset&&c.setZIndexOffset(1e6),m.addLayer(c);this.setOpacity(.3),p._ignoreMove=!1,p.fire("spiderfied",{cluster:this,markers:i})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(i,o){var s,c,d,f,p,g,m=this,x=this._group,b=x._map,_=x._featureGroup,j=this._latlng,A=b.latLngToLayerPoint(j),S=L.Path.SVG,C=L.extend({},this._group.options.spiderLegPolylineOptions),E=C.opacity;for(E===void 0&&(E=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),S?(C.opacity=0,C.className=(C.className||"")+" leaflet-cluster-spider-leg"):C.opacity=E,x._ignoreMove=!0,s=0;s<i.length;s++)c=i[s],g=b.layerPointToLatLng(o[s]),d=new L.Polyline([j,g],C),b.addLayer(d),c._spiderLeg=d,S&&(p=(f=d._path).getTotalLength()+.1,f.style.strokeDasharray=p,f.style.strokeDashoffset=p),c.setZIndexOffset&&c.setZIndexOffset(1e6),c.clusterHide&&c.clusterHide(),_.addLayer(c),c._setPos&&c._setPos(A);for(x._forceLayout(),x._animationStart(),s=i.length-1;0<=s;s--)g=b.layerPointToLatLng(o[s]),(c=i[s])._preSpiderfyLatlng=c._latlng,c.setLatLng(g),c.clusterShow&&c.clusterShow(),S&&((f=(d=c._spiderLeg)._path).style.strokeDashoffset=0,d.setStyle({opacity:E}));this.setOpacity(.3),x._ignoreMove=!1,setTimeout(function(){x._animationEnd(),x.fire("spiderfied",{cluster:m,markers:i})},200)},_animationUnspiderfy:function(i){var o,s,c,d,f,p,g=this,m=this._group,x=m._map,b=m._featureGroup,_=i?x._latLngToNewLayerPoint(this._latlng,i.zoom,i.center):x.latLngToLayerPoint(this._latlng),j=this.getAllChildMarkers(null,!0),A=L.Path.SVG;for(m._ignoreMove=!0,m._animationStart(),this.setOpacity(1),s=j.length-1;0<=s;s--)(o=j[s])._preSpiderfyLatlng&&(o.closePopup(),o.setLatLng(o._preSpiderfyLatlng),delete o._preSpiderfyLatlng,p=!0,o._setPos&&(o._setPos(_),p=!1),o.clusterHide&&(o.clusterHide(),p=!1),p&&b.removeLayer(o),A&&(f=(d=(c=o._spiderLeg)._path).getTotalLength()+.1,d.style.strokeDashoffset=f,c.setStyle({opacity:0})));m._ignoreMove=!1,setTimeout(function(){var S=0;for(s=j.length-1;0<=s;s--)(o=j[s])._spiderLeg&&S++;for(s=j.length-1;0<=s;s--)(o=j[s])._spiderLeg&&(o.clusterShow&&o.clusterShow(),o.setZIndexOffset&&o.setZIndexOffset(0),1<S&&b.removeLayer(o),x.removeLayer(o._spiderLeg),delete o._spiderLeg);m._animationEnd(),m.fire("unspiderfied",{cluster:g,markers:j})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(i){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(i))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(i){this._spiderfied&&this._spiderfied.unspiderfy(i)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(i){i._spiderLeg&&(this._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow(),i.setZIndexOffset&&i.setZIndexOffset(0),this._map.removeLayer(i._spiderLeg),delete i._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(i){return i?i instanceof L.MarkerClusterGroup?i=i._topClusterLevel.getAllChildMarkers():i instanceof L.LayerGroup?i=i._layers:i instanceof L.MarkerCluster?i=i.getAllChildMarkers():i instanceof L.Marker&&(i=[i]):i=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(i),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(i),this},_flagParentsIconsNeedUpdate:function(i){var o,s;for(o in i)for(s=i[o].__parent;s;)s._iconNeedsUpdate=!0,s=s.__parent},_refreshSingleMarkerModeMarkers:function(i){var o,s;for(o in i)s=i[o],this.hasLayer(s)&&s.setIcon(this._overrideMarkerIcon(s))}}),L.Marker.include({refreshIconOptions:function(i,o){var s=this.options.icon;return L.setOptions(s,i),this.setIcon(s),o&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),r.MarkerClusterGroup=n,r.MarkerCluster=a,Object.defineProperty(r,"__esModule",{value:!0})})})(V0,V0.exports);const vN={swipeThreshold:50,velocityThreshold:.3,longPressDelay:500,doubleTapDelay:300,pinchThreshold:.1},$1=(e={},t={})=>{const r={...vN,...t},n=y.useRef(null),a=y.useRef([]),i=y.useRef(null),o=y.useRef(0),s=y.useRef(0),c=y.useRef(1),d=y.useCallback((b,_)=>{const j=b.clientX-_.clientX,A=b.clientY-_.clientY;return Math.sqrt(j*j+A*A)},[]),f=y.useCallback((b,_,j)=>{const A=_-b;return A>0?j/A:0},[]),p=y.useCallback(b=>{b.preventDefault(),a.current=Array.from(b.touches);const _=b.touches[0],j=Date.now();if(j-o.current<(r.doubleTapDelay||300)){e.onDoubleTap?.(_.clientX,_.clientY),o.current=0;return}if(o.current=j,e.onLongPress&&(i.current=setTimeout(()=>{e.onLongPress?.(_.clientX,_.clientY)},r.longPressDelay||500)),b.touches.length===2&&e.onPinchStart){const A=d(b.touches[0],b.touches[1]);s.current=A,c.current=1,e.onPinchStart(1)}},[e,r,d]),g=y.useCallback(b=>{if(b.preventDefault(),i.current&&(clearTimeout(i.current),i.current=null),b.touches.length===2&&e.onPinchMove&&s.current>0){const j=d(b.touches[0],b.touches[1])/s.current;c.current=j,Math.abs(j-1)>(r.pinchThreshold||.1)&&e.onPinchMove(j)}},[e,r,d]),m=y.useCallback(b=>{b.preventDefault(),i.current&&(clearTimeout(i.current),i.current=null);const _=a.current;if(_.length!==0){if(b.touches.length===0&&_.length===2&&e.onPinchEnd){e.onPinchEnd(c.current),s.current=0,c.current=1;return}if(_.length===1&&b.changedTouches.length===1){const j=_[0],A=b.changedTouches[0],S=A.clientX-j.clientX,C=A.clientY-j.clientY,E=Math.sqrt(S*S+C*C),k=b.timeStamp||Date.now(),I=Date.now(),U=f(k,I,E);if(E>(r.swipeThreshold||50)&&U>(r.velocityThreshold||.3)){const V=Math.abs(S),re=Math.abs(C);V>re?S>0?e.onSwipeRight?.():e.onSwipeLeft?.():C>0?e.onSwipeDown?.():e.onSwipeUp?.()}}a.current=[]}},[e,r,f]),x=y.useCallback(b=>{switch(b.key){case"ArrowLeft":(b.metaKey||b.ctrlKey)&&e.onSwipeLeft?.();break;case"ArrowRight":(b.metaKey||b.ctrlKey)&&e.onSwipeRight?.();break;case"ArrowUp":(b.metaKey||b.ctrlKey)&&e.onSwipeUp?.();break;case"ArrowDown":(b.metaKey||b.ctrlKey)&&e.onSwipeDown?.();break;case" ":if(b.ctrlKey){const _=n.current?.getBoundingClientRect();_&&e.onLongPress?.(_.width/2,_.height/2)}break;case"Enter":if(b.ctrlKey){const _=n.current?.getBoundingClientRect();_&&e.onDoubleTap?.(_.width/2,_.height/2)}break}},[e]);return y.useEffect(()=>{const b=n.current;if(b)return b.addEventListener("touchstart",p,{passive:!1}),b.addEventListener("touchmove",g,{passive:!1}),b.addEventListener("touchend",m,{passive:!1}),b.addEventListener("keydown",x),b.addEventListener("contextmenu",_=>_.preventDefault()),()=>{b.removeEventListener("touchstart",p),b.removeEventListener("touchmove",g),b.removeEventListener("touchend",m),b.removeEventListener("keydown",x),b.removeEventListener("contextmenu",_=>_.preventDefault()),i.current&&clearTimeout(i.current)}},[p,g,m,x]),{gestureRef:b=>{n.current=b},simulateSwipe:y.useCallback(b=>{switch(b){case"left":e.onSwipeLeft?.();break;case"right":e.onSwipeRight?.();break;case"up":e.onSwipeUp?.();break;case"down":e.onSwipeDown?.();break}},[e]),simulatePinch:y.useCallback(b=>{e.onPinchStart?.(1),e.onPinchMove?.(b),e.onPinchEnd?.(b)},[e]),simulateLongPress:y.useCallback((b=0,_=0)=>{e.onLongPress?.(b,_)},[e]),simulateDoubleTap:y.useCallback((b=0,_=0)=>{e.onDoubleTap?.(b,_)},[e])}};delete qe.Icon.Default.prototype._getIconUrl;qe.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png"});const yN=({markers:e,center:t=[35.6762,139.6503],zoom:r=6,height:n="600px",enableMobileControls:a=!0,enableGestures:i=!0,enableFullscreen:o=!0,onMarkerClick:s,showLocationButton:c=!0})=>{const d=os(),f=is(),p=Uo(f.breakpoints.down("md")),[g,m]=y.useState(null),[x,b]=y.useState(!0),[_,j]=y.useState(null),[A,S]=y.useState(!1),[C,E]=y.useState(r),[k,I]=y.useState(null),[U,V]=y.useState(!p),{gestureRef:re}=$1({onPinchStart:Q=>{g&&i&&g.dragging.disable()},onPinchMove:Q=>{if(g&&i){const G=Math.max(2,Math.min(18,C+(Q-1)*2));E(G),g.setZoom(G)}},onPinchEnd:Q=>{g&&i&&g.dragging.enable()},onDoubleTap:(Q,G)=>{if(g&&i){const B=[Q,G],X=g.containerPointToLatLng(B);g.setView(X,Math.min(C+2,18))}},onLongPress:(Q,G)=>{p&&V(!U)}}),te=y.useCallback(()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(Q=>{const{latitude:G,longitude:B}=Q.coords;I([G,B]),g&&g.setView([G,B],15)},Q=>{console.warn("Failed to get user location:",Q)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e5})},[g]),J=y.useCallback(()=>{if(g){const Q=Math.min(C+1,18);E(Q),g.setZoom(Q)}},[g,C]),ne=y.useCallback(()=>{if(g){const Q=Math.max(C-1,2);E(Q),g.setZoom(Q)}},[g,C]),fe=y.useCallback(()=>{const Q=document.getElementById("map-with-clustering");Q&&(A?(document.exitFullscreen&&document.exitFullscreen(),S(!1)):(Q.requestFullscreen&&Q.requestFullscreen(),S(!0)))},[A]);return y.useEffect(()=>{if(!document.getElementById("map-with-clustering"))return;g&&g.remove();const G=qe.map("map-with-clustering",{center:t,zoom:r,scrollWheelZoom:!p,zoomControl:!a,touchZoom:i,doubleClickZoom:i,boxZoom:!1,keyboard:!1,dragging:!0,tap:p,tapTolerance:20,zoomSnap:.5,zoomDelta:.5,wheelPxPerZoomLevel:100,maxZoom:18,minZoom:2});qe.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}).addTo(G);const B=qe.markerClusterGroup({showCoverageOnHover:!1,zoomToBoundsOnClick:!0,spiderfyOnMaxZoom:!0,removeOutsideVisibleBounds:!0,animate:!0,chunkedLoading:!0,chunkInterval:200,chunkDelay:50,maxClusterRadius:80,iconCreateFunction:function(X){const ae=X.getChildCount();let me="marker-cluster-small";return ae>100?me="marker-cluster-large":ae>50&&(me="marker-cluster-medium"),new qe.DivIcon({html:`<div><span>${ae}</span></div>`,className:`marker-cluster ${me}`,iconSize:new qe.Point(40,40)})}});return G.addLayer(B),G.on("zoomend",()=>{E(G.getZoom())}),p&&(G.on("movestart",()=>{V(!1)}),G.on("moveend",()=>{setTimeout(()=>V(!1),2e3)})),m(G),j(B),b(!1),()=>{G.remove()}},[]),y.useEffect(()=>{if(!g||!_||!e||e.length===0)return;_.clearLayers();const Q=e.filter(B=>B.position&&B.position[0]&&B.position[1]&&!isNaN(B.position[0])&&!isNaN(B.position[1])),G=Q.map(B=>{const{position:X,title:ae,architect:me,year:$,category:N,tags:Y,address:se,id:pe}=B,ot=Y&&Y.includes("賞")?new qe.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-gold.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}):new qe.Icon.Default,Ye=qe.marker(X,{icon:ot}),F=window.innerWidth<768,ge=`
        <div style="min-width: ${F?"200px":"250px"}; max-width: ${F?"250px":"300px"}; 
                    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;">
          <h3 style="margin: 0 0 12px 0; font-size: ${F?"14px":"16px"}; font-weight: bold; line-height: 1.3;">
            ${ae}
          </h3>
          ${me?`
            <div style="display: flex; align-items: center; margin-bottom: 6px; font-size: ${F?"12px":"13px"};">
              <span style="color: #666; margin-right: 8px; min-width: 50px;">建築家:</span>
              <span style="font-weight: 500;">${me}</span>
            </div>
          `:""}
          ${$?`
            <div style="display: flex; align-items: center; margin-bottom: 6px; font-size: ${F?"12px":"13px"};">
              <span style="color: #666; margin-right: 8px; min-width: 50px;">竣工年:</span>
              <span>${$}年</span>
            </div>
          `:""}
          ${N?`
            <div style="display: flex; align-items: center; margin-bottom: 6px; font-size: ${F?"12px":"13px"};">
              <span style="color: #666; margin-right: 8px; min-width: 50px;">カテゴリ:</span>
              <span>${N}</span>
            </div>
          `:""}
          ${Y?`
            <div style="display: flex; align-items: center; margin-bottom: 6px; font-size: ${F?"12px":"13px"};">
              <span style="color: #666; margin-right: 8px; min-width: 50px;">タグ:</span>
              <span style="color: #ff6b00; font-weight: bold;">${Y}</span>
            </div>
          `:""}
          ${se?`
            <div style="display: flex; align-items: flex-start; margin-bottom: 12px; font-size: ${F?"11px":"12px"};">
              <span style="color: #666; margin-right: 8px; min-width: 50px; margin-top: 2px;">住所:</span>
              <span style="line-height: 1.3;">${se}</span>
            </div>
          `:""}
          <div style="text-align: center; margin-top: 16px;">
            <button onclick="window.location.hash='/architecture/${pe}'" 
              style="background: #1976d2; color: white; border: none; 
                     padding: ${F?"12px 20px":"10px 18px"}; 
                     border-radius: 6px; cursor: pointer; 
                     font-size: ${F?"14px":"13px"}; 
                     font-weight: 500; box-shadow: 0 2px 4px rgba(0,0,0,0.1);
                     min-height: 44px; min-width: ${F?"120px":"100px"};">
              詳細を見る
            </button>
          </div>
        </div>
      `;return Ye.bindPopup(ge,{maxWidth:F?280:320,minWidth:F?200:250,className:"architecture-popup",closeButton:!0,autoClose:!0,keepInView:!0,offset:[0,-10]}),Ye.on("click",function(){s&&s(B),p&&(V(!0),setTimeout(()=>V(!1),3e3))}),Ye});_.addLayers(G),Q.length>0&&setTimeout(()=>{const B=_.getBounds();B.isValid()&&g.fitBounds(B,{padding:[50,50],maxZoom:15})},100)},[e,g,_,d]),y.useEffect(()=>{g&&t&&r&&g.setView(t,r)},[t,r,g]),u.jsxs(D,{sx:{position:"relative",height:n,width:"100%"},children:[x&&u.jsxs(D,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1e3,display:"flex",flexDirection:"column",alignItems:"center",gap:2},children:[u.jsx(In,{}),u.jsx(R,{children:"地図を読み込み中..."})]}),u.jsx("div",{id:"map-with-clustering",ref:re,style:{height:"100%",width:"100%",borderRadius:"4px",overflow:"hidden"}}),a&&p&&u.jsx(Xs,{in:U||x,children:u.jsxs(D,{sx:{position:"absolute",top:f.spacing(2),right:f.spacing(2),display:"flex",flexDirection:"column",gap:1,zIndex:1e3},children:[u.jsx(_t,{title:"ズームイン",placement:"left",children:u.jsx(ia,{size:"small",color:"primary",onClick:J,disabled:C>=18,sx:{minHeight:"48px",minWidth:"48px",boxShadow:f.shadows[6]},children:u.jsx(mg,{})})}),u.jsx(_t,{title:"ズームアウト",placement:"left",children:u.jsx(ia,{size:"small",color:"primary",onClick:ne,disabled:C<=2,sx:{minHeight:"48px",minWidth:"48px",boxShadow:f.shadows[6]},children:u.jsx(vg,{})})}),c&&u.jsx(_t,{title:"現在地",placement:"left",children:u.jsx(ia,{size:"small",color:"secondary",onClick:te,sx:{minHeight:"48px",minWidth:"48px",boxShadow:f.shadows[6]},children:u.jsx(Jh,{})})}),o&&u.jsx(_t,{title:A?"全画面終了":"全画面表示",placement:"left",children:u.jsx(ia,{size:"small",color:"default",onClick:fe,sx:{minHeight:"48px",minWidth:"48px",boxShadow:f.shadows[6]},children:A?u.jsx(eu,{}):u.jsx(tu,{})})})]})}),a&&!p&&u.jsxs(D,{sx:{position:"absolute",bottom:f.spacing(2),right:f.spacing(2),display:"flex",gap:1,zIndex:1e3},children:[c&&u.jsx(_t,{title:"現在地",children:u.jsx(wt,{color:"primary",onClick:te,sx:{backgroundColor:"background.paper",boxShadow:f.shadows[2],"&:hover":{backgroundColor:"background.paper",boxShadow:f.shadows[4]}},children:u.jsx(Jh,{})})}),o&&u.jsx(_t,{title:A?"全画面終了":"全画面表示",children:u.jsx(wt,{color:"default",onClick:fe,sx:{backgroundColor:"background.paper",boxShadow:f.shadows[2],"&:hover":{backgroundColor:"background.paper",boxShadow:f.shadows[4]}},children:A?u.jsx(eu,{}):u.jsx(tu,{})})})]}),p&&!x&&U&&u.jsx(Xs,{in:U,children:u.jsx(D,{sx:{position:"absolute",bottom:f.spacing(2),left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0, 0, 0, 0.7)",color:"white",padding:f.spacing(1,2),borderRadius:2,zIndex:1e3,fontSize:"12px",textAlign:"center"},children:u.jsx(R,{variant:"caption",color:"inherit",children:"長押しでコントロール表示 • ピンチでズーム • ダブルタップで拡大"})})}),k&&g&&u.jsx(D,{sx:{position:"absolute",bottom:f.spacing(1),left:f.spacing(1),backgroundColor:"primary.main",color:"white",padding:f.spacing(.5,1),borderRadius:1,fontSize:"12px",zIndex:1e3},children:"現在地表示中"}),e.length===0&&!x&&u.jsxs(D,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",backgroundColor:"rgba(255, 255, 255, 0.9)",padding:3,borderRadius:1,boxShadow:2},children:[u.jsx(Pi,{sx:{fontSize:48,color:"text.secondary",mb:2}}),u.jsx(R,{variant:"h6",color:"text.secondary",children:"表示する建築物がありません"}),u.jsx(R,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"フィルターを調整するか、検索条件を変更してください"})]})]})};var lu={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lu.exports;(function(e,t){(function(){var r,n="4.17.21",a=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",s="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",d=500,f="__lodash_placeholder__",p=1,g=2,m=4,x=1,b=2,_=1,j=2,A=4,S=8,C=16,E=32,k=64,I=128,U=256,V=512,re=30,te="...",J=800,ne=16,fe=1,Q=2,G=3,B=1/0,X=9007199254740991,ae=17976931348623157e292,me=NaN,$=4294967295,N=$-1,Y=$>>>1,se=[["ary",I],["bind",_],["bindKey",j],["curry",S],["curryRight",C],["flip",V],["partial",E],["partialRight",k],["rearg",U]],pe="[object Arguments]",Ce="[object Array]",ot="[object AsyncFunction]",Ye="[object Boolean]",F="[object Date]",ge="[object DOMException]",je="[object Error]",ie="[object Function]",K="[object GeneratorFunction]",q="[object Map]",be="[object Number]",We="[object Null]",le="[object Object]",Oe="[object Promise]",ze="[object Proxy]",gt="[object RegExp]",Ze="[object Set]",st="[object String]",er="[object Symbol]",oo="[object Undefined]",Dn="[object WeakMap]",ba="[object WeakSet]",yn="[object ArrayBuffer]",Hr="[object DataView]",Ui="[object Float32Array]",Qd="[object Float64Array]",ef="[object Int8Array]",tf="[object Int16Array]",rf="[object Int32Array]",nf="[object Uint8Array]",af="[object Uint8ClampedArray]",of="[object Uint16Array]",sf="[object Uint32Array]",jP=/\b__p \+= '';/g,AP=/\b(__p \+=) '' \+/g,SP=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Rv=/&(?:amp|lt|gt|quot|#39);/g,Mv=/[&<>"']/g,CP=RegExp(Rv.source),OP=RegExp(Mv.source),PP=/<%-([\s\S]+?)%>/g,EP=/<%([\s\S]+?)%>/g,Dv=/<%=([\s\S]+?)%>/g,TP=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,LP=/^\w*$/,kP=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lf=/[\\^$.*+?()[\]{}|]/g,IP=RegExp(lf.source),cf=/^\s+/,RP=/\s/,MP=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,DP=/\{\n\/\* \[wrapped with (.+)\] \*/,$P=/,? & /,NP=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,BP=/[()=,{}\[\]\/\s]/,FP=/\\(\\)?/g,zP=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$v=/\w*$/,UP=/^[-+]0x[0-9a-f]+$/i,WP=/^0b[01]+$/i,HP=/^\[object .+?Constructor\]$/,KP=/^0o[0-7]+$/i,ZP=/^(?:0|[1-9]\d*)$/,GP=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Hl=/($^)/,YP=/['\n\r\u2028\u2029\\]/g,Kl="\\ud800-\\udfff",qP="\\u0300-\\u036f",VP="\\ufe20-\\ufe2f",XP="\\u20d0-\\u20ff",Nv=qP+VP+XP,Bv="\\u2700-\\u27bf",Fv="a-z\\xdf-\\xf6\\xf8-\\xff",JP="\\xac\\xb1\\xd7\\xf7",QP="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",eE="\\u2000-\\u206f",tE=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",zv="A-Z\\xc0-\\xd6\\xd8-\\xde",Uv="\\ufe0e\\ufe0f",Wv=JP+QP+eE+tE,uf="['’]",rE="["+Kl+"]",Hv="["+Wv+"]",Zl="["+Nv+"]",Kv="\\d+",nE="["+Bv+"]",Zv="["+Fv+"]",Gv="[^"+Kl+Wv+Kv+Bv+Fv+zv+"]",df="\\ud83c[\\udffb-\\udfff]",iE="(?:"+Zl+"|"+df+")",Yv="[^"+Kl+"]",ff="(?:\\ud83c[\\udde6-\\uddff]){2}",hf="[\\ud800-\\udbff][\\udc00-\\udfff]",so="["+zv+"]",qv="\\u200d",Vv="(?:"+Zv+"|"+Gv+")",aE="(?:"+so+"|"+Gv+")",Xv="(?:"+uf+"(?:d|ll|m|re|s|t|ve))?",Jv="(?:"+uf+"(?:D|LL|M|RE|S|T|VE))?",Qv=iE+"?",ey="["+Uv+"]?",oE="(?:"+qv+"(?:"+[Yv,ff,hf].join("|")+")"+ey+Qv+")*",sE="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",lE="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ty=ey+Qv+oE,cE="(?:"+[nE,ff,hf].join("|")+")"+ty,uE="(?:"+[Yv+Zl+"?",Zl,ff,hf,rE].join("|")+")",dE=RegExp(uf,"g"),fE=RegExp(Zl,"g"),pf=RegExp(df+"(?="+df+")|"+uE+ty,"g"),hE=RegExp([so+"?"+Zv+"+"+Xv+"(?="+[Hv,so,"$"].join("|")+")",aE+"+"+Jv+"(?="+[Hv,so+Vv,"$"].join("|")+")",so+"?"+Vv+"+"+Xv,so+"+"+Jv,lE,sE,Kv,cE].join("|"),"g"),pE=RegExp("["+qv+Kl+Nv+Uv+"]"),gE=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,mE=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],vE=-1,ht={};ht[Ui]=ht[Qd]=ht[ef]=ht[tf]=ht[rf]=ht[nf]=ht[af]=ht[of]=ht[sf]=!0,ht[pe]=ht[Ce]=ht[yn]=ht[Ye]=ht[Hr]=ht[F]=ht[je]=ht[ie]=ht[q]=ht[be]=ht[le]=ht[gt]=ht[Ze]=ht[st]=ht[Dn]=!1;var ut={};ut[pe]=ut[Ce]=ut[yn]=ut[Hr]=ut[Ye]=ut[F]=ut[Ui]=ut[Qd]=ut[ef]=ut[tf]=ut[rf]=ut[q]=ut[be]=ut[le]=ut[gt]=ut[Ze]=ut[st]=ut[er]=ut[nf]=ut[af]=ut[of]=ut[sf]=!0,ut[je]=ut[ie]=ut[Dn]=!1;var yE={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},xE={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bE={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},_E={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},wE=parseFloat,jE=parseInt,ry=typeof Ma=="object"&&Ma&&Ma.Object===Object&&Ma,AE=typeof self=="object"&&self&&self.Object===Object&&self,Kt=ry||AE||Function("return this")(),gf=t&&!t.nodeType&&t,_a=gf&&!0&&e&&!e.nodeType&&e,ny=_a&&_a.exports===gf,mf=ny&&ry.process,Kr=function(){try{var W=_a&&_a.require&&_a.require("util").types;return W||mf&&mf.binding&&mf.binding("util")}catch{}}(),iy=Kr&&Kr.isArrayBuffer,ay=Kr&&Kr.isDate,oy=Kr&&Kr.isMap,sy=Kr&&Kr.isRegExp,ly=Kr&&Kr.isSet,cy=Kr&&Kr.isTypedArray;function Er(W,oe,ee){switch(ee.length){case 0:return W.call(oe);case 1:return W.call(oe,ee[0]);case 2:return W.call(oe,ee[0],ee[1]);case 3:return W.call(oe,ee[0],ee[1],ee[2])}return W.apply(oe,ee)}function SE(W,oe,ee,_e){for(var Re=-1,Je=W==null?0:W.length;++Re<Je;){var kt=W[Re];oe(_e,kt,ee(kt),W)}return _e}function Zr(W,oe){for(var ee=-1,_e=W==null?0:W.length;++ee<_e&&oe(W[ee],ee,W)!==!1;);return W}function CE(W,oe){for(var ee=W==null?0:W.length;ee--&&oe(W[ee],ee,W)!==!1;);return W}function uy(W,oe){for(var ee=-1,_e=W==null?0:W.length;++ee<_e;)if(!oe(W[ee],ee,W))return!1;return!0}function Wi(W,oe){for(var ee=-1,_e=W==null?0:W.length,Re=0,Je=[];++ee<_e;){var kt=W[ee];oe(kt,ee,W)&&(Je[Re++]=kt)}return Je}function Gl(W,oe){var ee=W==null?0:W.length;return!!ee&&lo(W,oe,0)>-1}function vf(W,oe,ee){for(var _e=-1,Re=W==null?0:W.length;++_e<Re;)if(ee(oe,W[_e]))return!0;return!1}function mt(W,oe){for(var ee=-1,_e=W==null?0:W.length,Re=Array(_e);++ee<_e;)Re[ee]=oe(W[ee],ee,W);return Re}function Hi(W,oe){for(var ee=-1,_e=oe.length,Re=W.length;++ee<_e;)W[Re+ee]=oe[ee];return W}function yf(W,oe,ee,_e){var Re=-1,Je=W==null?0:W.length;for(_e&&Je&&(ee=W[++Re]);++Re<Je;)ee=oe(ee,W[Re],Re,W);return ee}function OE(W,oe,ee,_e){var Re=W==null?0:W.length;for(_e&&Re&&(ee=W[--Re]);Re--;)ee=oe(ee,W[Re],Re,W);return ee}function xf(W,oe){for(var ee=-1,_e=W==null?0:W.length;++ee<_e;)if(oe(W[ee],ee,W))return!0;return!1}var PE=bf("length");function EE(W){return W.split("")}function TE(W){return W.match(NP)||[]}function dy(W,oe,ee){var _e;return ee(W,function(Re,Je,kt){if(oe(Re,Je,kt))return _e=Je,!1}),_e}function Yl(W,oe,ee,_e){for(var Re=W.length,Je=ee+(_e?1:-1);_e?Je--:++Je<Re;)if(oe(W[Je],Je,W))return Je;return-1}function lo(W,oe,ee){return oe===oe?UE(W,oe,ee):Yl(W,fy,ee)}function LE(W,oe,ee,_e){for(var Re=ee-1,Je=W.length;++Re<Je;)if(_e(W[Re],oe))return Re;return-1}function fy(W){return W!==W}function hy(W,oe){var ee=W==null?0:W.length;return ee?wf(W,oe)/ee:me}function bf(W){return function(oe){return oe==null?r:oe[W]}}function _f(W){return function(oe){return W==null?r:W[oe]}}function py(W,oe,ee,_e,Re){return Re(W,function(Je,kt,lt){ee=_e?(_e=!1,Je):oe(ee,Je,kt,lt)}),ee}function kE(W,oe){var ee=W.length;for(W.sort(oe);ee--;)W[ee]=W[ee].value;return W}function wf(W,oe){for(var ee,_e=-1,Re=W.length;++_e<Re;){var Je=oe(W[_e]);Je!==r&&(ee=ee===r?Je:ee+Je)}return ee}function jf(W,oe){for(var ee=-1,_e=Array(W);++ee<W;)_e[ee]=oe(ee);return _e}function IE(W,oe){return mt(oe,function(ee){return[ee,W[ee]]})}function gy(W){return W&&W.slice(0,xy(W)+1).replace(cf,"")}function Tr(W){return function(oe){return W(oe)}}function Af(W,oe){return mt(oe,function(ee){return W[ee]})}function bs(W,oe){return W.has(oe)}function my(W,oe){for(var ee=-1,_e=W.length;++ee<_e&&lo(oe,W[ee],0)>-1;);return ee}function vy(W,oe){for(var ee=W.length;ee--&&lo(oe,W[ee],0)>-1;);return ee}function RE(W,oe){for(var ee=W.length,_e=0;ee--;)W[ee]===oe&&++_e;return _e}var ME=_f(yE),DE=_f(xE);function $E(W){return"\\"+_E[W]}function NE(W,oe){return W==null?r:W[oe]}function co(W){return pE.test(W)}function BE(W){return gE.test(W)}function FE(W){for(var oe,ee=[];!(oe=W.next()).done;)ee.push(oe.value);return ee}function Sf(W){var oe=-1,ee=Array(W.size);return W.forEach(function(_e,Re){ee[++oe]=[Re,_e]}),ee}function yy(W,oe){return function(ee){return W(oe(ee))}}function Ki(W,oe){for(var ee=-1,_e=W.length,Re=0,Je=[];++ee<_e;){var kt=W[ee];(kt===oe||kt===f)&&(W[ee]=f,Je[Re++]=ee)}return Je}function ql(W){var oe=-1,ee=Array(W.size);return W.forEach(function(_e){ee[++oe]=_e}),ee}function zE(W){var oe=-1,ee=Array(W.size);return W.forEach(function(_e){ee[++oe]=[_e,_e]}),ee}function UE(W,oe,ee){for(var _e=ee-1,Re=W.length;++_e<Re;)if(W[_e]===oe)return _e;return-1}function WE(W,oe,ee){for(var _e=ee+1;_e--;)if(W[_e]===oe)return _e;return _e}function uo(W){return co(W)?KE(W):PE(W)}function xn(W){return co(W)?ZE(W):EE(W)}function xy(W){for(var oe=W.length;oe--&&RP.test(W.charAt(oe)););return oe}var HE=_f(bE);function KE(W){for(var oe=pf.lastIndex=0;pf.test(W);)++oe;return oe}function ZE(W){return W.match(pf)||[]}function GE(W){return W.match(hE)||[]}var YE=function W(oe){oe=oe==null?Kt:fo.defaults(Kt.Object(),oe,fo.pick(Kt,mE));var ee=oe.Array,_e=oe.Date,Re=oe.Error,Je=oe.Function,kt=oe.Math,lt=oe.Object,Cf=oe.RegExp,qE=oe.String,Gr=oe.TypeError,Vl=ee.prototype,VE=Je.prototype,ho=lt.prototype,Xl=oe["__core-js_shared__"],Jl=VE.toString,nt=ho.hasOwnProperty,XE=0,by=function(){var l=/[^.]+$/.exec(Xl&&Xl.keys&&Xl.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),Ql=ho.toString,JE=Jl.call(lt),QE=Kt._,eT=Cf("^"+Jl.call(nt).replace(lf,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ec=ny?oe.Buffer:r,Zi=oe.Symbol,tc=oe.Uint8Array,_y=ec?ec.allocUnsafe:r,rc=yy(lt.getPrototypeOf,lt),wy=lt.create,jy=ho.propertyIsEnumerable,nc=Vl.splice,Ay=Zi?Zi.isConcatSpreadable:r,_s=Zi?Zi.iterator:r,wa=Zi?Zi.toStringTag:r,ic=function(){try{var l=Oa(lt,"defineProperty");return l({},"",{}),l}catch{}}(),tT=oe.clearTimeout!==Kt.clearTimeout&&oe.clearTimeout,rT=_e&&_e.now!==Kt.Date.now&&_e.now,nT=oe.setTimeout!==Kt.setTimeout&&oe.setTimeout,ac=kt.ceil,oc=kt.floor,Of=lt.getOwnPropertySymbols,iT=ec?ec.isBuffer:r,Sy=oe.isFinite,aT=Vl.join,oT=yy(lt.keys,lt),It=kt.max,tr=kt.min,sT=_e.now,lT=oe.parseInt,Cy=kt.random,cT=Vl.reverse,Pf=Oa(oe,"DataView"),ws=Oa(oe,"Map"),Ef=Oa(oe,"Promise"),po=Oa(oe,"Set"),js=Oa(oe,"WeakMap"),As=Oa(lt,"create"),sc=js&&new js,go={},uT=Pa(Pf),dT=Pa(ws),fT=Pa(Ef),hT=Pa(po),pT=Pa(js),lc=Zi?Zi.prototype:r,Ss=lc?lc.valueOf:r,Oy=lc?lc.toString:r;function P(l){if(jt(l)&&!Me(l)&&!(l instanceof Ke)){if(l instanceof Yr)return l;if(nt.call(l,"__wrapped__"))return Px(l)}return new Yr(l)}var mo=function(){function l(){}return function(h){if(!xt(h))return{};if(wy)return wy(h);l.prototype=h;var v=new l;return l.prototype=r,v}}();function cc(){}function Yr(l,h){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!h,this.__index__=0,this.__values__=r}P.templateSettings={escape:PP,evaluate:EP,interpolate:Dv,variable:"",imports:{_:P}},P.prototype=cc.prototype,P.prototype.constructor=P,Yr.prototype=mo(cc.prototype),Yr.prototype.constructor=Yr;function Ke(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=$,this.__views__=[]}function gT(){var l=new Ke(this.__wrapped__);return l.__actions__=gr(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=gr(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=gr(this.__views__),l}function mT(){if(this.__filtered__){var l=new Ke(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function vT(){var l=this.__wrapped__.value(),h=this.__dir__,v=Me(l),w=h<0,O=v?l.length:0,T=EL(0,O,this.__views__),M=T.start,z=T.end,H=z-M,ce=w?z:M-1,de=this.__iteratees__,he=de.length,ve=0,Ae=tr(H,this.__takeCount__);if(!v||!w&&O==H&&Ae==H)return Xy(l,this.__actions__);var Te=[];e:for(;H--&&ve<Ae;){ce+=h;for(var Be=-1,Le=l[ce];++Be<he;){var He=de[Be],Ge=He.iteratee,Ir=He.type,ur=Ge(Le);if(Ir==Q)Le=ur;else if(!ur){if(Ir==fe)continue e;break e}}Te[ve++]=Le}return Te}Ke.prototype=mo(cc.prototype),Ke.prototype.constructor=Ke;function ja(l){var h=-1,v=l==null?0:l.length;for(this.clear();++h<v;){var w=l[h];this.set(w[0],w[1])}}function yT(){this.__data__=As?As(null):{},this.size=0}function xT(l){var h=this.has(l)&&delete this.__data__[l];return this.size-=h?1:0,h}function bT(l){var h=this.__data__;if(As){var v=h[l];return v===c?r:v}return nt.call(h,l)?h[l]:r}function _T(l){var h=this.__data__;return As?h[l]!==r:nt.call(h,l)}function wT(l,h){var v=this.__data__;return this.size+=this.has(l)?0:1,v[l]=As&&h===r?c:h,this}ja.prototype.clear=yT,ja.prototype.delete=xT,ja.prototype.get=bT,ja.prototype.has=_T,ja.prototype.set=wT;function ii(l){var h=-1,v=l==null?0:l.length;for(this.clear();++h<v;){var w=l[h];this.set(w[0],w[1])}}function jT(){this.__data__=[],this.size=0}function AT(l){var h=this.__data__,v=uc(h,l);if(v<0)return!1;var w=h.length-1;return v==w?h.pop():nc.call(h,v,1),--this.size,!0}function ST(l){var h=this.__data__,v=uc(h,l);return v<0?r:h[v][1]}function CT(l){return uc(this.__data__,l)>-1}function OT(l,h){var v=this.__data__,w=uc(v,l);return w<0?(++this.size,v.push([l,h])):v[w][1]=h,this}ii.prototype.clear=jT,ii.prototype.delete=AT,ii.prototype.get=ST,ii.prototype.has=CT,ii.prototype.set=OT;function ai(l){var h=-1,v=l==null?0:l.length;for(this.clear();++h<v;){var w=l[h];this.set(w[0],w[1])}}function PT(){this.size=0,this.__data__={hash:new ja,map:new(ws||ii),string:new ja}}function ET(l){var h=wc(this,l).delete(l);return this.size-=h?1:0,h}function TT(l){return wc(this,l).get(l)}function LT(l){return wc(this,l).has(l)}function kT(l,h){var v=wc(this,l),w=v.size;return v.set(l,h),this.size+=v.size==w?0:1,this}ai.prototype.clear=PT,ai.prototype.delete=ET,ai.prototype.get=TT,ai.prototype.has=LT,ai.prototype.set=kT;function Aa(l){var h=-1,v=l==null?0:l.length;for(this.__data__=new ai;++h<v;)this.add(l[h])}function IT(l){return this.__data__.set(l,c),this}function RT(l){return this.__data__.has(l)}Aa.prototype.add=Aa.prototype.push=IT,Aa.prototype.has=RT;function bn(l){var h=this.__data__=new ii(l);this.size=h.size}function MT(){this.__data__=new ii,this.size=0}function DT(l){var h=this.__data__,v=h.delete(l);return this.size=h.size,v}function $T(l){return this.__data__.get(l)}function NT(l){return this.__data__.has(l)}function BT(l,h){var v=this.__data__;if(v instanceof ii){var w=v.__data__;if(!ws||w.length<a-1)return w.push([l,h]),this.size=++v.size,this;v=this.__data__=new ai(w)}return v.set(l,h),this.size=v.size,this}bn.prototype.clear=MT,bn.prototype.delete=DT,bn.prototype.get=$T,bn.prototype.has=NT,bn.prototype.set=BT;function Py(l,h){var v=Me(l),w=!v&&Ea(l),O=!v&&!w&&Xi(l),T=!v&&!w&&!O&&bo(l),M=v||w||O||T,z=M?jf(l.length,qE):[],H=z.length;for(var ce in l)(h||nt.call(l,ce))&&!(M&&(ce=="length"||O&&(ce=="offset"||ce=="parent")||T&&(ce=="buffer"||ce=="byteLength"||ce=="byteOffset")||ci(ce,H)))&&z.push(ce);return z}function Ey(l){var h=l.length;return h?l[Ff(0,h-1)]:r}function FT(l,h){return jc(gr(l),Sa(h,0,l.length))}function zT(l){return jc(gr(l))}function Tf(l,h,v){(v!==r&&!_n(l[h],v)||v===r&&!(h in l))&&oi(l,h,v)}function Cs(l,h,v){var w=l[h];(!(nt.call(l,h)&&_n(w,v))||v===r&&!(h in l))&&oi(l,h,v)}function uc(l,h){for(var v=l.length;v--;)if(_n(l[v][0],h))return v;return-1}function UT(l,h,v,w){return Gi(l,function(O,T,M){h(w,O,v(O),M)}),w}function Ty(l,h){return l&&Nn(h,Nt(h),l)}function WT(l,h){return l&&Nn(h,vr(h),l)}function oi(l,h,v){h=="__proto__"&&ic?ic(l,h,{configurable:!0,enumerable:!0,value:v,writable:!0}):l[h]=v}function Lf(l,h){for(var v=-1,w=h.length,O=ee(w),T=l==null;++v<w;)O[v]=T?r:dh(l,h[v]);return O}function Sa(l,h,v){return l===l&&(v!==r&&(l=l<=v?l:v),h!==r&&(l=l>=h?l:h)),l}function qr(l,h,v,w,O,T){var M,z=h&p,H=h&g,ce=h&m;if(v&&(M=O?v(l,w,O,T):v(l)),M!==r)return M;if(!xt(l))return l;var de=Me(l);if(de){if(M=LL(l),!z)return gr(l,M)}else{var he=rr(l),ve=he==ie||he==K;if(Xi(l))return ex(l,z);if(he==le||he==pe||ve&&!O){if(M=H||ve?{}:xx(l),!z)return H?bL(l,WT(M,l)):xL(l,Ty(M,l))}else{if(!ut[he])return O?l:{};M=kL(l,he,z)}}T||(T=new bn);var Ae=T.get(l);if(Ae)return Ae;T.set(l,M),Yx(l)?l.forEach(function(Le){M.add(qr(Le,h,v,Le,l,T))}):Zx(l)&&l.forEach(function(Le,He){M.set(He,qr(Le,h,v,He,l,T))});var Te=ce?H?Xf:Vf:H?vr:Nt,Be=de?r:Te(l);return Zr(Be||l,function(Le,He){Be&&(He=Le,Le=l[He]),Cs(M,He,qr(Le,h,v,He,l,T))}),M}function HT(l){var h=Nt(l);return function(v){return Ly(v,l,h)}}function Ly(l,h,v){var w=v.length;if(l==null)return!w;for(l=lt(l);w--;){var O=v[w],T=h[O],M=l[O];if(M===r&&!(O in l)||!T(M))return!1}return!0}function ky(l,h,v){if(typeof l!="function")throw new Gr(o);return Is(function(){l.apply(r,v)},h)}function Os(l,h,v,w){var O=-1,T=Gl,M=!0,z=l.length,H=[],ce=h.length;if(!z)return H;v&&(h=mt(h,Tr(v))),w?(T=vf,M=!1):h.length>=a&&(T=bs,M=!1,h=new Aa(h));e:for(;++O<z;){var de=l[O],he=v==null?de:v(de);if(de=w||de!==0?de:0,M&&he===he){for(var ve=ce;ve--;)if(h[ve]===he)continue e;H.push(de)}else T(h,he,w)||H.push(de)}return H}var Gi=ax($n),Iy=ax(If,!0);function KT(l,h){var v=!0;return Gi(l,function(w,O,T){return v=!!h(w,O,T),v}),v}function dc(l,h,v){for(var w=-1,O=l.length;++w<O;){var T=l[w],M=h(T);if(M!=null&&(z===r?M===M&&!kr(M):v(M,z)))var z=M,H=T}return H}function ZT(l,h,v,w){var O=l.length;for(v=Ne(v),v<0&&(v=-v>O?0:O+v),w=w===r||w>O?O:Ne(w),w<0&&(w+=O),w=v>w?0:Vx(w);v<w;)l[v++]=h;return l}function Ry(l,h){var v=[];return Gi(l,function(w,O,T){h(w,O,T)&&v.push(w)}),v}function Zt(l,h,v,w,O){var T=-1,M=l.length;for(v||(v=RL),O||(O=[]);++T<M;){var z=l[T];h>0&&v(z)?h>1?Zt(z,h-1,v,w,O):Hi(O,z):w||(O[O.length]=z)}return O}var kf=ox(),My=ox(!0);function $n(l,h){return l&&kf(l,h,Nt)}function If(l,h){return l&&My(l,h,Nt)}function fc(l,h){return Wi(h,function(v){return ui(l[v])})}function Ca(l,h){h=qi(h,l);for(var v=0,w=h.length;l!=null&&v<w;)l=l[Bn(h[v++])];return v&&v==w?l:r}function Dy(l,h,v){var w=h(l);return Me(l)?w:Hi(w,v(l))}function lr(l){return l==null?l===r?oo:We:wa&&wa in lt(l)?PL(l):zL(l)}function Rf(l,h){return l>h}function GT(l,h){return l!=null&&nt.call(l,h)}function YT(l,h){return l!=null&&h in lt(l)}function qT(l,h,v){return l>=tr(h,v)&&l<It(h,v)}function Mf(l,h,v){for(var w=v?vf:Gl,O=l[0].length,T=l.length,M=T,z=ee(T),H=1/0,ce=[];M--;){var de=l[M];M&&h&&(de=mt(de,Tr(h))),H=tr(de.length,H),z[M]=!v&&(h||O>=120&&de.length>=120)?new Aa(M&&de):r}de=l[0];var he=-1,ve=z[0];e:for(;++he<O&&ce.length<H;){var Ae=de[he],Te=h?h(Ae):Ae;if(Ae=v||Ae!==0?Ae:0,!(ve?bs(ve,Te):w(ce,Te,v))){for(M=T;--M;){var Be=z[M];if(!(Be?bs(Be,Te):w(l[M],Te,v)))continue e}ve&&ve.push(Te),ce.push(Ae)}}return ce}function VT(l,h,v,w){return $n(l,function(O,T,M){h(w,v(O),T,M)}),w}function Ps(l,h,v){h=qi(h,l),l=jx(l,h);var w=l==null?l:l[Bn(Xr(h))];return w==null?r:Er(w,l,v)}function $y(l){return jt(l)&&lr(l)==pe}function XT(l){return jt(l)&&lr(l)==yn}function JT(l){return jt(l)&&lr(l)==F}function Es(l,h,v,w,O){return l===h?!0:l==null||h==null||!jt(l)&&!jt(h)?l!==l&&h!==h:QT(l,h,v,w,Es,O)}function QT(l,h,v,w,O,T){var M=Me(l),z=Me(h),H=M?Ce:rr(l),ce=z?Ce:rr(h);H=H==pe?le:H,ce=ce==pe?le:ce;var de=H==le,he=ce==le,ve=H==ce;if(ve&&Xi(l)){if(!Xi(h))return!1;M=!0,de=!1}if(ve&&!de)return T||(T=new bn),M||bo(l)?mx(l,h,v,w,O,T):CL(l,h,H,v,w,O,T);if(!(v&x)){var Ae=de&&nt.call(l,"__wrapped__"),Te=he&&nt.call(h,"__wrapped__");if(Ae||Te){var Be=Ae?l.value():l,Le=Te?h.value():h;return T||(T=new bn),O(Be,Le,v,w,T)}}return ve?(T||(T=new bn),OL(l,h,v,w,O,T)):!1}function eL(l){return jt(l)&&rr(l)==q}function Df(l,h,v,w){var O=v.length,T=O,M=!w;if(l==null)return!T;for(l=lt(l);O--;){var z=v[O];if(M&&z[2]?z[1]!==l[z[0]]:!(z[0]in l))return!1}for(;++O<T;){z=v[O];var H=z[0],ce=l[H],de=z[1];if(M&&z[2]){if(ce===r&&!(H in l))return!1}else{var he=new bn;if(w)var ve=w(ce,de,H,l,h,he);if(!(ve===r?Es(de,ce,x|b,w,he):ve))return!1}}return!0}function Ny(l){if(!xt(l)||DL(l))return!1;var h=ui(l)?eT:HP;return h.test(Pa(l))}function tL(l){return jt(l)&&lr(l)==gt}function rL(l){return jt(l)&&rr(l)==Ze}function nL(l){return jt(l)&&Ec(l.length)&&!!ht[lr(l)]}function By(l){return typeof l=="function"?l:l==null?yr:typeof l=="object"?Me(l)?Uy(l[0],l[1]):zy(l):s0(l)}function $f(l){if(!ks(l))return oT(l);var h=[];for(var v in lt(l))nt.call(l,v)&&v!="constructor"&&h.push(v);return h}function iL(l){if(!xt(l))return FL(l);var h=ks(l),v=[];for(var w in l)w=="constructor"&&(h||!nt.call(l,w))||v.push(w);return v}function Nf(l,h){return l<h}function Fy(l,h){var v=-1,w=mr(l)?ee(l.length):[];return Gi(l,function(O,T,M){w[++v]=h(O,T,M)}),w}function zy(l){var h=Qf(l);return h.length==1&&h[0][2]?_x(h[0][0],h[0][1]):function(v){return v===l||Df(v,l,h)}}function Uy(l,h){return th(l)&&bx(h)?_x(Bn(l),h):function(v){var w=dh(v,l);return w===r&&w===h?fh(v,l):Es(h,w,x|b)}}function hc(l,h,v,w,O){l!==h&&kf(h,function(T,M){if(O||(O=new bn),xt(T))aL(l,h,M,v,hc,w,O);else{var z=w?w(nh(l,M),T,M+"",l,h,O):r;z===r&&(z=T),Tf(l,M,z)}},vr)}function aL(l,h,v,w,O,T,M){var z=nh(l,v),H=nh(h,v),ce=M.get(H);if(ce){Tf(l,v,ce);return}var de=T?T(z,H,v+"",l,h,M):r,he=de===r;if(he){var ve=Me(H),Ae=!ve&&Xi(H),Te=!ve&&!Ae&&bo(H);de=H,ve||Ae||Te?Me(z)?de=z:Ot(z)?de=gr(z):Ae?(he=!1,de=ex(H,!0)):Te?(he=!1,de=tx(H,!0)):de=[]:Rs(H)||Ea(H)?(de=z,Ea(z)?de=Xx(z):(!xt(z)||ui(z))&&(de=xx(H))):he=!1}he&&(M.set(H,de),O(de,H,w,T,M),M.delete(H)),Tf(l,v,de)}function Wy(l,h){var v=l.length;if(v)return h+=h<0?v:0,ci(h,v)?l[h]:r}function Hy(l,h,v){h.length?h=mt(h,function(T){return Me(T)?function(M){return Ca(M,T.length===1?T[0]:T)}:T}):h=[yr];var w=-1;h=mt(h,Tr(Ee()));var O=Fy(l,function(T,M,z){var H=mt(h,function(ce){return ce(T)});return{criteria:H,index:++w,value:T}});return kE(O,function(T,M){return yL(T,M,v)})}function oL(l,h){return Ky(l,h,function(v,w){return fh(l,w)})}function Ky(l,h,v){for(var w=-1,O=h.length,T={};++w<O;){var M=h[w],z=Ca(l,M);v(z,M)&&Ts(T,qi(M,l),z)}return T}function sL(l){return function(h){return Ca(h,l)}}function Bf(l,h,v,w){var O=w?LE:lo,T=-1,M=h.length,z=l;for(l===h&&(h=gr(h)),v&&(z=mt(l,Tr(v)));++T<M;)for(var H=0,ce=h[T],de=v?v(ce):ce;(H=O(z,de,H,w))>-1;)z!==l&&nc.call(z,H,1),nc.call(l,H,1);return l}function Zy(l,h){for(var v=l?h.length:0,w=v-1;v--;){var O=h[v];if(v==w||O!==T){var T=O;ci(O)?nc.call(l,O,1):Wf(l,O)}}return l}function Ff(l,h){return l+oc(Cy()*(h-l+1))}function lL(l,h,v,w){for(var O=-1,T=It(ac((h-l)/(v||1)),0),M=ee(T);T--;)M[w?T:++O]=l,l+=v;return M}function zf(l,h){var v="";if(!l||h<1||h>X)return v;do h%2&&(v+=l),h=oc(h/2),h&&(l+=l);while(h);return v}function Fe(l,h){return ih(wx(l,h,yr),l+"")}function cL(l){return Ey(_o(l))}function uL(l,h){var v=_o(l);return jc(v,Sa(h,0,v.length))}function Ts(l,h,v,w){if(!xt(l))return l;h=qi(h,l);for(var O=-1,T=h.length,M=T-1,z=l;z!=null&&++O<T;){var H=Bn(h[O]),ce=v;if(H==="__proto__"||H==="constructor"||H==="prototype")return l;if(O!=M){var de=z[H];ce=w?w(de,H,z):r,ce===r&&(ce=xt(de)?de:ci(h[O+1])?[]:{})}Cs(z,H,ce),z=z[H]}return l}var Gy=sc?function(l,h){return sc.set(l,h),l}:yr,dL=ic?function(l,h){return ic(l,"toString",{configurable:!0,enumerable:!1,value:ph(h),writable:!0})}:yr;function fL(l){return jc(_o(l))}function Vr(l,h,v){var w=-1,O=l.length;h<0&&(h=-h>O?0:O+h),v=v>O?O:v,v<0&&(v+=O),O=h>v?0:v-h>>>0,h>>>=0;for(var T=ee(O);++w<O;)T[w]=l[w+h];return T}function hL(l,h){var v;return Gi(l,function(w,O,T){return v=h(w,O,T),!v}),!!v}function pc(l,h,v){var w=0,O=l==null?w:l.length;if(typeof h=="number"&&h===h&&O<=Y){for(;w<O;){var T=w+O>>>1,M=l[T];M!==null&&!kr(M)&&(v?M<=h:M<h)?w=T+1:O=T}return O}return Uf(l,h,yr,v)}function Uf(l,h,v,w){var O=0,T=l==null?0:l.length;if(T===0)return 0;h=v(h);for(var M=h!==h,z=h===null,H=kr(h),ce=h===r;O<T;){var de=oc((O+T)/2),he=v(l[de]),ve=he!==r,Ae=he===null,Te=he===he,Be=kr(he);if(M)var Le=w||Te;else ce?Le=Te&&(w||ve):z?Le=Te&&ve&&(w||!Ae):H?Le=Te&&ve&&!Ae&&(w||!Be):Ae||Be?Le=!1:Le=w?he<=h:he<h;Le?O=de+1:T=de}return tr(T,N)}function Yy(l,h){for(var v=-1,w=l.length,O=0,T=[];++v<w;){var M=l[v],z=h?h(M):M;if(!v||!_n(z,H)){var H=z;T[O++]=M===0?0:M}}return T}function qy(l){return typeof l=="number"?l:kr(l)?me:+l}function Lr(l){if(typeof l=="string")return l;if(Me(l))return mt(l,Lr)+"";if(kr(l))return Oy?Oy.call(l):"";var h=l+"";return h=="0"&&1/l==-B?"-0":h}function Yi(l,h,v){var w=-1,O=Gl,T=l.length,M=!0,z=[],H=z;if(v)M=!1,O=vf;else if(T>=a){var ce=h?null:AL(l);if(ce)return ql(ce);M=!1,O=bs,H=new Aa}else H=h?[]:z;e:for(;++w<T;){var de=l[w],he=h?h(de):de;if(de=v||de!==0?de:0,M&&he===he){for(var ve=H.length;ve--;)if(H[ve]===he)continue e;h&&H.push(he),z.push(de)}else O(H,he,v)||(H!==z&&H.push(he),z.push(de))}return z}function Wf(l,h){return h=qi(h,l),l=jx(l,h),l==null||delete l[Bn(Xr(h))]}function Vy(l,h,v,w){return Ts(l,h,v(Ca(l,h)),w)}function gc(l,h,v,w){for(var O=l.length,T=w?O:-1;(w?T--:++T<O)&&h(l[T],T,l););return v?Vr(l,w?0:T,w?T+1:O):Vr(l,w?T+1:0,w?O:T)}function Xy(l,h){var v=l;return v instanceof Ke&&(v=v.value()),yf(h,function(w,O){return O.func.apply(O.thisArg,Hi([w],O.args))},v)}function Hf(l,h,v){var w=l.length;if(w<2)return w?Yi(l[0]):[];for(var O=-1,T=ee(w);++O<w;)for(var M=l[O],z=-1;++z<w;)z!=O&&(T[O]=Os(T[O]||M,l[z],h,v));return Yi(Zt(T,1),h,v)}function Jy(l,h,v){for(var w=-1,O=l.length,T=h.length,M={};++w<O;){var z=w<T?h[w]:r;v(M,l[w],z)}return M}function Kf(l){return Ot(l)?l:[]}function Zf(l){return typeof l=="function"?l:yr}function qi(l,h){return Me(l)?l:th(l,h)?[l]:Ox(rt(l))}var pL=Fe;function Vi(l,h,v){var w=l.length;return v=v===r?w:v,!h&&v>=w?l:Vr(l,h,v)}var Qy=tT||function(l){return Kt.clearTimeout(l)};function ex(l,h){if(h)return l.slice();var v=l.length,w=_y?_y(v):new l.constructor(v);return l.copy(w),w}function Gf(l){var h=new l.constructor(l.byteLength);return new tc(h).set(new tc(l)),h}function gL(l,h){var v=h?Gf(l.buffer):l.buffer;return new l.constructor(v,l.byteOffset,l.byteLength)}function mL(l){var h=new l.constructor(l.source,$v.exec(l));return h.lastIndex=l.lastIndex,h}function vL(l){return Ss?lt(Ss.call(l)):{}}function tx(l,h){var v=h?Gf(l.buffer):l.buffer;return new l.constructor(v,l.byteOffset,l.length)}function rx(l,h){if(l!==h){var v=l!==r,w=l===null,O=l===l,T=kr(l),M=h!==r,z=h===null,H=h===h,ce=kr(h);if(!z&&!ce&&!T&&l>h||T&&M&&H&&!z&&!ce||w&&M&&H||!v&&H||!O)return 1;if(!w&&!T&&!ce&&l<h||ce&&v&&O&&!w&&!T||z&&v&&O||!M&&O||!H)return-1}return 0}function yL(l,h,v){for(var w=-1,O=l.criteria,T=h.criteria,M=O.length,z=v.length;++w<M;){var H=rx(O[w],T[w]);if(H){if(w>=z)return H;var ce=v[w];return H*(ce=="desc"?-1:1)}}return l.index-h.index}function nx(l,h,v,w){for(var O=-1,T=l.length,M=v.length,z=-1,H=h.length,ce=It(T-M,0),de=ee(H+ce),he=!w;++z<H;)de[z]=h[z];for(;++O<M;)(he||O<T)&&(de[v[O]]=l[O]);for(;ce--;)de[z++]=l[O++];return de}function ix(l,h,v,w){for(var O=-1,T=l.length,M=-1,z=v.length,H=-1,ce=h.length,de=It(T-z,0),he=ee(de+ce),ve=!w;++O<de;)he[O]=l[O];for(var Ae=O;++H<ce;)he[Ae+H]=h[H];for(;++M<z;)(ve||O<T)&&(he[Ae+v[M]]=l[O++]);return he}function gr(l,h){var v=-1,w=l.length;for(h||(h=ee(w));++v<w;)h[v]=l[v];return h}function Nn(l,h,v,w){var O=!v;v||(v={});for(var T=-1,M=h.length;++T<M;){var z=h[T],H=w?w(v[z],l[z],z,v,l):r;H===r&&(H=l[z]),O?oi(v,z,H):Cs(v,z,H)}return v}function xL(l,h){return Nn(l,eh(l),h)}function bL(l,h){return Nn(l,vx(l),h)}function mc(l,h){return function(v,w){var O=Me(v)?SE:UT,T=h?h():{};return O(v,l,Ee(w,2),T)}}function vo(l){return Fe(function(h,v){var w=-1,O=v.length,T=O>1?v[O-1]:r,M=O>2?v[2]:r;for(T=l.length>3&&typeof T=="function"?(O--,T):r,M&&cr(v[0],v[1],M)&&(T=O<3?r:T,O=1),h=lt(h);++w<O;){var z=v[w];z&&l(h,z,w,T)}return h})}function ax(l,h){return function(v,w){if(v==null)return v;if(!mr(v))return l(v,w);for(var O=v.length,T=h?O:-1,M=lt(v);(h?T--:++T<O)&&w(M[T],T,M)!==!1;);return v}}function ox(l){return function(h,v,w){for(var O=-1,T=lt(h),M=w(h),z=M.length;z--;){var H=M[l?z:++O];if(v(T[H],H,T)===!1)break}return h}}function _L(l,h,v){var w=h&_,O=Ls(l);function T(){var M=this&&this!==Kt&&this instanceof T?O:l;return M.apply(w?v:this,arguments)}return T}function sx(l){return function(h){h=rt(h);var v=co(h)?xn(h):r,w=v?v[0]:h.charAt(0),O=v?Vi(v,1).join(""):h.slice(1);return w[l]()+O}}function yo(l){return function(h){return yf(a0(i0(h).replace(dE,"")),l,"")}}function Ls(l){return function(){var h=arguments;switch(h.length){case 0:return new l;case 1:return new l(h[0]);case 2:return new l(h[0],h[1]);case 3:return new l(h[0],h[1],h[2]);case 4:return new l(h[0],h[1],h[2],h[3]);case 5:return new l(h[0],h[1],h[2],h[3],h[4]);case 6:return new l(h[0],h[1],h[2],h[3],h[4],h[5]);case 7:return new l(h[0],h[1],h[2],h[3],h[4],h[5],h[6])}var v=mo(l.prototype),w=l.apply(v,h);return xt(w)?w:v}}function wL(l,h,v){var w=Ls(l);function O(){for(var T=arguments.length,M=ee(T),z=T,H=xo(O);z--;)M[z]=arguments[z];var ce=T<3&&M[0]!==H&&M[T-1]!==H?[]:Ki(M,H);if(T-=ce.length,T<v)return fx(l,h,vc,O.placeholder,r,M,ce,r,r,v-T);var de=this&&this!==Kt&&this instanceof O?w:l;return Er(de,this,M)}return O}function lx(l){return function(h,v,w){var O=lt(h);if(!mr(h)){var T=Ee(v,3);h=Nt(h),v=function(z){return T(O[z],z,O)}}var M=l(h,v,w);return M>-1?O[T?h[M]:M]:r}}function cx(l){return li(function(h){var v=h.length,w=v,O=Yr.prototype.thru;for(l&&h.reverse();w--;){var T=h[w];if(typeof T!="function")throw new Gr(o);if(O&&!M&&_c(T)=="wrapper")var M=new Yr([],!0)}for(w=M?w:v;++w<v;){T=h[w];var z=_c(T),H=z=="wrapper"?Jf(T):r;H&&rh(H[0])&&H[1]==(I|S|E|U)&&!H[4].length&&H[9]==1?M=M[_c(H[0])].apply(M,H[3]):M=T.length==1&&rh(T)?M[z]():M.thru(T)}return function(){var ce=arguments,de=ce[0];if(M&&ce.length==1&&Me(de))return M.plant(de).value();for(var he=0,ve=v?h[he].apply(this,ce):de;++he<v;)ve=h[he].call(this,ve);return ve}})}function vc(l,h,v,w,O,T,M,z,H,ce){var de=h&I,he=h&_,ve=h&j,Ae=h&(S|C),Te=h&V,Be=ve?r:Ls(l);function Le(){for(var He=arguments.length,Ge=ee(He),Ir=He;Ir--;)Ge[Ir]=arguments[Ir];if(Ae)var ur=xo(Le),Rr=RE(Ge,ur);if(w&&(Ge=nx(Ge,w,O,Ae)),T&&(Ge=ix(Ge,T,M,Ae)),He-=Rr,Ae&&He<ce){var Pt=Ki(Ge,ur);return fx(l,h,vc,Le.placeholder,v,Ge,Pt,z,H,ce-He)}var wn=he?v:this,fi=ve?wn[l]:l;return He=Ge.length,z?Ge=UL(Ge,z):Te&&He>1&&Ge.reverse(),de&&H<He&&(Ge.length=H),this&&this!==Kt&&this instanceof Le&&(fi=Be||Ls(fi)),fi.apply(wn,Ge)}return Le}function ux(l,h){return function(v,w){return VT(v,l,h(w),{})}}function yc(l,h){return function(v,w){var O;if(v===r&&w===r)return h;if(v!==r&&(O=v),w!==r){if(O===r)return w;typeof v=="string"||typeof w=="string"?(v=Lr(v),w=Lr(w)):(v=qy(v),w=qy(w)),O=l(v,w)}return O}}function Yf(l){return li(function(h){return h=mt(h,Tr(Ee())),Fe(function(v){var w=this;return l(h,function(O){return Er(O,w,v)})})})}function xc(l,h){h=h===r?" ":Lr(h);var v=h.length;if(v<2)return v?zf(h,l):h;var w=zf(h,ac(l/uo(h)));return co(h)?Vi(xn(w),0,l).join(""):w.slice(0,l)}function jL(l,h,v,w){var O=h&_,T=Ls(l);function M(){for(var z=-1,H=arguments.length,ce=-1,de=w.length,he=ee(de+H),ve=this&&this!==Kt&&this instanceof M?T:l;++ce<de;)he[ce]=w[ce];for(;H--;)he[ce++]=arguments[++z];return Er(ve,O?v:this,he)}return M}function dx(l){return function(h,v,w){return w&&typeof w!="number"&&cr(h,v,w)&&(v=w=r),h=di(h),v===r?(v=h,h=0):v=di(v),w=w===r?h<v?1:-1:di(w),lL(h,v,w,l)}}function bc(l){return function(h,v){return typeof h=="string"&&typeof v=="string"||(h=Jr(h),v=Jr(v)),l(h,v)}}function fx(l,h,v,w,O,T,M,z,H,ce){var de=h&S,he=de?M:r,ve=de?r:M,Ae=de?T:r,Te=de?r:T;h|=de?E:k,h&=~(de?k:E),h&A||(h&=-4);var Be=[l,h,O,Ae,he,Te,ve,z,H,ce],Le=v.apply(r,Be);return rh(l)&&Ax(Le,Be),Le.placeholder=w,Sx(Le,l,h)}function qf(l){var h=kt[l];return function(v,w){if(v=Jr(v),w=w==null?0:tr(Ne(w),292),w&&Sy(v)){var O=(rt(v)+"e").split("e"),T=h(O[0]+"e"+(+O[1]+w));return O=(rt(T)+"e").split("e"),+(O[0]+"e"+(+O[1]-w))}return h(v)}}var AL=po&&1/ql(new po([,-0]))[1]==B?function(l){return new po(l)}:vh;function hx(l){return function(h){var v=rr(h);return v==q?Sf(h):v==Ze?zE(h):IE(h,l(h))}}function si(l,h,v,w,O,T,M,z){var H=h&j;if(!H&&typeof l!="function")throw new Gr(o);var ce=w?w.length:0;if(ce||(h&=-97,w=O=r),M=M===r?M:It(Ne(M),0),z=z===r?z:Ne(z),ce-=O?O.length:0,h&k){var de=w,he=O;w=O=r}var ve=H?r:Jf(l),Ae=[l,h,v,w,O,de,he,T,M,z];if(ve&&BL(Ae,ve),l=Ae[0],h=Ae[1],v=Ae[2],w=Ae[3],O=Ae[4],z=Ae[9]=Ae[9]===r?H?0:l.length:It(Ae[9]-ce,0),!z&&h&(S|C)&&(h&=-25),!h||h==_)var Te=_L(l,h,v);else h==S||h==C?Te=wL(l,h,z):(h==E||h==(_|E))&&!O.length?Te=jL(l,h,v,w):Te=vc.apply(r,Ae);var Be=ve?Gy:Ax;return Sx(Be(Te,Ae),l,h)}function px(l,h,v,w){return l===r||_n(l,ho[v])&&!nt.call(w,v)?h:l}function gx(l,h,v,w,O,T){return xt(l)&&xt(h)&&(T.set(h,l),hc(l,h,r,gx,T),T.delete(h)),l}function SL(l){return Rs(l)?r:l}function mx(l,h,v,w,O,T){var M=v&x,z=l.length,H=h.length;if(z!=H&&!(M&&H>z))return!1;var ce=T.get(l),de=T.get(h);if(ce&&de)return ce==h&&de==l;var he=-1,ve=!0,Ae=v&b?new Aa:r;for(T.set(l,h),T.set(h,l);++he<z;){var Te=l[he],Be=h[he];if(w)var Le=M?w(Be,Te,he,h,l,T):w(Te,Be,he,l,h,T);if(Le!==r){if(Le)continue;ve=!1;break}if(Ae){if(!xf(h,function(He,Ge){if(!bs(Ae,Ge)&&(Te===He||O(Te,He,v,w,T)))return Ae.push(Ge)})){ve=!1;break}}else if(!(Te===Be||O(Te,Be,v,w,T))){ve=!1;break}}return T.delete(l),T.delete(h),ve}function CL(l,h,v,w,O,T,M){switch(v){case Hr:if(l.byteLength!=h.byteLength||l.byteOffset!=h.byteOffset)return!1;l=l.buffer,h=h.buffer;case yn:return!(l.byteLength!=h.byteLength||!T(new tc(l),new tc(h)));case Ye:case F:case be:return _n(+l,+h);case je:return l.name==h.name&&l.message==h.message;case gt:case st:return l==h+"";case q:var z=Sf;case Ze:var H=w&x;if(z||(z=ql),l.size!=h.size&&!H)return!1;var ce=M.get(l);if(ce)return ce==h;w|=b,M.set(l,h);var de=mx(z(l),z(h),w,O,T,M);return M.delete(l),de;case er:if(Ss)return Ss.call(l)==Ss.call(h)}return!1}function OL(l,h,v,w,O,T){var M=v&x,z=Vf(l),H=z.length,ce=Vf(h),de=ce.length;if(H!=de&&!M)return!1;for(var he=H;he--;){var ve=z[he];if(!(M?ve in h:nt.call(h,ve)))return!1}var Ae=T.get(l),Te=T.get(h);if(Ae&&Te)return Ae==h&&Te==l;var Be=!0;T.set(l,h),T.set(h,l);for(var Le=M;++he<H;){ve=z[he];var He=l[ve],Ge=h[ve];if(w)var Ir=M?w(Ge,He,ve,h,l,T):w(He,Ge,ve,l,h,T);if(!(Ir===r?He===Ge||O(He,Ge,v,w,T):Ir)){Be=!1;break}Le||(Le=ve=="constructor")}if(Be&&!Le){var ur=l.constructor,Rr=h.constructor;ur!=Rr&&"constructor"in l&&"constructor"in h&&!(typeof ur=="function"&&ur instanceof ur&&typeof Rr=="function"&&Rr instanceof Rr)&&(Be=!1)}return T.delete(l),T.delete(h),Be}function li(l){return ih(wx(l,r,Lx),l+"")}function Vf(l){return Dy(l,Nt,eh)}function Xf(l){return Dy(l,vr,vx)}var Jf=sc?function(l){return sc.get(l)}:vh;function _c(l){for(var h=l.name+"",v=go[h],w=nt.call(go,h)?v.length:0;w--;){var O=v[w],T=O.func;if(T==null||T==l)return O.name}return h}function xo(l){var h=nt.call(P,"placeholder")?P:l;return h.placeholder}function Ee(){var l=P.iteratee||gh;return l=l===gh?By:l,arguments.length?l(arguments[0],arguments[1]):l}function wc(l,h){var v=l.__data__;return ML(h)?v[typeof h=="string"?"string":"hash"]:v.map}function Qf(l){for(var h=Nt(l),v=h.length;v--;){var w=h[v],O=l[w];h[v]=[w,O,bx(O)]}return h}function Oa(l,h){var v=NE(l,h);return Ny(v)?v:r}function PL(l){var h=nt.call(l,wa),v=l[wa];try{l[wa]=r;var w=!0}catch{}var O=Ql.call(l);return w&&(h?l[wa]=v:delete l[wa]),O}var eh=Of?function(l){return l==null?[]:(l=lt(l),Wi(Of(l),function(h){return jy.call(l,h)}))}:yh,vx=Of?function(l){for(var h=[];l;)Hi(h,eh(l)),l=rc(l);return h}:yh,rr=lr;(Pf&&rr(new Pf(new ArrayBuffer(1)))!=Hr||ws&&rr(new ws)!=q||Ef&&rr(Ef.resolve())!=Oe||po&&rr(new po)!=Ze||js&&rr(new js)!=Dn)&&(rr=function(l){var h=lr(l),v=h==le?l.constructor:r,w=v?Pa(v):"";if(w)switch(w){case uT:return Hr;case dT:return q;case fT:return Oe;case hT:return Ze;case pT:return Dn}return h});function EL(l,h,v){for(var w=-1,O=v.length;++w<O;){var T=v[w],M=T.size;switch(T.type){case"drop":l+=M;break;case"dropRight":h-=M;break;case"take":h=tr(h,l+M);break;case"takeRight":l=It(l,h-M);break}}return{start:l,end:h}}function TL(l){var h=l.match(DP);return h?h[1].split($P):[]}function yx(l,h,v){h=qi(h,l);for(var w=-1,O=h.length,T=!1;++w<O;){var M=Bn(h[w]);if(!(T=l!=null&&v(l,M)))break;l=l[M]}return T||++w!=O?T:(O=l==null?0:l.length,!!O&&Ec(O)&&ci(M,O)&&(Me(l)||Ea(l)))}function LL(l){var h=l.length,v=new l.constructor(h);return h&&typeof l[0]=="string"&&nt.call(l,"index")&&(v.index=l.index,v.input=l.input),v}function xx(l){return typeof l.constructor=="function"&&!ks(l)?mo(rc(l)):{}}function kL(l,h,v){var w=l.constructor;switch(h){case yn:return Gf(l);case Ye:case F:return new w(+l);case Hr:return gL(l,v);case Ui:case Qd:case ef:case tf:case rf:case nf:case af:case of:case sf:return tx(l,v);case q:return new w;case be:case st:return new w(l);case gt:return mL(l);case Ze:return new w;case er:return vL(l)}}function IL(l,h){var v=h.length;if(!v)return l;var w=v-1;return h[w]=(v>1?"& ":"")+h[w],h=h.join(v>2?", ":" "),l.replace(MP,`{
/* [wrapped with `+h+`] */
`)}function RL(l){return Me(l)||Ea(l)||!!(Ay&&l&&l[Ay])}function ci(l,h){var v=typeof l;return h=h??X,!!h&&(v=="number"||v!="symbol"&&ZP.test(l))&&l>-1&&l%1==0&&l<h}function cr(l,h,v){if(!xt(v))return!1;var w=typeof h;return(w=="number"?mr(v)&&ci(h,v.length):w=="string"&&h in v)?_n(v[h],l):!1}function th(l,h){if(Me(l))return!1;var v=typeof l;return v=="number"||v=="symbol"||v=="boolean"||l==null||kr(l)?!0:LP.test(l)||!TP.test(l)||h!=null&&l in lt(h)}function ML(l){var h=typeof l;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?l!=="__proto__":l===null}function rh(l){var h=_c(l),v=P[h];if(typeof v!="function"||!(h in Ke.prototype))return!1;if(l===v)return!0;var w=Jf(v);return!!w&&l===w[0]}function DL(l){return!!by&&by in l}var $L=Xl?ui:xh;function ks(l){var h=l&&l.constructor,v=typeof h=="function"&&h.prototype||ho;return l===v}function bx(l){return l===l&&!xt(l)}function _x(l,h){return function(v){return v==null?!1:v[l]===h&&(h!==r||l in lt(v))}}function NL(l){var h=Oc(l,function(w){return v.size===d&&v.clear(),w}),v=h.cache;return h}function BL(l,h){var v=l[1],w=h[1],O=v|w,T=O<(_|j|I),M=w==I&&v==S||w==I&&v==U&&l[7].length<=h[8]||w==(I|U)&&h[7].length<=h[8]&&v==S;if(!(T||M))return l;w&_&&(l[2]=h[2],O|=v&_?0:A);var z=h[3];if(z){var H=l[3];l[3]=H?nx(H,z,h[4]):z,l[4]=H?Ki(l[3],f):h[4]}return z=h[5],z&&(H=l[5],l[5]=H?ix(H,z,h[6]):z,l[6]=H?Ki(l[5],f):h[6]),z=h[7],z&&(l[7]=z),w&I&&(l[8]=l[8]==null?h[8]:tr(l[8],h[8])),l[9]==null&&(l[9]=h[9]),l[0]=h[0],l[1]=O,l}function FL(l){var h=[];if(l!=null)for(var v in lt(l))h.push(v);return h}function zL(l){return Ql.call(l)}function wx(l,h,v){return h=It(h===r?l.length-1:h,0),function(){for(var w=arguments,O=-1,T=It(w.length-h,0),M=ee(T);++O<T;)M[O]=w[h+O];O=-1;for(var z=ee(h+1);++O<h;)z[O]=w[O];return z[h]=v(M),Er(l,this,z)}}function jx(l,h){return h.length<2?l:Ca(l,Vr(h,0,-1))}function UL(l,h){for(var v=l.length,w=tr(h.length,v),O=gr(l);w--;){var T=h[w];l[w]=ci(T,v)?O[T]:r}return l}function nh(l,h){if(!(h==="constructor"&&typeof l[h]=="function")&&h!="__proto__")return l[h]}var Ax=Cx(Gy),Is=nT||function(l,h){return Kt.setTimeout(l,h)},ih=Cx(dL);function Sx(l,h,v){var w=h+"";return ih(l,IL(w,WL(TL(w),v)))}function Cx(l){var h=0,v=0;return function(){var w=sT(),O=ne-(w-v);if(v=w,O>0){if(++h>=J)return arguments[0]}else h=0;return l.apply(r,arguments)}}function jc(l,h){var v=-1,w=l.length,O=w-1;for(h=h===r?w:h;++v<h;){var T=Ff(v,O),M=l[T];l[T]=l[v],l[v]=M}return l.length=h,l}var Ox=NL(function(l){var h=[];return l.charCodeAt(0)===46&&h.push(""),l.replace(kP,function(v,w,O,T){h.push(O?T.replace(FP,"$1"):w||v)}),h});function Bn(l){if(typeof l=="string"||kr(l))return l;var h=l+"";return h=="0"&&1/l==-B?"-0":h}function Pa(l){if(l!=null){try{return Jl.call(l)}catch{}try{return l+""}catch{}}return""}function WL(l,h){return Zr(se,function(v){var w="_."+v[0];h&v[1]&&!Gl(l,w)&&l.push(w)}),l.sort()}function Px(l){if(l instanceof Ke)return l.clone();var h=new Yr(l.__wrapped__,l.__chain__);return h.__actions__=gr(l.__actions__),h.__index__=l.__index__,h.__values__=l.__values__,h}function HL(l,h,v){(v?cr(l,h,v):h===r)?h=1:h=It(Ne(h),0);var w=l==null?0:l.length;if(!w||h<1)return[];for(var O=0,T=0,M=ee(ac(w/h));O<w;)M[T++]=Vr(l,O,O+=h);return M}function KL(l){for(var h=-1,v=l==null?0:l.length,w=0,O=[];++h<v;){var T=l[h];T&&(O[w++]=T)}return O}function ZL(){var l=arguments.length;if(!l)return[];for(var h=ee(l-1),v=arguments[0],w=l;w--;)h[w-1]=arguments[w];return Hi(Me(v)?gr(v):[v],Zt(h,1))}var GL=Fe(function(l,h){return Ot(l)?Os(l,Zt(h,1,Ot,!0)):[]}),YL=Fe(function(l,h){var v=Xr(h);return Ot(v)&&(v=r),Ot(l)?Os(l,Zt(h,1,Ot,!0),Ee(v,2)):[]}),qL=Fe(function(l,h){var v=Xr(h);return Ot(v)&&(v=r),Ot(l)?Os(l,Zt(h,1,Ot,!0),r,v):[]});function VL(l,h,v){var w=l==null?0:l.length;return w?(h=v||h===r?1:Ne(h),Vr(l,h<0?0:h,w)):[]}function XL(l,h,v){var w=l==null?0:l.length;return w?(h=v||h===r?1:Ne(h),h=w-h,Vr(l,0,h<0?0:h)):[]}function JL(l,h){return l&&l.length?gc(l,Ee(h,3),!0,!0):[]}function QL(l,h){return l&&l.length?gc(l,Ee(h,3),!0):[]}function ek(l,h,v,w){var O=l==null?0:l.length;return O?(v&&typeof v!="number"&&cr(l,h,v)&&(v=0,w=O),ZT(l,h,v,w)):[]}function Ex(l,h,v){var w=l==null?0:l.length;if(!w)return-1;var O=v==null?0:Ne(v);return O<0&&(O=It(w+O,0)),Yl(l,Ee(h,3),O)}function Tx(l,h,v){var w=l==null?0:l.length;if(!w)return-1;var O=w-1;return v!==r&&(O=Ne(v),O=v<0?It(w+O,0):tr(O,w-1)),Yl(l,Ee(h,3),O,!0)}function Lx(l){var h=l==null?0:l.length;return h?Zt(l,1):[]}function tk(l){var h=l==null?0:l.length;return h?Zt(l,B):[]}function rk(l,h){var v=l==null?0:l.length;return v?(h=h===r?1:Ne(h),Zt(l,h)):[]}function nk(l){for(var h=-1,v=l==null?0:l.length,w={};++h<v;){var O=l[h];w[O[0]]=O[1]}return w}function kx(l){return l&&l.length?l[0]:r}function ik(l,h,v){var w=l==null?0:l.length;if(!w)return-1;var O=v==null?0:Ne(v);return O<0&&(O=It(w+O,0)),lo(l,h,O)}function ak(l){var h=l==null?0:l.length;return h?Vr(l,0,-1):[]}var ok=Fe(function(l){var h=mt(l,Kf);return h.length&&h[0]===l[0]?Mf(h):[]}),sk=Fe(function(l){var h=Xr(l),v=mt(l,Kf);return h===Xr(v)?h=r:v.pop(),v.length&&v[0]===l[0]?Mf(v,Ee(h,2)):[]}),lk=Fe(function(l){var h=Xr(l),v=mt(l,Kf);return h=typeof h=="function"?h:r,h&&v.pop(),v.length&&v[0]===l[0]?Mf(v,r,h):[]});function ck(l,h){return l==null?"":aT.call(l,h)}function Xr(l){var h=l==null?0:l.length;return h?l[h-1]:r}function uk(l,h,v){var w=l==null?0:l.length;if(!w)return-1;var O=w;return v!==r&&(O=Ne(v),O=O<0?It(w+O,0):tr(O,w-1)),h===h?WE(l,h,O):Yl(l,fy,O,!0)}function dk(l,h){return l&&l.length?Wy(l,Ne(h)):r}var fk=Fe(Ix);function Ix(l,h){return l&&l.length&&h&&h.length?Bf(l,h):l}function hk(l,h,v){return l&&l.length&&h&&h.length?Bf(l,h,Ee(v,2)):l}function pk(l,h,v){return l&&l.length&&h&&h.length?Bf(l,h,r,v):l}var gk=li(function(l,h){var v=l==null?0:l.length,w=Lf(l,h);return Zy(l,mt(h,function(O){return ci(O,v)?+O:O}).sort(rx)),w});function mk(l,h){var v=[];if(!(l&&l.length))return v;var w=-1,O=[],T=l.length;for(h=Ee(h,3);++w<T;){var M=l[w];h(M,w,l)&&(v.push(M),O.push(w))}return Zy(l,O),v}function ah(l){return l==null?l:cT.call(l)}function vk(l,h,v){var w=l==null?0:l.length;return w?(v&&typeof v!="number"&&cr(l,h,v)?(h=0,v=w):(h=h==null?0:Ne(h),v=v===r?w:Ne(v)),Vr(l,h,v)):[]}function yk(l,h){return pc(l,h)}function xk(l,h,v){return Uf(l,h,Ee(v,2))}function bk(l,h){var v=l==null?0:l.length;if(v){var w=pc(l,h);if(w<v&&_n(l[w],h))return w}return-1}function _k(l,h){return pc(l,h,!0)}function wk(l,h,v){return Uf(l,h,Ee(v,2),!0)}function jk(l,h){var v=l==null?0:l.length;if(v){var w=pc(l,h,!0)-1;if(_n(l[w],h))return w}return-1}function Ak(l){return l&&l.length?Yy(l):[]}function Sk(l,h){return l&&l.length?Yy(l,Ee(h,2)):[]}function Ck(l){var h=l==null?0:l.length;return h?Vr(l,1,h):[]}function Ok(l,h,v){return l&&l.length?(h=v||h===r?1:Ne(h),Vr(l,0,h<0?0:h)):[]}function Pk(l,h,v){var w=l==null?0:l.length;return w?(h=v||h===r?1:Ne(h),h=w-h,Vr(l,h<0?0:h,w)):[]}function Ek(l,h){return l&&l.length?gc(l,Ee(h,3),!1,!0):[]}function Tk(l,h){return l&&l.length?gc(l,Ee(h,3)):[]}var Lk=Fe(function(l){return Yi(Zt(l,1,Ot,!0))}),kk=Fe(function(l){var h=Xr(l);return Ot(h)&&(h=r),Yi(Zt(l,1,Ot,!0),Ee(h,2))}),Ik=Fe(function(l){var h=Xr(l);return h=typeof h=="function"?h:r,Yi(Zt(l,1,Ot,!0),r,h)});function Rk(l){return l&&l.length?Yi(l):[]}function Mk(l,h){return l&&l.length?Yi(l,Ee(h,2)):[]}function Dk(l,h){return h=typeof h=="function"?h:r,l&&l.length?Yi(l,r,h):[]}function oh(l){if(!(l&&l.length))return[];var h=0;return l=Wi(l,function(v){if(Ot(v))return h=It(v.length,h),!0}),jf(h,function(v){return mt(l,bf(v))})}function Rx(l,h){if(!(l&&l.length))return[];var v=oh(l);return h==null?v:mt(v,function(w){return Er(h,r,w)})}var $k=Fe(function(l,h){return Ot(l)?Os(l,h):[]}),Nk=Fe(function(l){return Hf(Wi(l,Ot))}),Bk=Fe(function(l){var h=Xr(l);return Ot(h)&&(h=r),Hf(Wi(l,Ot),Ee(h,2))}),Fk=Fe(function(l){var h=Xr(l);return h=typeof h=="function"?h:r,Hf(Wi(l,Ot),r,h)}),zk=Fe(oh);function Uk(l,h){return Jy(l||[],h||[],Cs)}function Wk(l,h){return Jy(l||[],h||[],Ts)}var Hk=Fe(function(l){var h=l.length,v=h>1?l[h-1]:r;return v=typeof v=="function"?(l.pop(),v):r,Rx(l,v)});function Mx(l){var h=P(l);return h.__chain__=!0,h}function Kk(l,h){return h(l),l}function Ac(l,h){return h(l)}var Zk=li(function(l){var h=l.length,v=h?l[0]:0,w=this.__wrapped__,O=function(T){return Lf(T,l)};return h>1||this.__actions__.length||!(w instanceof Ke)||!ci(v)?this.thru(O):(w=w.slice(v,+v+(h?1:0)),w.__actions__.push({func:Ac,args:[O],thisArg:r}),new Yr(w,this.__chain__).thru(function(T){return h&&!T.length&&T.push(r),T}))});function Gk(){return Mx(this)}function Yk(){return new Yr(this.value(),this.__chain__)}function qk(){this.__values__===r&&(this.__values__=qx(this.value()));var l=this.__index__>=this.__values__.length,h=l?r:this.__values__[this.__index__++];return{done:l,value:h}}function Vk(){return this}function Xk(l){for(var h,v=this;v instanceof cc;){var w=Px(v);w.__index__=0,w.__values__=r,h?O.__wrapped__=w:h=w;var O=w;v=v.__wrapped__}return O.__wrapped__=l,h}function Jk(){var l=this.__wrapped__;if(l instanceof Ke){var h=l;return this.__actions__.length&&(h=new Ke(this)),h=h.reverse(),h.__actions__.push({func:Ac,args:[ah],thisArg:r}),new Yr(h,this.__chain__)}return this.thru(ah)}function Qk(){return Xy(this.__wrapped__,this.__actions__)}var eI=mc(function(l,h,v){nt.call(l,v)?++l[v]:oi(l,v,1)});function tI(l,h,v){var w=Me(l)?uy:KT;return v&&cr(l,h,v)&&(h=r),w(l,Ee(h,3))}function rI(l,h){var v=Me(l)?Wi:Ry;return v(l,Ee(h,3))}var nI=lx(Ex),iI=lx(Tx);function aI(l,h){return Zt(Sc(l,h),1)}function oI(l,h){return Zt(Sc(l,h),B)}function sI(l,h,v){return v=v===r?1:Ne(v),Zt(Sc(l,h),v)}function Dx(l,h){var v=Me(l)?Zr:Gi;return v(l,Ee(h,3))}function $x(l,h){var v=Me(l)?CE:Iy;return v(l,Ee(h,3))}var lI=mc(function(l,h,v){nt.call(l,v)?l[v].push(h):oi(l,v,[h])});function cI(l,h,v,w){l=mr(l)?l:_o(l),v=v&&!w?Ne(v):0;var O=l.length;return v<0&&(v=It(O+v,0)),Tc(l)?v<=O&&l.indexOf(h,v)>-1:!!O&&lo(l,h,v)>-1}var uI=Fe(function(l,h,v){var w=-1,O=typeof h=="function",T=mr(l)?ee(l.length):[];return Gi(l,function(M){T[++w]=O?Er(h,M,v):Ps(M,h,v)}),T}),dI=mc(function(l,h,v){oi(l,v,h)});function Sc(l,h){var v=Me(l)?mt:Fy;return v(l,Ee(h,3))}function fI(l,h,v,w){return l==null?[]:(Me(h)||(h=h==null?[]:[h]),v=w?r:v,Me(v)||(v=v==null?[]:[v]),Hy(l,h,v))}var hI=mc(function(l,h,v){l[v?0:1].push(h)},function(){return[[],[]]});function pI(l,h,v){var w=Me(l)?yf:py,O=arguments.length<3;return w(l,Ee(h,4),v,O,Gi)}function gI(l,h,v){var w=Me(l)?OE:py,O=arguments.length<3;return w(l,Ee(h,4),v,O,Iy)}function mI(l,h){var v=Me(l)?Wi:Ry;return v(l,Pc(Ee(h,3)))}function vI(l){var h=Me(l)?Ey:cL;return h(l)}function yI(l,h,v){(v?cr(l,h,v):h===r)?h=1:h=Ne(h);var w=Me(l)?FT:uL;return w(l,h)}function xI(l){var h=Me(l)?zT:fL;return h(l)}function bI(l){if(l==null)return 0;if(mr(l))return Tc(l)?uo(l):l.length;var h=rr(l);return h==q||h==Ze?l.size:$f(l).length}function _I(l,h,v){var w=Me(l)?xf:hL;return v&&cr(l,h,v)&&(h=r),w(l,Ee(h,3))}var wI=Fe(function(l,h){if(l==null)return[];var v=h.length;return v>1&&cr(l,h[0],h[1])?h=[]:v>2&&cr(h[0],h[1],h[2])&&(h=[h[0]]),Hy(l,Zt(h,1),[])}),Cc=rT||function(){return Kt.Date.now()};function jI(l,h){if(typeof h!="function")throw new Gr(o);return l=Ne(l),function(){if(--l<1)return h.apply(this,arguments)}}function Nx(l,h,v){return h=v?r:h,h=l&&h==null?l.length:h,si(l,I,r,r,r,r,h)}function Bx(l,h){var v;if(typeof h!="function")throw new Gr(o);return l=Ne(l),function(){return--l>0&&(v=h.apply(this,arguments)),l<=1&&(h=r),v}}var sh=Fe(function(l,h,v){var w=_;if(v.length){var O=Ki(v,xo(sh));w|=E}return si(l,w,h,v,O)}),Fx=Fe(function(l,h,v){var w=_|j;if(v.length){var O=Ki(v,xo(Fx));w|=E}return si(h,w,l,v,O)});function zx(l,h,v){h=v?r:h;var w=si(l,S,r,r,r,r,r,h);return w.placeholder=zx.placeholder,w}function Ux(l,h,v){h=v?r:h;var w=si(l,C,r,r,r,r,r,h);return w.placeholder=Ux.placeholder,w}function Wx(l,h,v){var w,O,T,M,z,H,ce=0,de=!1,he=!1,ve=!0;if(typeof l!="function")throw new Gr(o);h=Jr(h)||0,xt(v)&&(de=!!v.leading,he="maxWait"in v,T=he?It(Jr(v.maxWait)||0,h):T,ve="trailing"in v?!!v.trailing:ve);function Ae(Pt){var wn=w,fi=O;return w=O=r,ce=Pt,M=l.apply(fi,wn),M}function Te(Pt){return ce=Pt,z=Is(He,h),de?Ae(Pt):M}function Be(Pt){var wn=Pt-H,fi=Pt-ce,l0=h-wn;return he?tr(l0,T-fi):l0}function Le(Pt){var wn=Pt-H,fi=Pt-ce;return H===r||wn>=h||wn<0||he&&fi>=T}function He(){var Pt=Cc();if(Le(Pt))return Ge(Pt);z=Is(He,Be(Pt))}function Ge(Pt){return z=r,ve&&w?Ae(Pt):(w=O=r,M)}function Ir(){z!==r&&Qy(z),ce=0,w=H=O=z=r}function ur(){return z===r?M:Ge(Cc())}function Rr(){var Pt=Cc(),wn=Le(Pt);if(w=arguments,O=this,H=Pt,wn){if(z===r)return Te(H);if(he)return Qy(z),z=Is(He,h),Ae(H)}return z===r&&(z=Is(He,h)),M}return Rr.cancel=Ir,Rr.flush=ur,Rr}var AI=Fe(function(l,h){return ky(l,1,h)}),SI=Fe(function(l,h,v){return ky(l,Jr(h)||0,v)});function CI(l){return si(l,V)}function Oc(l,h){if(typeof l!="function"||h!=null&&typeof h!="function")throw new Gr(o);var v=function(){var w=arguments,O=h?h.apply(this,w):w[0],T=v.cache;if(T.has(O))return T.get(O);var M=l.apply(this,w);return v.cache=T.set(O,M)||T,M};return v.cache=new(Oc.Cache||ai),v}Oc.Cache=ai;function Pc(l){if(typeof l!="function")throw new Gr(o);return function(){var h=arguments;switch(h.length){case 0:return!l.call(this);case 1:return!l.call(this,h[0]);case 2:return!l.call(this,h[0],h[1]);case 3:return!l.call(this,h[0],h[1],h[2])}return!l.apply(this,h)}}function OI(l){return Bx(2,l)}var PI=pL(function(l,h){h=h.length==1&&Me(h[0])?mt(h[0],Tr(Ee())):mt(Zt(h,1),Tr(Ee()));var v=h.length;return Fe(function(w){for(var O=-1,T=tr(w.length,v);++O<T;)w[O]=h[O].call(this,w[O]);return Er(l,this,w)})}),lh=Fe(function(l,h){var v=Ki(h,xo(lh));return si(l,E,r,h,v)}),Hx=Fe(function(l,h){var v=Ki(h,xo(Hx));return si(l,k,r,h,v)}),EI=li(function(l,h){return si(l,U,r,r,r,h)});function TI(l,h){if(typeof l!="function")throw new Gr(o);return h=h===r?h:Ne(h),Fe(l,h)}function LI(l,h){if(typeof l!="function")throw new Gr(o);return h=h==null?0:It(Ne(h),0),Fe(function(v){var w=v[h],O=Vi(v,0,h);return w&&Hi(O,w),Er(l,this,O)})}function kI(l,h,v){var w=!0,O=!0;if(typeof l!="function")throw new Gr(o);return xt(v)&&(w="leading"in v?!!v.leading:w,O="trailing"in v?!!v.trailing:O),Wx(l,h,{leading:w,maxWait:h,trailing:O})}function II(l){return Nx(l,1)}function RI(l,h){return lh(Zf(h),l)}function MI(){if(!arguments.length)return[];var l=arguments[0];return Me(l)?l:[l]}function DI(l){return qr(l,m)}function $I(l,h){return h=typeof h=="function"?h:r,qr(l,m,h)}function NI(l){return qr(l,p|m)}function BI(l,h){return h=typeof h=="function"?h:r,qr(l,p|m,h)}function FI(l,h){return h==null||Ly(l,h,Nt(h))}function _n(l,h){return l===h||l!==l&&h!==h}var zI=bc(Rf),UI=bc(function(l,h){return l>=h}),Ea=$y(function(){return arguments}())?$y:function(l){return jt(l)&&nt.call(l,"callee")&&!jy.call(l,"callee")},Me=ee.isArray,WI=iy?Tr(iy):XT;function mr(l){return l!=null&&Ec(l.length)&&!ui(l)}function Ot(l){return jt(l)&&mr(l)}function HI(l){return l===!0||l===!1||jt(l)&&lr(l)==Ye}var Xi=iT||xh,KI=ay?Tr(ay):JT;function ZI(l){return jt(l)&&l.nodeType===1&&!Rs(l)}function GI(l){if(l==null)return!0;if(mr(l)&&(Me(l)||typeof l=="string"||typeof l.splice=="function"||Xi(l)||bo(l)||Ea(l)))return!l.length;var h=rr(l);if(h==q||h==Ze)return!l.size;if(ks(l))return!$f(l).length;for(var v in l)if(nt.call(l,v))return!1;return!0}function YI(l,h){return Es(l,h)}function qI(l,h,v){v=typeof v=="function"?v:r;var w=v?v(l,h):r;return w===r?Es(l,h,r,v):!!w}function ch(l){if(!jt(l))return!1;var h=lr(l);return h==je||h==ge||typeof l.message=="string"&&typeof l.name=="string"&&!Rs(l)}function VI(l){return typeof l=="number"&&Sy(l)}function ui(l){if(!xt(l))return!1;var h=lr(l);return h==ie||h==K||h==ot||h==ze}function Kx(l){return typeof l=="number"&&l==Ne(l)}function Ec(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=X}function xt(l){var h=typeof l;return l!=null&&(h=="object"||h=="function")}function jt(l){return l!=null&&typeof l=="object"}var Zx=oy?Tr(oy):eL;function XI(l,h){return l===h||Df(l,h,Qf(h))}function JI(l,h,v){return v=typeof v=="function"?v:r,Df(l,h,Qf(h),v)}function QI(l){return Gx(l)&&l!=+l}function e2(l){if($L(l))throw new Re(i);return Ny(l)}function t2(l){return l===null}function r2(l){return l==null}function Gx(l){return typeof l=="number"||jt(l)&&lr(l)==be}function Rs(l){if(!jt(l)||lr(l)!=le)return!1;var h=rc(l);if(h===null)return!0;var v=nt.call(h,"constructor")&&h.constructor;return typeof v=="function"&&v instanceof v&&Jl.call(v)==JE}var uh=sy?Tr(sy):tL;function n2(l){return Kx(l)&&l>=-X&&l<=X}var Yx=ly?Tr(ly):rL;function Tc(l){return typeof l=="string"||!Me(l)&&jt(l)&&lr(l)==st}function kr(l){return typeof l=="symbol"||jt(l)&&lr(l)==er}var bo=cy?Tr(cy):nL;function i2(l){return l===r}function a2(l){return jt(l)&&rr(l)==Dn}function o2(l){return jt(l)&&lr(l)==ba}var s2=bc(Nf),l2=bc(function(l,h){return l<=h});function qx(l){if(!l)return[];if(mr(l))return Tc(l)?xn(l):gr(l);if(_s&&l[_s])return FE(l[_s]());var h=rr(l),v=h==q?Sf:h==Ze?ql:_o;return v(l)}function di(l){if(!l)return l===0?l:0;if(l=Jr(l),l===B||l===-B){var h=l<0?-1:1;return h*ae}return l===l?l:0}function Ne(l){var h=di(l),v=h%1;return h===h?v?h-v:h:0}function Vx(l){return l?Sa(Ne(l),0,$):0}function Jr(l){if(typeof l=="number")return l;if(kr(l))return me;if(xt(l)){var h=typeof l.valueOf=="function"?l.valueOf():l;l=xt(h)?h+"":h}if(typeof l!="string")return l===0?l:+l;l=gy(l);var v=WP.test(l);return v||KP.test(l)?jE(l.slice(2),v?2:8):UP.test(l)?me:+l}function Xx(l){return Nn(l,vr(l))}function c2(l){return l?Sa(Ne(l),-X,X):l===0?l:0}function rt(l){return l==null?"":Lr(l)}var u2=vo(function(l,h){if(ks(h)||mr(h)){Nn(h,Nt(h),l);return}for(var v in h)nt.call(h,v)&&Cs(l,v,h[v])}),Jx=vo(function(l,h){Nn(h,vr(h),l)}),Lc=vo(function(l,h,v,w){Nn(h,vr(h),l,w)}),d2=vo(function(l,h,v,w){Nn(h,Nt(h),l,w)}),f2=li(Lf);function h2(l,h){var v=mo(l);return h==null?v:Ty(v,h)}var p2=Fe(function(l,h){l=lt(l);var v=-1,w=h.length,O=w>2?h[2]:r;for(O&&cr(h[0],h[1],O)&&(w=1);++v<w;)for(var T=h[v],M=vr(T),z=-1,H=M.length;++z<H;){var ce=M[z],de=l[ce];(de===r||_n(de,ho[ce])&&!nt.call(l,ce))&&(l[ce]=T[ce])}return l}),g2=Fe(function(l){return l.push(r,gx),Er(Qx,r,l)});function m2(l,h){return dy(l,Ee(h,3),$n)}function v2(l,h){return dy(l,Ee(h,3),If)}function y2(l,h){return l==null?l:kf(l,Ee(h,3),vr)}function x2(l,h){return l==null?l:My(l,Ee(h,3),vr)}function b2(l,h){return l&&$n(l,Ee(h,3))}function _2(l,h){return l&&If(l,Ee(h,3))}function w2(l){return l==null?[]:fc(l,Nt(l))}function j2(l){return l==null?[]:fc(l,vr(l))}function dh(l,h,v){var w=l==null?r:Ca(l,h);return w===r?v:w}function A2(l,h){return l!=null&&yx(l,h,GT)}function fh(l,h){return l!=null&&yx(l,h,YT)}var S2=ux(function(l,h,v){h!=null&&typeof h.toString!="function"&&(h=Ql.call(h)),l[h]=v},ph(yr)),C2=ux(function(l,h,v){h!=null&&typeof h.toString!="function"&&(h=Ql.call(h)),nt.call(l,h)?l[h].push(v):l[h]=[v]},Ee),O2=Fe(Ps);function Nt(l){return mr(l)?Py(l):$f(l)}function vr(l){return mr(l)?Py(l,!0):iL(l)}function P2(l,h){var v={};return h=Ee(h,3),$n(l,function(w,O,T){oi(v,h(w,O,T),w)}),v}function E2(l,h){var v={};return h=Ee(h,3),$n(l,function(w,O,T){oi(v,O,h(w,O,T))}),v}var T2=vo(function(l,h,v){hc(l,h,v)}),Qx=vo(function(l,h,v,w){hc(l,h,v,w)}),L2=li(function(l,h){var v={};if(l==null)return v;var w=!1;h=mt(h,function(T){return T=qi(T,l),w||(w=T.length>1),T}),Nn(l,Xf(l),v),w&&(v=qr(v,p|g|m,SL));for(var O=h.length;O--;)Wf(v,h[O]);return v});function k2(l,h){return e0(l,Pc(Ee(h)))}var I2=li(function(l,h){return l==null?{}:oL(l,h)});function e0(l,h){if(l==null)return{};var v=mt(Xf(l),function(w){return[w]});return h=Ee(h),Ky(l,v,function(w,O){return h(w,O[0])})}function R2(l,h,v){h=qi(h,l);var w=-1,O=h.length;for(O||(O=1,l=r);++w<O;){var T=l==null?r:l[Bn(h[w])];T===r&&(w=O,T=v),l=ui(T)?T.call(l):T}return l}function M2(l,h,v){return l==null?l:Ts(l,h,v)}function D2(l,h,v,w){return w=typeof w=="function"?w:r,l==null?l:Ts(l,h,v,w)}var t0=hx(Nt),r0=hx(vr);function $2(l,h,v){var w=Me(l),O=w||Xi(l)||bo(l);if(h=Ee(h,4),v==null){var T=l&&l.constructor;O?v=w?new T:[]:xt(l)?v=ui(T)?mo(rc(l)):{}:v={}}return(O?Zr:$n)(l,function(M,z,H){return h(v,M,z,H)}),v}function N2(l,h){return l==null?!0:Wf(l,h)}function B2(l,h,v){return l==null?l:Vy(l,h,Zf(v))}function F2(l,h,v,w){return w=typeof w=="function"?w:r,l==null?l:Vy(l,h,Zf(v),w)}function _o(l){return l==null?[]:Af(l,Nt(l))}function z2(l){return l==null?[]:Af(l,vr(l))}function U2(l,h,v){return v===r&&(v=h,h=r),v!==r&&(v=Jr(v),v=v===v?v:0),h!==r&&(h=Jr(h),h=h===h?h:0),Sa(Jr(l),h,v)}function W2(l,h,v){return h=di(h),v===r?(v=h,h=0):v=di(v),l=Jr(l),qT(l,h,v)}function H2(l,h,v){if(v&&typeof v!="boolean"&&cr(l,h,v)&&(h=v=r),v===r&&(typeof h=="boolean"?(v=h,h=r):typeof l=="boolean"&&(v=l,l=r)),l===r&&h===r?(l=0,h=1):(l=di(l),h===r?(h=l,l=0):h=di(h)),l>h){var w=l;l=h,h=w}if(v||l%1||h%1){var O=Cy();return tr(l+O*(h-l+wE("1e-"+((O+"").length-1))),h)}return Ff(l,h)}var K2=yo(function(l,h,v){return h=h.toLowerCase(),l+(v?n0(h):h)});function n0(l){return hh(rt(l).toLowerCase())}function i0(l){return l=rt(l),l&&l.replace(GP,ME).replace(fE,"")}function Z2(l,h,v){l=rt(l),h=Lr(h);var w=l.length;v=v===r?w:Sa(Ne(v),0,w);var O=v;return v-=h.length,v>=0&&l.slice(v,O)==h}function G2(l){return l=rt(l),l&&OP.test(l)?l.replace(Mv,DE):l}function Y2(l){return l=rt(l),l&&IP.test(l)?l.replace(lf,"\\$&"):l}var q2=yo(function(l,h,v){return l+(v?"-":"")+h.toLowerCase()}),V2=yo(function(l,h,v){return l+(v?" ":"")+h.toLowerCase()}),X2=sx("toLowerCase");function J2(l,h,v){l=rt(l),h=Ne(h);var w=h?uo(l):0;if(!h||w>=h)return l;var O=(h-w)/2;return xc(oc(O),v)+l+xc(ac(O),v)}function Q2(l,h,v){l=rt(l),h=Ne(h);var w=h?uo(l):0;return h&&w<h?l+xc(h-w,v):l}function eR(l,h,v){l=rt(l),h=Ne(h);var w=h?uo(l):0;return h&&w<h?xc(h-w,v)+l:l}function tR(l,h,v){return v||h==null?h=0:h&&(h=+h),lT(rt(l).replace(cf,""),h||0)}function rR(l,h,v){return(v?cr(l,h,v):h===r)?h=1:h=Ne(h),zf(rt(l),h)}function nR(){var l=arguments,h=rt(l[0]);return l.length<3?h:h.replace(l[1],l[2])}var iR=yo(function(l,h,v){return l+(v?"_":"")+h.toLowerCase()});function aR(l,h,v){return v&&typeof v!="number"&&cr(l,h,v)&&(h=v=r),v=v===r?$:v>>>0,v?(l=rt(l),l&&(typeof h=="string"||h!=null&&!uh(h))&&(h=Lr(h),!h&&co(l))?Vi(xn(l),0,v):l.split(h,v)):[]}var oR=yo(function(l,h,v){return l+(v?" ":"")+hh(h)});function sR(l,h,v){return l=rt(l),v=v==null?0:Sa(Ne(v),0,l.length),h=Lr(h),l.slice(v,v+h.length)==h}function lR(l,h,v){var w=P.templateSettings;v&&cr(l,h,v)&&(h=r),l=rt(l),h=Lc({},h,w,px);var O=Lc({},h.imports,w.imports,px),T=Nt(O),M=Af(O,T),z,H,ce=0,de=h.interpolate||Hl,he="__p += '",ve=Cf((h.escape||Hl).source+"|"+de.source+"|"+(de===Dv?zP:Hl).source+"|"+(h.evaluate||Hl).source+"|$","g"),Ae="//# sourceURL="+(nt.call(h,"sourceURL")?(h.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++vE+"]")+`
`;l.replace(ve,function(Le,He,Ge,Ir,ur,Rr){return Ge||(Ge=Ir),he+=l.slice(ce,Rr).replace(YP,$E),He&&(z=!0,he+=`' +
__e(`+He+`) +
'`),ur&&(H=!0,he+=`';
`+ur+`;
__p += '`),Ge&&(he+=`' +
((__t = (`+Ge+`)) == null ? '' : __t) +
'`),ce=Rr+Le.length,Le}),he+=`';
`;var Te=nt.call(h,"variable")&&h.variable;if(!Te)he=`with (obj) {
`+he+`
}
`;else if(BP.test(Te))throw new Re(s);he=(H?he.replace(jP,""):he).replace(AP,"$1").replace(SP,"$1;"),he="function("+(Te||"obj")+`) {
`+(Te?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(z?", __e = _.escape":"")+(H?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+he+`return __p
}`;var Be=o0(function(){return Je(T,Ae+"return "+he).apply(r,M)});if(Be.source=he,ch(Be))throw Be;return Be}function cR(l){return rt(l).toLowerCase()}function uR(l){return rt(l).toUpperCase()}function dR(l,h,v){if(l=rt(l),l&&(v||h===r))return gy(l);if(!l||!(h=Lr(h)))return l;var w=xn(l),O=xn(h),T=my(w,O),M=vy(w,O)+1;return Vi(w,T,M).join("")}function fR(l,h,v){if(l=rt(l),l&&(v||h===r))return l.slice(0,xy(l)+1);if(!l||!(h=Lr(h)))return l;var w=xn(l),O=vy(w,xn(h))+1;return Vi(w,0,O).join("")}function hR(l,h,v){if(l=rt(l),l&&(v||h===r))return l.replace(cf,"");if(!l||!(h=Lr(h)))return l;var w=xn(l),O=my(w,xn(h));return Vi(w,O).join("")}function pR(l,h){var v=re,w=te;if(xt(h)){var O="separator"in h?h.separator:O;v="length"in h?Ne(h.length):v,w="omission"in h?Lr(h.omission):w}l=rt(l);var T=l.length;if(co(l)){var M=xn(l);T=M.length}if(v>=T)return l;var z=v-uo(w);if(z<1)return w;var H=M?Vi(M,0,z).join(""):l.slice(0,z);if(O===r)return H+w;if(M&&(z+=H.length-z),uh(O)){if(l.slice(z).search(O)){var ce,de=H;for(O.global||(O=Cf(O.source,rt($v.exec(O))+"g")),O.lastIndex=0;ce=O.exec(de);)var he=ce.index;H=H.slice(0,he===r?z:he)}}else if(l.indexOf(Lr(O),z)!=z){var ve=H.lastIndexOf(O);ve>-1&&(H=H.slice(0,ve))}return H+w}function gR(l){return l=rt(l),l&&CP.test(l)?l.replace(Rv,HE):l}var mR=yo(function(l,h,v){return l+(v?" ":"")+h.toUpperCase()}),hh=sx("toUpperCase");function a0(l,h,v){return l=rt(l),h=v?r:h,h===r?BE(l)?GE(l):TE(l):l.match(h)||[]}var o0=Fe(function(l,h){try{return Er(l,r,h)}catch(v){return ch(v)?v:new Re(v)}}),vR=li(function(l,h){return Zr(h,function(v){v=Bn(v),oi(l,v,sh(l[v],l))}),l});function yR(l){var h=l==null?0:l.length,v=Ee();return l=h?mt(l,function(w){if(typeof w[1]!="function")throw new Gr(o);return[v(w[0]),w[1]]}):[],Fe(function(w){for(var O=-1;++O<h;){var T=l[O];if(Er(T[0],this,w))return Er(T[1],this,w)}})}function xR(l){return HT(qr(l,p))}function ph(l){return function(){return l}}function bR(l,h){return l==null||l!==l?h:l}var _R=cx(),wR=cx(!0);function yr(l){return l}function gh(l){return By(typeof l=="function"?l:qr(l,p))}function jR(l){return zy(qr(l,p))}function AR(l,h){return Uy(l,qr(h,p))}var SR=Fe(function(l,h){return function(v){return Ps(v,l,h)}}),CR=Fe(function(l,h){return function(v){return Ps(l,v,h)}});function mh(l,h,v){var w=Nt(h),O=fc(h,w);v==null&&!(xt(h)&&(O.length||!w.length))&&(v=h,h=l,l=this,O=fc(h,Nt(h)));var T=!(xt(v)&&"chain"in v)||!!v.chain,M=ui(l);return Zr(O,function(z){var H=h[z];l[z]=H,M&&(l.prototype[z]=function(){var ce=this.__chain__;if(T||ce){var de=l(this.__wrapped__),he=de.__actions__=gr(this.__actions__);return he.push({func:H,args:arguments,thisArg:l}),de.__chain__=ce,de}return H.apply(l,Hi([this.value()],arguments))})}),l}function OR(){return Kt._===this&&(Kt._=QE),this}function vh(){}function PR(l){return l=Ne(l),Fe(function(h){return Wy(h,l)})}var ER=Yf(mt),TR=Yf(uy),LR=Yf(xf);function s0(l){return th(l)?bf(Bn(l)):sL(l)}function kR(l){return function(h){return l==null?r:Ca(l,h)}}var IR=dx(),RR=dx(!0);function yh(){return[]}function xh(){return!1}function MR(){return{}}function DR(){return""}function $R(){return!0}function NR(l,h){if(l=Ne(l),l<1||l>X)return[];var v=$,w=tr(l,$);h=Ee(h),l-=$;for(var O=jf(w,h);++v<l;)h(v);return O}function BR(l){return Me(l)?mt(l,Bn):kr(l)?[l]:gr(Ox(rt(l)))}function FR(l){var h=++XE;return rt(l)+h}var zR=yc(function(l,h){return l+h},0),UR=qf("ceil"),WR=yc(function(l,h){return l/h},1),HR=qf("floor");function KR(l){return l&&l.length?dc(l,yr,Rf):r}function ZR(l,h){return l&&l.length?dc(l,Ee(h,2),Rf):r}function GR(l){return hy(l,yr)}function YR(l,h){return hy(l,Ee(h,2))}function qR(l){return l&&l.length?dc(l,yr,Nf):r}function VR(l,h){return l&&l.length?dc(l,Ee(h,2),Nf):r}var XR=yc(function(l,h){return l*h},1),JR=qf("round"),QR=yc(function(l,h){return l-h},0);function eM(l){return l&&l.length?wf(l,yr):0}function tM(l,h){return l&&l.length?wf(l,Ee(h,2)):0}return P.after=jI,P.ary=Nx,P.assign=u2,P.assignIn=Jx,P.assignInWith=Lc,P.assignWith=d2,P.at=f2,P.before=Bx,P.bind=sh,P.bindAll=vR,P.bindKey=Fx,P.castArray=MI,P.chain=Mx,P.chunk=HL,P.compact=KL,P.concat=ZL,P.cond=yR,P.conforms=xR,P.constant=ph,P.countBy=eI,P.create=h2,P.curry=zx,P.curryRight=Ux,P.debounce=Wx,P.defaults=p2,P.defaultsDeep=g2,P.defer=AI,P.delay=SI,P.difference=GL,P.differenceBy=YL,P.differenceWith=qL,P.drop=VL,P.dropRight=XL,P.dropRightWhile=JL,P.dropWhile=QL,P.fill=ek,P.filter=rI,P.flatMap=aI,P.flatMapDeep=oI,P.flatMapDepth=sI,P.flatten=Lx,P.flattenDeep=tk,P.flattenDepth=rk,P.flip=CI,P.flow=_R,P.flowRight=wR,P.fromPairs=nk,P.functions=w2,P.functionsIn=j2,P.groupBy=lI,P.initial=ak,P.intersection=ok,P.intersectionBy=sk,P.intersectionWith=lk,P.invert=S2,P.invertBy=C2,P.invokeMap=uI,P.iteratee=gh,P.keyBy=dI,P.keys=Nt,P.keysIn=vr,P.map=Sc,P.mapKeys=P2,P.mapValues=E2,P.matches=jR,P.matchesProperty=AR,P.memoize=Oc,P.merge=T2,P.mergeWith=Qx,P.method=SR,P.methodOf=CR,P.mixin=mh,P.negate=Pc,P.nthArg=PR,P.omit=L2,P.omitBy=k2,P.once=OI,P.orderBy=fI,P.over=ER,P.overArgs=PI,P.overEvery=TR,P.overSome=LR,P.partial=lh,P.partialRight=Hx,P.partition=hI,P.pick=I2,P.pickBy=e0,P.property=s0,P.propertyOf=kR,P.pull=fk,P.pullAll=Ix,P.pullAllBy=hk,P.pullAllWith=pk,P.pullAt=gk,P.range=IR,P.rangeRight=RR,P.rearg=EI,P.reject=mI,P.remove=mk,P.rest=TI,P.reverse=ah,P.sampleSize=yI,P.set=M2,P.setWith=D2,P.shuffle=xI,P.slice=vk,P.sortBy=wI,P.sortedUniq=Ak,P.sortedUniqBy=Sk,P.split=aR,P.spread=LI,P.tail=Ck,P.take=Ok,P.takeRight=Pk,P.takeRightWhile=Ek,P.takeWhile=Tk,P.tap=Kk,P.throttle=kI,P.thru=Ac,P.toArray=qx,P.toPairs=t0,P.toPairsIn=r0,P.toPath=BR,P.toPlainObject=Xx,P.transform=$2,P.unary=II,P.union=Lk,P.unionBy=kk,P.unionWith=Ik,P.uniq=Rk,P.uniqBy=Mk,P.uniqWith=Dk,P.unset=N2,P.unzip=oh,P.unzipWith=Rx,P.update=B2,P.updateWith=F2,P.values=_o,P.valuesIn=z2,P.without=$k,P.words=a0,P.wrap=RI,P.xor=Nk,P.xorBy=Bk,P.xorWith=Fk,P.zip=zk,P.zipObject=Uk,P.zipObjectDeep=Wk,P.zipWith=Hk,P.entries=t0,P.entriesIn=r0,P.extend=Jx,P.extendWith=Lc,mh(P,P),P.add=zR,P.attempt=o0,P.camelCase=K2,P.capitalize=n0,P.ceil=UR,P.clamp=U2,P.clone=DI,P.cloneDeep=NI,P.cloneDeepWith=BI,P.cloneWith=$I,P.conformsTo=FI,P.deburr=i0,P.defaultTo=bR,P.divide=WR,P.endsWith=Z2,P.eq=_n,P.escape=G2,P.escapeRegExp=Y2,P.every=tI,P.find=nI,P.findIndex=Ex,P.findKey=m2,P.findLast=iI,P.findLastIndex=Tx,P.findLastKey=v2,P.floor=HR,P.forEach=Dx,P.forEachRight=$x,P.forIn=y2,P.forInRight=x2,P.forOwn=b2,P.forOwnRight=_2,P.get=dh,P.gt=zI,P.gte=UI,P.has=A2,P.hasIn=fh,P.head=kx,P.identity=yr,P.includes=cI,P.indexOf=ik,P.inRange=W2,P.invoke=O2,P.isArguments=Ea,P.isArray=Me,P.isArrayBuffer=WI,P.isArrayLike=mr,P.isArrayLikeObject=Ot,P.isBoolean=HI,P.isBuffer=Xi,P.isDate=KI,P.isElement=ZI,P.isEmpty=GI,P.isEqual=YI,P.isEqualWith=qI,P.isError=ch,P.isFinite=VI,P.isFunction=ui,P.isInteger=Kx,P.isLength=Ec,P.isMap=Zx,P.isMatch=XI,P.isMatchWith=JI,P.isNaN=QI,P.isNative=e2,P.isNil=r2,P.isNull=t2,P.isNumber=Gx,P.isObject=xt,P.isObjectLike=jt,P.isPlainObject=Rs,P.isRegExp=uh,P.isSafeInteger=n2,P.isSet=Yx,P.isString=Tc,P.isSymbol=kr,P.isTypedArray=bo,P.isUndefined=i2,P.isWeakMap=a2,P.isWeakSet=o2,P.join=ck,P.kebabCase=q2,P.last=Xr,P.lastIndexOf=uk,P.lowerCase=V2,P.lowerFirst=X2,P.lt=s2,P.lte=l2,P.max=KR,P.maxBy=ZR,P.mean=GR,P.meanBy=YR,P.min=qR,P.minBy=VR,P.stubArray=yh,P.stubFalse=xh,P.stubObject=MR,P.stubString=DR,P.stubTrue=$R,P.multiply=XR,P.nth=dk,P.noConflict=OR,P.noop=vh,P.now=Cc,P.pad=J2,P.padEnd=Q2,P.padStart=eR,P.parseInt=tR,P.random=H2,P.reduce=pI,P.reduceRight=gI,P.repeat=rR,P.replace=nR,P.result=R2,P.round=JR,P.runInContext=W,P.sample=vI,P.size=bI,P.snakeCase=iR,P.some=_I,P.sortedIndex=yk,P.sortedIndexBy=xk,P.sortedIndexOf=bk,P.sortedLastIndex=_k,P.sortedLastIndexBy=wk,P.sortedLastIndexOf=jk,P.startCase=oR,P.startsWith=sR,P.subtract=QR,P.sum=eM,P.sumBy=tM,P.template=lR,P.times=NR,P.toFinite=di,P.toInteger=Ne,P.toLength=Vx,P.toLower=cR,P.toNumber=Jr,P.toSafeInteger=c2,P.toString=rt,P.toUpper=uR,P.trim=dR,P.trimEnd=fR,P.trimStart=hR,P.truncate=pR,P.unescape=gR,P.uniqueId=FR,P.upperCase=mR,P.upperFirst=hh,P.each=Dx,P.eachRight=$x,P.first=kx,mh(P,function(){var l={};return $n(P,function(h,v){nt.call(P.prototype,v)||(l[v]=h)}),l}(),{chain:!1}),P.VERSION=n,Zr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){P[l].placeholder=P}),Zr(["drop","take"],function(l,h){Ke.prototype[l]=function(v){v=v===r?1:It(Ne(v),0);var w=this.__filtered__&&!h?new Ke(this):this.clone();return w.__filtered__?w.__takeCount__=tr(v,w.__takeCount__):w.__views__.push({size:tr(v,$),type:l+(w.__dir__<0?"Right":"")}),w},Ke.prototype[l+"Right"]=function(v){return this.reverse()[l](v).reverse()}}),Zr(["filter","map","takeWhile"],function(l,h){var v=h+1,w=v==fe||v==G;Ke.prototype[l]=function(O){var T=this.clone();return T.__iteratees__.push({iteratee:Ee(O,3),type:v}),T.__filtered__=T.__filtered__||w,T}}),Zr(["head","last"],function(l,h){var v="take"+(h?"Right":"");Ke.prototype[l]=function(){return this[v](1).value()[0]}}),Zr(["initial","tail"],function(l,h){var v="drop"+(h?"":"Right");Ke.prototype[l]=function(){return this.__filtered__?new Ke(this):this[v](1)}}),Ke.prototype.compact=function(){return this.filter(yr)},Ke.prototype.find=function(l){return this.filter(l).head()},Ke.prototype.findLast=function(l){return this.reverse().find(l)},Ke.prototype.invokeMap=Fe(function(l,h){return typeof l=="function"?new Ke(this):this.map(function(v){return Ps(v,l,h)})}),Ke.prototype.reject=function(l){return this.filter(Pc(Ee(l)))},Ke.prototype.slice=function(l,h){l=Ne(l);var v=this;return v.__filtered__&&(l>0||h<0)?new Ke(v):(l<0?v=v.takeRight(-l):l&&(v=v.drop(l)),h!==r&&(h=Ne(h),v=h<0?v.dropRight(-h):v.take(h-l)),v)},Ke.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},Ke.prototype.toArray=function(){return this.take($)},$n(Ke.prototype,function(l,h){var v=/^(?:filter|find|map|reject)|While$/.test(h),w=/^(?:head|last)$/.test(h),O=P[w?"take"+(h=="last"?"Right":""):h],T=w||/^find/.test(h);O&&(P.prototype[h]=function(){var M=this.__wrapped__,z=w?[1]:arguments,H=M instanceof Ke,ce=z[0],de=H||Me(M),he=function(He){var Ge=O.apply(P,Hi([He],z));return w&&ve?Ge[0]:Ge};de&&v&&typeof ce=="function"&&ce.length!=1&&(H=de=!1);var ve=this.__chain__,Ae=!!this.__actions__.length,Te=T&&!ve,Be=H&&!Ae;if(!T&&de){M=Be?M:new Ke(this);var Le=l.apply(M,z);return Le.__actions__.push({func:Ac,args:[he],thisArg:r}),new Yr(Le,ve)}return Te&&Be?l.apply(this,z):(Le=this.thru(he),Te?w?Le.value()[0]:Le.value():Le)})}),Zr(["pop","push","shift","sort","splice","unshift"],function(l){var h=Vl[l],v=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",w=/^(?:pop|shift)$/.test(l);P.prototype[l]=function(){var O=arguments;if(w&&!this.__chain__){var T=this.value();return h.apply(Me(T)?T:[],O)}return this[v](function(M){return h.apply(Me(M)?M:[],O)})}}),$n(Ke.prototype,function(l,h){var v=P[h];if(v){var w=v.name+"";nt.call(go,w)||(go[w]=[]),go[w].push({name:h,func:v})}}),go[vc(r,j).name]=[{name:"wrapper",func:r}],Ke.prototype.clone=gT,Ke.prototype.reverse=mT,Ke.prototype.value=vT,P.prototype.at=Zk,P.prototype.chain=Gk,P.prototype.commit=Yk,P.prototype.next=qk,P.prototype.plant=Xk,P.prototype.reverse=Jk,P.prototype.toJSON=P.prototype.valueOf=P.prototype.value=Qk,P.prototype.first=P.prototype.head,_s&&(P.prototype[_s]=Vk),P},fo=YE();_a?((_a.exports=fo)._=fo,gf._=fo):Kt._=fo}).call(Ma)})(lu,lu.exports);var xN=lu.exports;const bN=()=>y.useCallback((t="light")=>{if("TapticEngine"in window)try{switch(t){case"light":window.TapticEngine.impact({style:"light"});break;case"medium":window.TapticEngine.impact({style:"medium"});break;case"heavy":window.TapticEngine.impact({style:"heavy"});break}}catch{console.debug("TapticEngine not available")}else if("vibrate"in navigator)try{const r={light:[10],medium:[20],heavy:[30]};navigator.vibrate(r[t])}catch{console.debug("Vibration not available")}else if("getGamepads"in navigator)try{const r=navigator.getGamepads();for(const n of r)n&&"vibrationActuator"in n&&n.vibrationActuator.playEffect("dual-rumble",{duration:t==="light"?50:t==="medium"?100:150,strongMagnitude:.1,weakMagnitude:.1})}catch{console.debug("Gamepad vibration not available")}},[]),_N=()=>({handleSwipe:y.useCallback((t,r)=>{let n=0,a=0,i=0,o=0;const s=d=>{n=d.touches[0].clientX,a=d.touches[0].clientY},c=d=>{i=d.changedTouches[0].clientX,o=d.changedTouches[0].clientY;const f=i-n,p=o-a,g=50;(Math.abs(f)>g||Math.abs(p)>g)&&(Math.abs(f)>Math.abs(p)?r(f>0?"right":"left"):r(p>0?"down":"up"))};return t.addEventListener("touchstart",s,{passive:!0}),t.addEventListener("touchend",c,{passive:!0}),()=>{t.removeEventListener("touchstart",s),t.removeEventListener("touchend",c)}},[])}),wN=({value:e,onSearch:t,onInputChange:r,inputValue:n,suggestions:a,loading:i=!1,placeholder:o="建築作品、建築家、場所を検索...",onVoiceSearch:s,onCameraSearch:c,onFilterOpen:d,recentSearches:f=[],trendingSearches:p=[]})=>{const g=is(),m=Uo(g.breakpoints.down("md"));Uo(g.breakpoints.down("sm"));const[x,b]=y.useState(!1),[_,j]=y.useState(!1),[A,S]=y.useState(!1),[C,E]=y.useState(!1),k=y.useRef(null),I=y.useRef(null),U=bN(),{handleSwipe:V}=_N(),re=y.useMemo(()=>xN.debounce(G=>{r(G)},300),[r]),te=y.useCallback(()=>{if(!("webkitSpeechRecognition"in window||"SpeechRecognition"in window)){console.warn("Speech recognition not supported");return}const G=window.webkitSpeechRecognition||window.SpeechRecognition,B=new G;B.lang="ja-JP",B.interimResults=!1,B.maxAlternatives=1,B.onstart=()=>{S(!0),U("light")},B.onresult=X=>{const ae=X.results[0][0].transcript;r(ae),U("medium")},B.onerror=()=>{S(!1),U("heavy")},B.onend=()=>{S(!1)},B.start(),s?.()},[r,U,s]),J=y.useMemo(()=>{const G=[...a];if(n.length===0&&_){const B=f.map(ae=>({...ae,type:"recent"})),X=p.map(ae=>({...ae,type:"trending"}));return[...B,...X]}return G},[a,f,p,n,_]);y.useEffect(()=>{if(I.current&&m)return V(I.current,B=>{B==="right"&&n.length>0?(r(""),U("light")):B==="down"&&!x?(b(!0),U("light")):B==="up"&&x&&(b(!1),U("light"))})},[V,m,n,x,r,U]);const ne={minHeight:"44px",minWidth:"44px",padding:g.spacing(1)},fe=()=>u.jsx(D,{ref:I,sx:{position:"relative",width:"100%",mb:x?2:0,transition:"all 0.3s ease-in-out"},children:u.jsx(ru,{value:e,onChange:(G,B)=>{t(B),U("light")},inputValue:n,onInputChange:(G,B)=>{re(B)},options:J,groupBy:G=>G.type||G.category,getOptionLabel:G=>G.label,loading:i,freeSolo:!0,fullWidth:!0,PopperComponent:G=>u.jsx(ke,{...G,sx:{...G.sx,mt:1,maxHeight:"60vh",overflow:"auto","& .MuiAutocomplete-option":{minHeight:"48px",padding:g.spacing(1.5)}}}),renderInput:G=>u.jsx(Oi,{...G,ref:k,placeholder:o,variant:"outlined",fullWidth:!0,onFocus:()=>{b(!0),j(!0),U("light")},onBlur:()=>{setTimeout(()=>{n||(b(!1),j(!1))},200)},InputProps:{...G.InputProps,sx:{...ne,borderRadius:x?"24px 24px 12px 12px":"24px",backgroundColor:Br(g.palette.background.paper,.95),backdropFilter:"blur(10px)",transition:"all 0.3s ease-in-out","&:hover":{backgroundColor:Br(g.palette.background.paper,1)}},startAdornment:u.jsx(Qh,{position:"start",children:u.jsx(wt,{size:"small",sx:{...ne,color:g.palette.primary.main},"aria-label":"検索",children:u.jsx(as,{})})}),endAdornment:u.jsx(Qh,{position:"end",children:u.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:.5},children:[i&&u.jsx(In,{size:20}),n&&u.jsx(wt,{size:"small",onClick:()=>{r(""),U("light")},sx:ne,"aria-label":"クリア",children:u.jsx(yg,{})}),s&&u.jsx(wt,{size:"small",onClick:te,sx:{...ne,color:A?g.palette.error.main:g.palette.action.active,animation:A?"pulse 1s infinite":"none"},"aria-label":"音声検索",children:u.jsx(lM,{})}),c&&u.jsx(wt,{size:"small",onClick:()=>{c(),U("light")},sx:ne,"aria-label":"画像検索",children:u.jsx(cM,{})})]})})}}),renderOption:(G,B)=>u.jsxs(D,{component:"li",...G,sx:{...G.sx,minHeight:"48px",display:"flex",alignItems:"center",gap:1.5,padding:g.spacing(1.5),"&:hover":{backgroundColor:Br(g.palette.primary.main,.04)}},onClick:X=>{G.onClick?.(X),U("light")},children:[u.jsx(R,{variant:"body2",sx:{fontSize:"16px"},children:B.icon}),u.jsxs(D,{sx:{flexGrow:1},children:[u.jsx(R,{variant:"body1",sx:{fontSize:"16px"},children:B.label}),B.count&&u.jsxs(R,{variant:"caption",color:"text.secondary",children:[B.count,"件"]})]}),B.type==="recent"&&u.jsx(f0,{sx:{color:"text.secondary",fontSize:"16px"}}),B.type==="trending"&&u.jsx(Wo,{sx:{color:"warning.main",fontSize:"16px"}})]})})}),Q=()=>u.jsx(uM,{in:x&&m,children:u.jsxs(D,{sx:{display:"flex",gap:1,flexWrap:"wrap",mb:2,px:1},children:[u.jsx($e,{icon:u.jsx(f0,{}),label:"最近の検索",onClick:()=>{j(!_),U("light")},sx:{...ne,backgroundColor:_?Br(g.palette.primary.main,.1):"transparent"}}),u.jsx($e,{icon:u.jsx(Wo,{}),label:"人気の検索",onClick:()=>{U("light")},sx:ne}),d&&u.jsx($e,{icon:u.jsx(dM,{}),label:"フィルター",onClick:()=>{d(),U("light")},sx:ne})]})});return m?u.jsxs(D,{sx:{width:"100%",position:"relative"},children:[fe(),Q(),x&&u.jsx(ia,{size:"small",color:"primary",sx:{position:"fixed",bottom:g.spacing(3),right:g.spacing(3),zIndex:1e3,animation:"fadeIn 0.3s ease-in-out"},onClick:()=>{U("medium")},"aria-label":"更新",children:u.jsx(Ho,{})}),u.jsx("style",{children:`
            @keyframes pulse {
              0% { opacity: 1; }
              50% { opacity: 0.5; }
              100% { opacity: 1; }
            }
            
            @keyframes fadeIn {
              from { opacity: 0; transform: scale(0.8); }
              to { opacity: 1; transform: scale(1); }
            }
          `})]}):u.jsx(D,{sx:{width:"100%"},children:fe()})},jN=()=>{const[e,t]=y.useState([]),[r,n]=y.useState(!0),[a,i]=y.useState(!0),[o,s]=y.useState(0),[c,d]=y.useState(1),[f,p]=y.useState(null),[g,m]=y.useState(""),[x,b]=y.useState("year_desc"),[_,j]=y.useState(null),[A,S]=y.useState(!0),[C,E]=y.useState("grid"),[k,I]=y.useState([]),[U,V]=y.useState([]),[re,te]=y.useState([]),[J,ne]=y.useState(!1),fe=C==="grid"?12:C==="list"?20:200,Q=Xu(),G=os(),{gestureRef:B}=$1({onSwipeLeft:()=>{c<Math.ceil(o/fe)&&Ce(null,c+1)},onSwipeRight:()=>{c>1&&Ce(null,c-1)},onSwipeUp:()=>{const K=["grid","list","map"],be=(K.indexOf(C)+1)%K.length;E(K[be])},onSwipeDown:()=>{(f||g||k.length>0)&&F()}}),X=y.useCallback(K=>{V(q=>{const be=q.filter(We=>We.value!==K.value);return[K,...be].slice(0,5)});try{const q=[K,...U.filter(be=>be.value!==K.value)].slice(0,5);localStorage.setItem("archi-recent-searches",JSON.stringify(q))}catch{console.warn("Failed to save recent searches to localStorage")}},[U]);y.useEffect(()=>{try{const K=localStorage.getItem("archi-recent-searches");K&&V(JSON.parse(K))}catch{console.warn("Failed to load recent searches from localStorage")}},[]),y.useEffect(()=>{if(_){const K=[..._.architects.slice(0,3).map(q=>({label:q.name,value:`architect:${q.name}`,category:"建築家",icon:"👨‍🎨",count:q.count,type:"trending"})),..._.prefectures.slice(0,2).map(q=>({label:q.name,value:`prefecture:${q.name}`,category:"地域",icon:"📍",count:q.count,type:"trending"}))];te(K)}},[_]);const ae=y.useCallback(K=>{K&&X(K),ot(K)},[X,ot]),me=y.useCallback(K=>{ne(!0),m(K),setTimeout(()=>{ne(!1)},300)},[]),$=y.useCallback(()=>{console.log("Voice search activated")},[]),N=y.useCallback(()=>{console.log("Camera search activated")},[]);y.useEffect(()=>{(async()=>{try{i(!0);const q=await D1();j(q)}catch(q){console.error("初期データ取得エラー:",q)}finally{i(!1)}})()},[]);const Y=y.useMemo(()=>{if(!_)return[];const K=[];return _.awards.slice(0,5).forEach(q=>{K.push({label:q.name,value:`tag:${q.name}`,category:"建築賞",icon:"🏆",count:q.count})}),_.architects.slice(0,10).forEach(q=>{K.push({label:q.name,value:`architect:${q.name}`,category:"建築家",icon:"👨‍💼",count:q.projectCount})}),_.buildingTypeEvolution.slice(0,8).forEach(q=>{K.push({label:q.category,value:`category:${q.category}`,category:"カテゴリ",icon:"🏛️",count:q.totalCount})}),_.regionalAnalysis.slice(0,8).forEach(q=>{K.push({label:q.prefecture,value:`prefecture:${q.prefecture}`,category:"地域",icon:"📍",count:q.projectCount})}),_.temporalAnalysis.forEach(q=>{const be=q.decade.replace("年代","");K.push({label:q.decade,value:`year:${be}`,category:"年代",icon:"📅",count:q.projectCount})}),K},[_]),se=y.useMemo(()=>_?{topAwards:_.awards.slice(0,3),topArchitects:_.architects.slice(0,5),popularCategories:_.buildingTypeEvolution.slice(0,5),recentTrends:_.temporalAnalysis.slice(-3).reverse()}:null,[_]),pe=y.useCallback(async(K,q="",be=x)=>{n(!0);try{let We;if(!q||q.trim()==="")We=await Pg(K,fe);else if(q.startsWith("tag:")){const le=q.substring(4).trim();We=await La("",{tag:le},K,fe)}else if(q.startsWith("year:")){const le=parseInt(q.substring(5).trim());We=await La("",{year:le},K,fe)}else if(q.startsWith("architect:")){const le=q.substring(10).trim();We=await La("",{architect:le},K,fe)}else if(q.startsWith("category:")){const le=q.substring(9).trim();We=await La("",{category:le},K,fe)}else if(q.startsWith("prefecture:")){const le=q.substring(11).trim();We=await La(le,{},K,fe)}else We=await La(q,{},K,fe);t(We.results),s(We.total),d(K)}catch(We){console.error("Error fetching architectures:",We),t([]),s(0)}finally{n(!1)}},[fe,x]);y.useEffect(()=>{const K=new URLSearchParams(Q.search),q=[];let be="";[{param:"tag",type:"賞/タグ",prefix:"tag:"},{param:"architect",type:"建築家",prefix:"architect:"},{param:"category",type:"カテゴリ",prefix:"category:"},{param:"prefecture",type:"地域",prefix:"prefecture:"},{param:"year",type:"年",prefix:"year:"}].forEach(({param:ze,type:gt,prefix:Ze})=>{const st=K.get(ze);st&&(q.push({type:gt,value:st,label:st}),be||(be=`${Ze}${st}`))});const le=K.get("search");if(le&&!be){be=le;const ze=Y.find(gt=>gt.value===le);ze?p(ze):m(le)}const Oe=K.get("sort");Oe&&b(Oe),I(q),be||q.length>0?pe(1,be||q[0]?.prefix+q[0]?.value,Oe||x):pe(1,"",Oe||x)},[Q.search,Y,pe,x]);const Ce=(K,q)=>{d(q);const be=f?.value||g;pe(q,be,x),window.scrollTo(0,0)},ot=K=>{if(p(K),K){const q=new URLSearchParams,[be,...We]=K.value.split(":"),le=We.join(":");be==="tag"?q.set("tag",le):be==="architect"?q.set("architect",le):be==="category"?q.set("category",le):be==="prefecture"?q.set("prefecture",le):be==="year"?q.set("year",le):q.set("search",K.value),x!=="year_desc"&&q.set("sort",x),G({search:q.toString()})}else if(g){const q=new URLSearchParams;q.set("search",g),x!=="year_desc"&&q.set("sort",x),G({search:q.toString()})}},Ye=K=>{const q=K.target.value;b(q);const be=new URLSearchParams(Q.search);q!=="year_desc"?be.set("sort",q):be.delete("sort"),G({search:be.toString()})},F=()=>{p(null),m(""),I([]),b("year_desc"),G({search:""})},ge=K=>{const q=new URLSearchParams(Q.search);["tag","architect","category","prefecture","year"].forEach(We=>{q.get(We)===K.value&&q.delete(We)}),G({search:q.toString()})},je=(K,q)=>{const be=new URLSearchParams;K==="award"?be.set("tag",q):K==="architect"?be.set("architect",q):K==="category"?be.set("category",q):K==="decade"&&be.set("year",q.replace("年代","")),x!=="year_desc"&&be.set("sort",x),G({search:be.toString()})},ie=Math.ceil(o/fe);return u.jsxs(hr,{maxWidth:"xl",sx:{py:4},children:[u.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[u.jsx(R,{variant:"h4",component:"h1",children:"建築作品一覧"}),u.jsxs(fM,{value:C,exclusive:!0,onChange:(K,q)=>{if(q&&(E(q),q==="map")){const be=f?.value||g;pe(c,be,x)}},size:"small",children:[u.jsx(bh,{value:"grid","aria-label":"カードビュー",children:u.jsx(_t,{title:"カードビュー",children:u.jsx(hM,{})})}),u.jsx(bh,{value:"list","aria-label":"リストビュー",children:u.jsx(_t,{title:"リストビュー",children:u.jsx(pM,{})})}),u.jsx(bh,{value:"map","aria-label":"マップビュー",children:u.jsx(_t,{title:"マップビュー",children:u.jsx(_i,{})})})]})]}),u.jsxs(ue,{container:!0,spacing:3,children:[u.jsxs(ue,{item:!0,xs:12,lg:A?9:12,children:[u.jsxs(ke,{sx:{p:3,mb:3},children:[u.jsxs(D,{sx:{mb:3},ref:B,children:[u.jsx(wN,{value:f,onSearch:ae,onInputChange:me,inputValue:g,suggestions:Y,loading:J,placeholder:"建築作品、建築家、場所を検索...",onVoiceSearch:$,onCameraSearch:N,recentSearches:U,trendingSearches:re}),u.jsxs(D,{sx:{display:"flex",gap:2,mt:2,flexWrap:"wrap"},children:[u.jsxs(Gn,{size:"small",sx:{minWidth:120},children:[u.jsx(Yn,{children:"並び替え"}),u.jsxs(qn,{value:x,label:"並び替え",onChange:Ye,startAdornment:u.jsx(gM,{sx:{mr:1,color:"action.active"}}),children:[u.jsx(Qe,{value:"year_desc",children:"新しい順"}),u.jsx(Qe,{value:"year_asc",children:"古い順"}),u.jsx(Qe,{value:"name_asc",children:"名前順"})]})]}),u.jsx(Pe,{variant:"outlined",onClick:F,disabled:!f&&!g&&k.length===0,sx:{minHeight:"44px"},children:"クリア"})]})]}),k.length>0&&u.jsxs(D,{sx:{mb:3},children:[u.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[u.jsx(i1,{color:"action"}),u.jsx(R,{variant:"body2",color:"text.secondary",children:"絞り込み条件:"})]}),u.jsxs(D,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:[k.map((K,q)=>u.jsx($e,{label:`${K.type}: ${K.label}`,onDelete:()=>ge(K),color:"primary",variant:"outlined"},q)),u.jsx(Pe,{size:"small",startIcon:u.jsx(yg,{}),onClick:F,children:"すべてクリア"})]})]}),u.jsx(D,{sx:{mb:2},children:u.jsxs(R,{variant:"body2",color:"text.secondary",children:[o.toLocaleString(),"件の建築作品",k.length>0&&" (絞り込み結果)",C==="map"&&e.filter(K=>K.latitude&&K.longitude).length<e.length&&` - ${e.filter(K=>K.latitude&&K.longitude).length}件を地図に表示`]})})]}),r?C==="list"?u.jsx(ke,{sx:{p:2},children:[...Array(fe)].map((K,q)=>u.jsxs(D,{sx:{mb:2},children:[u.jsx(Yt,{variant:"text",height:40}),u.jsx(Yt,{variant:"text",height:20,width:"60%"})]},q))}):C==="grid"?u.jsx(ue,{container:!0,spacing:2,children:[...Array(fe)].map((K,q)=>u.jsx(ue,{item:!0,xs:12,sm:6,md:4,children:u.jsx(Yt,{variant:"rectangular",height:300})},q))}):u.jsx(Yt,{variant:"rectangular",height:600}):C==="list"?u.jsx(ke,{sx:{p:2},children:u.jsx(Wn,{children:e.map((K,q)=>u.jsxs(Ft.Fragment,{children:[u.jsx(dn,{alignItems:"flex-start",component:Mt,to:`/architecture/${K.id}`,sx:{textDecoration:"none",color:"inherit","&:hover":{backgroundColor:"action.hover"}},children:u.jsx(Ar,{primary:u.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1},children:[u.jsx(R,{variant:"h6",component:"span",children:K.title}),K.tags&&u.jsx($e,{label:K.tags,size:"small",color:"warning",variant:"outlined",icon:u.jsx(Wa,{}),onClick:be=>{be.preventDefault(),be.stopPropagation(),je("award",K.tags)}})]}),secondary:u.jsx(D,{sx:{mt:1},children:u.jsxs(ue,{container:!0,spacing:2,children:[K.architect&&u.jsx(ue,{item:!0,xs:12,sm:4,children:u.jsxs(D,{sx:{display:"flex",alignItems:"center"},children:[u.jsx(Vn,{sx:{mr:.5,color:"text.secondary",fontSize:16}}),u.jsx(R,{variant:"body2",color:"text.secondary",children:K.architect})]})}),K.year&&u.jsx(ue,{item:!0,xs:12,sm:2,children:u.jsxs(D,{sx:{display:"flex",alignItems:"center"},children:[u.jsx(ep,{sx:{mr:.5,color:"text.secondary",fontSize:16}}),u.jsxs(R,{variant:"body2",color:"text.secondary",children:[K.year,"年"]})]})}),K.category&&u.jsx(ue,{item:!0,xs:12,sm:3,children:u.jsxs(D,{sx:{display:"flex",alignItems:"center"},children:[u.jsx(Ua,{sx:{mr:.5,color:"text.secondary",fontSize:16}}),u.jsx(R,{variant:"body2",color:"text.secondary",children:K.category})]})}),K.address&&u.jsx(ue,{item:!0,xs:12,sm:3,children:u.jsxs(D,{sx:{display:"flex",alignItems:"center"},children:[u.jsx(Pi,{sx:{mr:.5,color:"text.secondary",fontSize:16}}),u.jsx(R,{variant:"body2",color:"text.secondary",noWrap:!0,children:K.address})]})})]})})})}),q<e.length-1&&u.jsx(un,{component:"li"})]},K.id))})}):C==="map"?u.jsx(ke,{sx:{height:"600px",overflow:"hidden",position:"relative"},children:u.jsx(yN,{markers:e.filter(K=>K.latitude&&K.longitude).map(K=>({id:K.id,position:[K.latitude,K.longitude],title:K.title,architect:K.architect,year:K.year,category:K.category,tags:K.tags,address:K.address})),center:k.some(K=>K.type==="地域")||e.filter(K=>K.latitude&&K.longitude).length>0?void 0:[35.6762,139.6503],zoom:k.some(K=>K.type==="地域")?10:k.length>0?8:6,height:"600px",onMarkerClick:K=>{G(`/architecture/${K}`)}})}):u.jsxs(u.Fragment,{children:[u.jsx(ue,{container:!0,spacing:2,children:e.map(K=>u.jsx(ue,{item:!0,xs:12,sm:6,md:4,children:u.jsx(St,{children:u.jsx(Vu,{component:Mt,to:`/architecture/${K.id}`,children:u.jsxs(Ct,{children:[u.jsx(R,{variant:"h6",component:"h2",gutterBottom:!0,children:K.title}),u.jsxs(D,{sx:{display:"flex",flexDirection:"column",gap:1},children:[K.architect&&u.jsxs(D,{sx:{display:"flex",alignItems:"center"},children:[u.jsx(Vn,{sx:{mr:1,color:"text.secondary",fontSize:20}}),u.jsx(R,{variant:"body2",color:"text.secondary",children:K.architect})]}),K.year&&u.jsxs(D,{sx:{display:"flex",alignItems:"center"},children:[u.jsx(ep,{sx:{mr:1,color:"text.secondary",fontSize:20}}),u.jsxs(R,{variant:"body2",color:"text.secondary",children:[K.year,"年"]})]}),K.address&&u.jsxs(D,{sx:{display:"flex",alignItems:"center"},children:[u.jsx(Pi,{sx:{mr:1,color:"text.secondary",fontSize:20}}),u.jsx(R,{variant:"body2",color:"text.secondary",noWrap:!0,children:K.address})]}),K.category&&u.jsxs(D,{sx:{display:"flex",alignItems:"center"},children:[u.jsx(Ua,{sx:{mr:1,color:"text.secondary",fontSize:20}}),u.jsx(R,{variant:"body2",color:"text.secondary",children:K.category})]}),K.tags&&u.jsxs(D,{sx:{display:"flex",alignItems:"center",flexWrap:"wrap",gap:.5,mt:1},children:[u.jsx(Wa,{sx:{mr:1,color:"warning.main",fontSize:20}}),u.jsx($e,{label:K.tags,size:"small",color:"warning",variant:"outlined",onClick:q=>{q.preventDefault(),je("award",K.tags)}})]})]})]})})})},K.id))}),ie>1&&u.jsx(D,{sx:{display:"flex",justifyContent:"center",mt:4},children:u.jsx(nu,{count:ie,page:c,onChange:Ce,color:"primary",size:"large"})})]}),C==="list"&&ie>1&&!r&&u.jsx(D,{sx:{display:"flex",justifyContent:"center",mt:4},children:u.jsx(nu,{count:ie,page:c,onChange:Ce,color:"primary",size:"large"})})]}),A&&u.jsx(ue,{item:!0,xs:12,lg:3,children:u.jsxs(ke,{sx:{p:2,position:"sticky",top:20},children:[u.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[u.jsxs(R,{variant:"h6",sx:{display:"flex",alignItems:"center"},children:[u.jsx(mM,{sx:{mr:1}}),"研究インサイト"]}),u.jsx(wt,{size:"small",onClick:()=>S(!1),children:u.jsx(eu,{})})]}),a?u.jsxs(D,{children:[u.jsx(Yt,{variant:"text",height:30}),u.jsx(Yt,{variant:"text",height:30}),u.jsx(Yt,{variant:"text",height:30})]}):se&&u.jsxs(Ys,{spacing:3,children:[u.jsxs(D,{children:[u.jsxs(R,{variant:"subtitle2",gutterBottom:!0,sx:{display:"flex",alignItems:"center"},children:[u.jsx(Wa,{sx:{mr:1,color:"warning.main"}}),"主要建築賞"]}),u.jsx(Wn,{dense:!0,children:se.topAwards.map((K,q)=>u.jsx(dn,{button:!0,onClick:()=>je("award",K.name),children:u.jsx(Ar,{primary:K.name,secondary:`${K.count}作品`})},q))})]}),u.jsx(un,{}),u.jsxs(D,{children:[u.jsxs(R,{variant:"subtitle2",gutterBottom:!0,sx:{display:"flex",alignItems:"center"},children:[u.jsx(Vn,{sx:{mr:1,color:"primary.main"}}),"注目建築家"]}),u.jsx(Wn,{dense:!0,children:se.topArchitects.map((K,q)=>u.jsx(dn,{button:!0,onClick:()=>je("architect",K.name),children:u.jsx(Ar,{primary:K.name,secondary:`${K.projectCount}作品 (${K.yearSpan.start}-${K.yearSpan.end})`})},q))})]}),u.jsx(un,{}),u.jsxs(D,{children:[u.jsxs(R,{variant:"subtitle2",gutterBottom:!0,sx:{display:"flex",alignItems:"center"},children:[u.jsx(Ua,{sx:{mr:1,color:"secondary.main"}}),"人気カテゴリ"]}),u.jsx(D,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:se.popularCategories.map((K,q)=>u.jsx($e,{label:`${K.category} (${K.totalCount})`,size:"small",onClick:()=>je("category",K.category)},q))})]}),u.jsx(un,{}),u.jsxs(D,{children:[u.jsxs(R,{variant:"subtitle2",gutterBottom:!0,sx:{display:"flex",alignItems:"center"},children:[u.jsx(Wo,{sx:{mr:1,color:"success.main"}}),"時代トレンド"]}),u.jsx(Wn,{dense:!0,children:se.recentTrends.map((K,q)=>u.jsx(dn,{button:!0,onClick:()=>je("decade",K.decade),children:u.jsx(Ar,{primary:K.decade,secondary:`${K.projectCount}件`})},q))})]})]})]})})]})]})};var X0={exports:{}};(function(e,t){(function(r,n){n(t)})(Ma,function(r){var n=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(i){L.Util.setOptions(this,i),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var o=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,o?this._withAnimation:this._noAnimation),this._markerCluster=o?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(i){if(i instanceof L.LayerGroup)return this.addLayers([i]);if(!i.getLatLng)return this._nonPointGroup.addLayer(i),this.fire("layeradd",{layer:i}),this;if(!this._map)return this._needsClustering.push(i),this.fire("layeradd",{layer:i}),this;if(this.hasLayer(i))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(i,this._maxZoom),this.fire("layeradd",{layer:i}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var o=i,s=this._zoom;if(i.__parent)for(;o.__parent._zoom>=s;)o=o.__parent;return this._currentShownBounds.contains(o.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(i,o):this._animationAddLayerNonAnimated(i,o)),this},removeLayer:function(i){return i instanceof L.LayerGroup?this.removeLayers([i]):i.getLatLng?this._map?i.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(i)),this._removeLayer(i,!0),this.fire("layerremove",{layer:i}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),i.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(i)&&(this._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,i)&&this.hasLayer(i)&&this._needsRemoving.push({layer:i,latlng:i._latlng}),this.fire("layerremove",{layer:i}),this):(this._nonPointGroup.removeLayer(i),this.fire("layerremove",{layer:i}),this)},addLayers:function(i,o){if(!L.Util.isArray(i))return this.addLayer(i);var s=this._featureGroup,c=this._nonPointGroup,d=this.options.chunkedLoading,f=this.options.chunkInterval,p=this.options.chunkProgress,g=i.length,m=0,x=!0,b;if(this._map){var _=new Date().getTime(),j=L.bind(function(){var S=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();m<g;m++){if(d&&m%200===0){var C=new Date().getTime()-S;if(C>f)break}if(b=i[m],b instanceof L.LayerGroup){x&&(i=i.slice(),x=!1),this._extractNonGroupLayers(b,i),g=i.length;continue}if(!b.getLatLng){c.addLayer(b),o||this.fire("layeradd",{layer:b});continue}if(!this.hasLayer(b)&&(this._addLayer(b,this._maxZoom),o||this.fire("layeradd",{layer:b}),b.__parent&&b.__parent.getChildCount()===2)){var E=b.__parent.getAllChildMarkers(),k=E[0]===b?E[1]:E[0];s.removeLayer(k)}}p&&p(m,g,new Date().getTime()-_),m===g?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(j,this.options.chunkDelay)},this);j()}else for(var A=this._needsClustering;m<g;m++){if(b=i[m],b instanceof L.LayerGroup){x&&(i=i.slice(),x=!1),this._extractNonGroupLayers(b,i),g=i.length;continue}if(!b.getLatLng){c.addLayer(b);continue}this.hasLayer(b)||A.push(b)}return this},removeLayers:function(i){var o,s,c=i.length,d=this._featureGroup,f=this._nonPointGroup,p=!0;if(!this._map){for(o=0;o<c;o++){if(s=i[o],s instanceof L.LayerGroup){p&&(i=i.slice(),p=!1),this._extractNonGroupLayers(s,i),c=i.length;continue}this._arraySplice(this._needsClustering,s),f.removeLayer(s),this.hasLayer(s)&&this._needsRemoving.push({layer:s,latlng:s._latlng}),this.fire("layerremove",{layer:s})}return this}if(this._unspiderfy){this._unspiderfy();var g=i.slice(),m=c;for(o=0;o<m;o++){if(s=g[o],s instanceof L.LayerGroup){this._extractNonGroupLayers(s,g),m=g.length;continue}this._unspiderfyLayer(s)}}for(o=0;o<c;o++){if(s=i[o],s instanceof L.LayerGroup){p&&(i=i.slice(),p=!1),this._extractNonGroupLayers(s,i),c=i.length;continue}if(!s.__parent){f.removeLayer(s),this.fire("layerremove",{layer:s});continue}this._removeLayer(s,!0,!0),this.fire("layerremove",{layer:s}),d.hasLayer(s)&&(d.removeLayer(s),s.clusterShow&&s.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(i){i.off(this._childMarkerEventHandlers,this),delete i.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var i=new L.LatLngBounds;this._topClusterLevel&&i.extend(this._topClusterLevel._bounds);for(var o=this._needsClustering.length-1;o>=0;o--)i.extend(this._needsClustering[o].getLatLng());return i.extend(this._nonPointGroup.getBounds()),i},eachLayer:function(i,o){var s=this._needsClustering.slice(),c=this._needsRemoving,d,f,p;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(s),f=s.length-1;f>=0;f--){for(d=!0,p=c.length-1;p>=0;p--)if(c[p].layer===s[f]){d=!1;break}d&&i.call(o,s[f])}this._nonPointGroup.eachLayer(i,o)},getLayers:function(){var i=[];return this.eachLayer(function(o){i.push(o)}),i},getLayer:function(i){var o=null;return i=parseInt(i,10),this.eachLayer(function(s){L.stamp(s)===i&&(o=s)}),o},hasLayer:function(i){if(!i)return!1;var o,s=this._needsClustering;for(o=s.length-1;o>=0;o--)if(s[o]===i)return!0;for(s=this._needsRemoving,o=s.length-1;o>=0;o--)if(s[o].layer===i)return!1;return!!(i.__parent&&i.__parent._group===this)||this._nonPointGroup.hasLayer(i)},zoomToShowLayer:function(i,o){var s=this._map;typeof o!="function"&&(o=function(){});var c=function(){(s.hasLayer(i)||s.hasLayer(i.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",c,this),this.off("animationend",c,this),s.hasLayer(i)?o():i.__parent._icon&&(this.once("spiderfied",o,this),i.__parent.spiderfy()))};i._icon&&this._map.getBounds().contains(i.getLatLng())?o():i.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",c,this),this._map.panTo(i.getLatLng())):(this._map.on("moveend",c,this),this.on("animationend",c,this),i.__parent.zoomToBounds())},onAdd:function(i){this._map=i;var o,s,c;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(i),this._nonPointGroup.addTo(i),this._gridClusters||this._generateInitialClusters(),this._maxLat=i.options.crs.projection.MAX_LATITUDE,o=0,s=this._needsRemoving.length;o<s;o++)c=this._needsRemoving[o],c.newlatlng=c.layer._latlng,c.layer._latlng=c.latlng;for(o=0,s=this._needsRemoving.length;o<s;o++)c=this._needsRemoving[o],this._removeLayer(c.layer,!0),c.layer._latlng=c.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),s=this._needsClustering,this._needsClustering=[],this.addLayers(s,!0)},onRemove:function(i){i.off("zoomend",this._zoomEnd,this),i.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(i){for(var o=i;o&&!o._icon;)o=o.__parent;return o||null},_arraySplice:function(i,o){for(var s=i.length-1;s>=0;s--)if(i[s]===o)return i.splice(s,1),!0},_removeFromGridUnclustered:function(i,o){for(var s=this._map,c=this._gridUnclustered,d=Math.floor(this._map.getMinZoom());o>=d&&c[o].removeObject(i,s.project(i.getLatLng(),o));o--);},_childMarkerDragStart:function(i){i.target.__dragStart=i.target._latlng},_childMarkerMoved:function(i){if(!this._ignoreMove&&!i.target.__dragStart){var o=i.target._popup&&i.target._popup.isOpen();this._moveChild(i.target,i.oldLatLng,i.latlng),o&&i.target.openPopup()}},_moveChild:function(i,o,s){i._latlng=o,this.removeLayer(i),i._latlng=s,this.addLayer(i)},_childMarkerDragEnd:function(i){var o=i.target.__dragStart;delete i.target.__dragStart,o&&this._moveChild(i.target,o,i.target._latlng)},_removeLayer:function(i,o,s){var c=this._gridClusters,d=this._gridUnclustered,f=this._featureGroup,p=this._map,g=Math.floor(this._map.getMinZoom());o&&this._removeFromGridUnclustered(i,this._maxZoom);var m=i.__parent,x=m._markers,b;for(this._arraySplice(x,i);m&&(m._childCount--,m._boundsNeedUpdate=!0,!(m._zoom<g));)o&&m._childCount<=1?(b=m._markers[0]===i?m._markers[1]:m._markers[0],c[m._zoom].removeObject(m,p.project(m._cLatLng,m._zoom)),d[m._zoom].addObject(b,p.project(b.getLatLng(),m._zoom)),this._arraySplice(m.__parent._childClusters,m),m.__parent._markers.push(b),b.__parent=m.__parent,m._icon&&(f.removeLayer(m),s||f.addLayer(b))):m._iconNeedsUpdate=!0,m=m.__parent;delete i.__parent},_isOrIsParent:function(i,o){for(;o;){if(i===o)return!0;o=o.parentNode}return!1},fire:function(i,o,s){if(o&&o.layer instanceof L.MarkerCluster){if(o.originalEvent&&this._isOrIsParent(o.layer._icon,o.originalEvent.relatedTarget))return;i="cluster"+i}L.FeatureGroup.prototype.fire.call(this,i,o,s)},listens:function(i,o){return L.FeatureGroup.prototype.listens.call(this,i,o)||L.FeatureGroup.prototype.listens.call(this,"cluster"+i,o)},_defaultIconCreateFunction:function(i){var o=i.getChildCount(),s=" marker-cluster-";return o<10?s+="small":o<100?s+="medium":s+="large",new L.DivIcon({html:"<div><span>"+o+"</span></div>",className:"marker-cluster"+s,iconSize:new L.Point(40,40)})},_bindEvents:function(){var i=this._map,o=this.options.spiderfyOnMaxZoom,s=this.options.showCoverageOnHover,c=this.options.zoomToBoundsOnClick,d=this.options.spiderfyOnEveryZoom;(o||c||d)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),s&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),i.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(i){var o=i.layer,s=o;if(!(i.type==="clusterkeypress"&&i.originalEvent&&i.originalEvent.keyCode!==13)){for(;s._childClusters.length===1;)s=s._childClusters[0];s._zoom===this._maxZoom&&s._childCount===o._childCount&&this.options.spiderfyOnMaxZoom?o.spiderfy():this.options.zoomToBoundsOnClick&&o.zoomToBounds(),this.options.spiderfyOnEveryZoom&&o.spiderfy(),i.originalEvent&&i.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(i){var o=this._map;this._inZoomAnimation||(this._shownPolygon&&o.removeLayer(this._shownPolygon),i.layer.getChildCount()>2&&i.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(i.layer.getConvexHull(),this.options.polygonOptions),o.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var i=this.options.spiderfyOnMaxZoom,o=this.options.showCoverageOnHover,s=this.options.zoomToBoundsOnClick,c=this.options.spiderfyOnEveryZoom,d=this._map;(i||s||c)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),o&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),d.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var i=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,i),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),i),this._currentShownBounds=i}},_generateInitialClusters:function(){var i=Math.ceil(this._map.getMaxZoom()),o=Math.floor(this._map.getMinZoom()),s=this.options.maxClusterRadius,c=s;typeof s!="function"&&(c=function(){return s}),this.options.disableClusteringAtZoom!==null&&(i=this.options.disableClusteringAtZoom-1),this._maxZoom=i,this._gridClusters={},this._gridUnclustered={};for(var d=i;d>=o;d--)this._gridClusters[d]=new L.DistanceGrid(c(d)),this._gridUnclustered[d]=new L.DistanceGrid(c(d));this._topClusterLevel=new this._markerCluster(this,o-1)},_addLayer:function(i,o){var s=this._gridClusters,c=this._gridUnclustered,d=Math.floor(this._map.getMinZoom()),f,p;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(i),i.on(this._childMarkerEventHandlers,this);o>=d;o--){f=this._map.project(i.getLatLng(),o);var g=s[o].getNearObject(f);if(g){g._addChild(i),i.__parent=g;return}if(g=c[o].getNearObject(f),g){var m=g.__parent;m&&this._removeLayer(g,!1);var x=new this._markerCluster(this,o,g,i);s[o].addObject(x,this._map.project(x._cLatLng,o)),g.__parent=x,i.__parent=x;var b=x;for(p=o-1;p>m._zoom;p--)b=new this._markerCluster(this,p,b),s[p].addObject(b,this._map.project(g.getLatLng(),p));m._addChild(b),this._removeFromGridUnclustered(g,o);return}c[o].addObject(i,f)}this._topClusterLevel._addChild(i),i.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(i){i instanceof L.MarkerCluster&&i._iconNeedsUpdate&&i._updateIcon()})},_enqueue:function(i){this._queue.push(i),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var i=0;i<this._queue.length;i++)this._queue[i].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var i=Math.round(this._map._zoom);this._processQueue(),this._zoom<i&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,i)):this._zoom>i?(this._animationStart(),this._animationZoomOut(this._zoom,i)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(i){var o=this._maxLat;return o!==void 0&&(i.getNorth()>=o&&(i._northEast.lat=1/0),i.getSouth()<=-o&&(i._southWest.lat=-1/0)),i},_animationAddLayerNonAnimated:function(i,o){if(o===i)this._featureGroup.addLayer(i);else if(o._childCount===2){o._addToMap();var s=o.getAllChildMarkers();this._featureGroup.removeLayer(s[0]),this._featureGroup.removeLayer(s[1])}else o._updateIcon()},_extractNonGroupLayers:function(i,o){var s=i.getLayers(),c=0,d;for(o=o||[];c<s.length;c++){if(d=s[c],d instanceof L.LayerGroup){this._extractNonGroupLayers(d,o);continue}o.push(d)}return o},_overrideMarkerIcon:function(i){var o=i.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[i]}});return o}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(i,o){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),i),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(i,o){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),i),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(i,o){this._animationAddLayerNonAnimated(i,o)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(i,o){var s=this._getExpandedVisibleBounds(),c=this._featureGroup,d=Math.floor(this._map.getMinZoom()),f;this._ignoreMove=!0,this._topClusterLevel._recursively(s,i,d,function(p){var g=p._latlng,m=p._markers,x;for(s.contains(g)||(g=null),p._isSingleParent()&&i+1===o?(c.removeLayer(p),p._recursivelyAddChildrenToMap(null,o,s)):(p.clusterHide(),p._recursivelyAddChildrenToMap(g,o,s)),f=m.length-1;f>=0;f--)x=m[f],s.contains(x._latlng)||c.removeLayer(x)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(s,o),c.eachLayer(function(p){!(p instanceof L.MarkerCluster)&&p._icon&&p.clusterShow()}),this._topClusterLevel._recursively(s,i,o,function(p){p._recursivelyRestoreChildPositions(o)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(s,i,d,function(p){c.removeLayer(p),p.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(i,o){this._animationZoomOutSingle(this._topClusterLevel,i-1,o),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),i,this._getExpandedVisibleBounds())},_animationAddLayer:function(i,o){var s=this,c=this._featureGroup;c.addLayer(i),o!==i&&(o._childCount>2?(o._updateIcon(),this._forceLayout(),this._animationStart(),i._setPos(this._map.latLngToLayerPoint(o.getLatLng())),i.clusterHide(),this._enqueue(function(){c.removeLayer(i),i.clusterShow(),s._animationEnd()})):(this._forceLayout(),s._animationStart(),s._animationZoomOutSingle(o,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(i,o,s){var c=this._getExpandedVisibleBounds(),d=Math.floor(this._map.getMinZoom());i._recursivelyAnimateChildrenInAndAddSelfToMap(c,d,o+1,s);var f=this;this._forceLayout(),i._recursivelyBecomeVisible(c,s),this._enqueue(function(){if(i._childCount===1){var p=i._markers[0];this._ignoreMove=!0,p.setLatLng(p.getLatLng()),this._ignoreMove=!1,p.clusterShow&&p.clusterShow()}else i._recursively(c,s,d,function(g){g._recursivelyRemoveChildrenFromMap(c,d,o+1)});f._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(i){return new L.MarkerClusterGroup(i)};var a=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(i,o,s,c){L.Marker.prototype.initialize.call(this,s?s._cLatLng||s.getLatLng():new L.LatLng(0,0),{icon:this,pane:i.options.clusterPane}),this._group=i,this._zoom=o,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,s&&this._addChild(s),c&&this._addChild(c)},getAllChildMarkers:function(i,o){i=i||[];for(var s=this._childClusters.length-1;s>=0;s--)this._childClusters[s].getAllChildMarkers(i,o);for(var c=this._markers.length-1;c>=0;c--)o&&this._markers[c].__dragStart||i.push(this._markers[c]);return i},getChildCount:function(){return this._childCount},zoomToBounds:function(i){for(var o=this._childClusters.slice(),s=this._group._map,c=s.getBoundsZoom(this._bounds),d=this._zoom+1,f=s.getZoom(),p;o.length>0&&c>d;){d++;var g=[];for(p=0;p<o.length;p++)g=g.concat(o[p]._childClusters);o=g}c>d?this._group._map.setView(this._latlng,d):c<=f?this._group._map.setView(this._latlng,f+1):this._group._map.fitBounds(this._bounds,i)},getBounds:function(){var i=new L.LatLngBounds;return i.extend(this._bounds),i},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(i,o){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(i),i instanceof L.MarkerCluster?(o||(this._childClusters.push(i),i.__parent=this),this._childCount+=i._childCount):(o||this._markers.push(i),this._childCount++),this.__parent&&this.__parent._addChild(i,!0)},_setClusterCenter:function(i){this._cLatLng||(this._cLatLng=i._cLatLng||i._latlng)},_resetBounds:function(){var i=this._bounds;i._southWest&&(i._southWest.lat=1/0,i._southWest.lng=1/0),i._northEast&&(i._northEast.lat=-1/0,i._northEast.lng=-1/0)},_recalculateBounds:function(){var i=this._markers,o=this._childClusters,s=0,c=0,d=this._childCount,f,p,g,m;if(d!==0){for(this._resetBounds(),f=0;f<i.length;f++)g=i[f]._latlng,this._bounds.extend(g),s+=g.lat,c+=g.lng;for(f=0;f<o.length;f++)p=o[f],p._boundsNeedUpdate&&p._recalculateBounds(),this._bounds.extend(p._bounds),g=p._wLatLng,m=p._childCount,s+=g.lat*m,c+=g.lng*m;this._latlng=this._wLatLng=new L.LatLng(s/d,c/d),this._boundsNeedUpdate=!1}},_addToMap:function(i){i&&(this._backupLatlng=this._latlng,this.setLatLng(i)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(i,o,s){this._recursively(i,this._group._map.getMinZoom(),s-1,function(c){var d=c._markers,f,p;for(f=d.length-1;f>=0;f--)p=d[f],p._icon&&(p._setPos(o),p.clusterHide())},function(c){var d=c._childClusters,f,p;for(f=d.length-1;f>=0;f--)p=d[f],p._icon&&(p._setPos(o),p.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(i,o,s,c){this._recursively(i,c,o,function(d){d._recursivelyAnimateChildrenIn(i,d._group._map.latLngToLayerPoint(d.getLatLng()).round(),s),d._isSingleParent()&&s-1===c?(d.clusterShow(),d._recursivelyRemoveChildrenFromMap(i,o,s)):d.clusterHide(),d._addToMap()})},_recursivelyBecomeVisible:function(i,o){this._recursively(i,this._group._map.getMinZoom(),o,null,function(s){s.clusterShow()})},_recursivelyAddChildrenToMap:function(i,o,s){this._recursively(s,this._group._map.getMinZoom()-1,o,function(c){if(o!==c._zoom)for(var d=c._markers.length-1;d>=0;d--){var f=c._markers[d];s.contains(f._latlng)&&(i&&(f._backupLatlng=f.getLatLng(),f.setLatLng(i),f.clusterHide&&f.clusterHide()),c._group._featureGroup.addLayer(f))}},function(c){c._addToMap(i)})},_recursivelyRestoreChildPositions:function(i){for(var o=this._markers.length-1;o>=0;o--){var s=this._markers[o];s._backupLatlng&&(s.setLatLng(s._backupLatlng),delete s._backupLatlng)}if(i-1===this._zoom)for(var c=this._childClusters.length-1;c>=0;c--)this._childClusters[c]._restorePosition();else for(var d=this._childClusters.length-1;d>=0;d--)this._childClusters[d]._recursivelyRestoreChildPositions(i)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(i,o,s,c){var d,f;this._recursively(i,o-1,s-1,function(p){for(f=p._markers.length-1;f>=0;f--)d=p._markers[f],(!c||!c.contains(d._latlng))&&(p._group._featureGroup.removeLayer(d),d.clusterShow&&d.clusterShow())},function(p){for(f=p._childClusters.length-1;f>=0;f--)d=p._childClusters[f],(!c||!c.contains(d._latlng))&&(p._group._featureGroup.removeLayer(d),d.clusterShow&&d.clusterShow())})},_recursively:function(i,o,s,c,d){var f=this._childClusters,p=this._zoom,g,m;if(o<=p&&(c&&c(this),d&&p===s&&d(this)),p<o||p<s)for(g=f.length-1;g>=0;g--)m=f[g],m._boundsNeedUpdate&&m._recalculateBounds(),i.intersects(m._bounds)&&m._recursively(i,o,s,c,d)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var i=this.options.opacity;return this.setOpacity(0),this.options.opacity=i,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(i){this._cellSize=i,this._sqCellSize=i*i,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(i,o){var s=this._getCoord(o.x),c=this._getCoord(o.y),d=this._grid,f=d[c]=d[c]||{},p=f[s]=f[s]||[],g=L.Util.stamp(i);this._objectPoint[g]=o,p.push(i)},updateObject:function(i,o){this.removeObject(i),this.addObject(i,o)},removeObject:function(i,o){var s=this._getCoord(o.x),c=this._getCoord(o.y),d=this._grid,f=d[c]=d[c]||{},p=f[s]=f[s]||[],g,m;for(delete this._objectPoint[L.Util.stamp(i)],g=0,m=p.length;g<m;g++)if(p[g]===i)return p.splice(g,1),m===1&&delete f[s],!0},eachObject:function(i,o){var s,c,d,f,p,g,m,x=this._grid;for(s in x){p=x[s];for(c in p)for(g=p[c],d=0,f=g.length;d<f;d++)m=i.call(o,g[d]),m&&(d--,f--)}},getNearObject:function(i){var o=this._getCoord(i.x),s=this._getCoord(i.y),c,d,f,p,g,m,x,b,_=this._objectPoint,j=this._sqCellSize,A=null;for(c=s-1;c<=s+1;c++)if(p=this._grid[c],p){for(d=o-1;d<=o+1;d++)if(g=p[d],g)for(f=0,m=g.length;f<m;f++)x=g[f],b=this._sqDist(_[L.Util.stamp(x)],i),(b<j||b<=j&&A===null)&&(j=b,A=x)}return A},_getCoord:function(i){var o=Math.floor(i/this._cellSize);return isFinite(o)?o:i},_sqDist:function(i,o){var s=o.x-i.x,c=o.y-i.y;return s*s+c*c}},function(){L.QuickHull={getDistant:function(i,o){var s=o[1].lat-o[0].lat,c=o[0].lng-o[1].lng;return c*(i.lat-o[0].lat)+s*(i.lng-o[0].lng)},findMostDistantPointFromBaseLine:function(i,o){var s=0,c=null,d=[],f,p,g;for(f=o.length-1;f>=0;f--){if(p=o[f],g=this.getDistant(p,i),g>0)d.push(p);else continue;g>s&&(s=g,c=p)}return{maxPoint:c,newPoints:d}},buildConvexHull:function(i,o){var s=[],c=this.findMostDistantPointFromBaseLine(i,o);return c.maxPoint?(s=s.concat(this.buildConvexHull([i[0],c.maxPoint],c.newPoints)),s=s.concat(this.buildConvexHull([c.maxPoint,i[1]],c.newPoints)),s):[i[0]]},getConvexHull:function(i){var o=!1,s=!1,c=!1,d=!1,f=null,p=null,g=null,m=null,x=null,b=null,_;for(_=i.length-1;_>=0;_--){var j=i[_];(o===!1||j.lat>o)&&(f=j,o=j.lat),(s===!1||j.lat<s)&&(p=j,s=j.lat),(c===!1||j.lng>c)&&(g=j,c=j.lng),(d===!1||j.lng<d)&&(m=j,d=j.lng)}s!==o?(b=p,x=f):(b=m,x=g);var A=[].concat(this.buildConvexHull([b,x],i),this.buildConvexHull([x,b],i));return A}}}(),L.MarkerCluster.include({getConvexHull:function(){var i=this.getAllChildMarkers(),o=[],s,c;for(c=i.length-1;c>=0;c--)s=i[c].getLatLng(),o.push(s);return L.QuickHull.getConvexHull(o)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var i=this.getAllChildMarkers(null,!0),o=this._group,s=o._map,c=s.latLngToLayerPoint(this._latlng),d;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?d=this._group.options.spiderfyShapePositions(i.length,c):i.length>=this._circleSpiralSwitchover?d=this._generatePointsSpiral(i.length,c):(c.y+=10,d=this._generatePointsCircle(i.length,c)),this._animationSpiderfy(i,d)}},unspiderfy:function(i){this._group._inZoomAnimation||(this._animationUnspiderfy(i),this._group._spiderfied=null)},_generatePointsCircle:function(i,o){var s=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+i),c=s/this._2PI,d=this._2PI/i,f=[],p,g;for(c=Math.max(c,35),f.length=i,p=0;p<i;p++)g=this._circleStartAngle+p*d,f[p]=new L.Point(o.x+c*Math.cos(g),o.y+c*Math.sin(g))._round();return f},_generatePointsSpiral:function(i,o){var s=this._group.options.spiderfyDistanceMultiplier,c=s*this._spiralLengthStart,d=s*this._spiralFootSeparation,f=s*this._spiralLengthFactor*this._2PI,p=0,g=[],m;for(g.length=i,m=i;m>=0;m--)m<i&&(g[m]=new L.Point(o.x+c*Math.cos(p),o.y+c*Math.sin(p))._round()),p+=d/c+m*5e-4,c+=f/p;return g},_noanimationUnspiderfy:function(){var i=this._group,o=i._map,s=i._featureGroup,c=this.getAllChildMarkers(null,!0),d,f;for(i._ignoreMove=!0,this.setOpacity(1),f=c.length-1;f>=0;f--)d=c[f],s.removeLayer(d),d._preSpiderfyLatlng&&(d.setLatLng(d._preSpiderfyLatlng),delete d._preSpiderfyLatlng),d.setZIndexOffset&&d.setZIndexOffset(0),d._spiderLeg&&(o.removeLayer(d._spiderLeg),delete d._spiderLeg);i.fire("unspiderfied",{cluster:this,markers:c}),i._ignoreMove=!1,i._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(i,o){var s=this._group,c=s._map,d=s._featureGroup,f=this._group.options.spiderLegPolylineOptions,p,g,m,x;for(s._ignoreMove=!0,p=0;p<i.length;p++)x=c.layerPointToLatLng(o[p]),g=i[p],m=new L.Polyline([this._latlng,x],f),c.addLayer(m),g._spiderLeg=m,g._preSpiderfyLatlng=g._latlng,g.setLatLng(x),g.setZIndexOffset&&g.setZIndexOffset(1e6),d.addLayer(g);this.setOpacity(.3),s._ignoreMove=!1,s.fire("spiderfied",{cluster:this,markers:i})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(i,o){var s=this,c=this._group,d=c._map,f=c._featureGroup,p=this._latlng,g=d.latLngToLayerPoint(p),m=L.Path.SVG,x=L.extend({},this._group.options.spiderLegPolylineOptions),b=x.opacity,_,j,A,S,C,E;for(b===void 0&&(b=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),m?(x.opacity=0,x.className=(x.className||"")+" leaflet-cluster-spider-leg"):x.opacity=b,c._ignoreMove=!0,_=0;_<i.length;_++)j=i[_],E=d.layerPointToLatLng(o[_]),A=new L.Polyline([p,E],x),d.addLayer(A),j._spiderLeg=A,m&&(S=A._path,C=S.getTotalLength()+.1,S.style.strokeDasharray=C,S.style.strokeDashoffset=C),j.setZIndexOffset&&j.setZIndexOffset(1e6),j.clusterHide&&j.clusterHide(),f.addLayer(j),j._setPos&&j._setPos(g);for(c._forceLayout(),c._animationStart(),_=i.length-1;_>=0;_--)E=d.layerPointToLatLng(o[_]),j=i[_],j._preSpiderfyLatlng=j._latlng,j.setLatLng(E),j.clusterShow&&j.clusterShow(),m&&(A=j._spiderLeg,S=A._path,S.style.strokeDashoffset=0,A.setStyle({opacity:b}));this.setOpacity(.3),c._ignoreMove=!1,setTimeout(function(){c._animationEnd(),c.fire("spiderfied",{cluster:s,markers:i})},200)},_animationUnspiderfy:function(i){var o=this,s=this._group,c=s._map,d=s._featureGroup,f=i?c._latLngToNewLayerPoint(this._latlng,i.zoom,i.center):c.latLngToLayerPoint(this._latlng),p=this.getAllChildMarkers(null,!0),g=L.Path.SVG,m,x,b,_,j,A;for(s._ignoreMove=!0,s._animationStart(),this.setOpacity(1),x=p.length-1;x>=0;x--)m=p[x],m._preSpiderfyLatlng&&(m.closePopup(),m.setLatLng(m._preSpiderfyLatlng),delete m._preSpiderfyLatlng,A=!0,m._setPos&&(m._setPos(f),A=!1),m.clusterHide&&(m.clusterHide(),A=!1),A&&d.removeLayer(m),g&&(b=m._spiderLeg,_=b._path,j=_.getTotalLength()+.1,_.style.strokeDashoffset=j,b.setStyle({opacity:0})));s._ignoreMove=!1,setTimeout(function(){var S=0;for(x=p.length-1;x>=0;x--)m=p[x],m._spiderLeg&&S++;for(x=p.length-1;x>=0;x--)m=p[x],m._spiderLeg&&(m.clusterShow&&m.clusterShow(),m.setZIndexOffset&&m.setZIndexOffset(0),S>1&&d.removeLayer(m),c.removeLayer(m._spiderLeg),delete m._spiderLeg);s._animationEnd(),s.fire("unspiderfied",{cluster:o,markers:p})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(i){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(i))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(i){this._spiderfied&&this._spiderfied.unspiderfy(i)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(i){i._spiderLeg&&(this._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow(),i.setZIndexOffset&&i.setZIndexOffset(0),this._map.removeLayer(i._spiderLeg),delete i._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(i){return i?i instanceof L.MarkerClusterGroup?i=i._topClusterLevel.getAllChildMarkers():i instanceof L.LayerGroup?i=i._layers:i instanceof L.MarkerCluster?i=i.getAllChildMarkers():i instanceof L.Marker&&(i=[i]):i=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(i),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(i),this},_flagParentsIconsNeedUpdate:function(i){var o,s;for(o in i)for(s=i[o].__parent;s;)s._iconNeedsUpdate=!0,s=s.__parent},_refreshSingleMarkerModeMarkers:function(i){var o,s;for(o in i)s=i[o],this.hasLayer(s)&&s.setIcon(this._overrideMarkerIcon(s))}}),L.Marker.include({refreshIconOptions:function(i,o){var s=this.options.icon;return L.setOptions(s,i),this.setIcon(s),o&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),r.MarkerClusterGroup=n,r.MarkerCluster=a,Object.defineProperty(r,"__esModule",{value:!0})})})(X0,X0.exports);delete qe.Icon.Default.prototype._getIconUrl;qe.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png"});const cu=({markers:e=[],center:t,zoom:r=13,height:n="500px",singleMarker:a})=>{const[i,o]=y.useState(null),[s,c]=y.useState(null),d=y.useCallback(f=>{if(f!==null&&!i)try{const p=a&&a.latitude&&a.longitude?[a.latitude,a.longitude]:t,g=qe.map(f).setView(p,r);qe.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(g);const m=qe.markerClusterGroup({maxClusterRadius:50,spiderfyOnMaxZoom:!0,showCoverageOnHover:!1,zoomToBoundsOnClick:!0,chunkedLoading:!0,chunkProgress:(x,b,_)=>{x===b&&console.log(`All ${b} markers loaded in ${_}ms`)}});if(a){const x=a.latitude||a.position&&a.position[0],b=a.longitude||a.position&&a.position[1],_=a.name||a.title;if(x&&b){const j=qe.marker([x,b]);j.bindPopup(`
              <div style="min-width: 200px;">
                <h3 style="margin: 0 0 8px 0; font-size: 1.1rem; font-weight: bold;">
                  ${_}
                </h3>
                ${a.architect?`
                  <p style="margin: 0 0 4px 0; font-size: 0.9rem;">
                    <strong>建築家:</strong> ${a.architect}
                  </p>
                `:""}
                ${a.year?`
                  <p style="margin: 0 0 4px 0; font-size: 0.9rem;">
                    <strong>竣工年:</strong> ${a.year}年
                  </p>
                `:""}
                ${a.location?`
                  <p style="margin: 0 0 12px 0; font-size: 0.9rem; color: #666;">
                    ${a.location}
                  </p>
                `:""}
                <a 
                  href="/architecture/${a.id}"
                  style="
                    display: inline-block;
                    padding: 6px 12px;
                    background-color: #1976d2;
                    color: white;
                    text-decoration: none;
                    border-radius: 4px;
                    font-size: 0.875rem;
                  "
                  onclick="window.location.href='/architecture/${a.id}'; return false;"
                >
                  詳細を見る
                </a>
              </div>
            `),m.addLayer(j)}}if(e.forEach(x=>{const b=x.latitude||x.position&&x.position[0],_=x.longitude||x.position&&x.position[1],j=x.name||x.title;if(b&&_){const A=qe.marker([b,_]);A.bindPopup(`
              <div style="min-width: 250px;">
                <h3 style="margin: 0 0 8px 0; font-size: 1.1rem; font-weight: bold;">
                  ${j||"建築作品"}
                </h3>
                ${x.architect?`
                  <p style="margin: 0 0 4px 0; font-size: 0.9rem;">
                    <strong>建築家:</strong> ${x.architect}
                  </p>
                `:""}
                ${x.year?`
                  <p style="margin: 0 0 4px 0; font-size: 0.9rem;">
                    <strong>竣工年:</strong> ${x.year}年
                  </p>
                `:""}
                ${x.category?`
                  <p style="margin: 0 0 4px 0; font-size: 0.9rem;">
                    <strong>カテゴリ:</strong> ${x.category}
                  </p>
                `:""}
                ${x.tags?`
                  <p style="margin: 0 0 4px 0; font-size: 0.9rem;">
                    <strong>受賞:</strong> <span style="color: #ff6f00;">${x.tags}</span>
                  </p>
                `:""}
                ${x.location?`
                  <p style="margin: 0 0 12px 0; font-size: 0.9rem; color: #666;">
                    <strong>所在地:</strong> ${x.location}
                  </p>
                `:""}
                <a 
                  href="/architecture/${x.id}"
                  style="
                    display: inline-block;
                    padding: 6px 12px;
                    background-color: #1976d2;
                    color: white;
                    text-decoration: none;
                    border-radius: 4px;
                    font-size: 0.875rem;
                  "
                  onclick="window.location.href='/architecture/${x.id}'; return false;"
                >
                  詳細を見る
                </a>
              </div>
            `),m.addLayer(A)}}),e.length>0&&!a){const x=e.filter(b=>{const _=b.latitude||b.position&&b.position[0],j=b.longitude||b.position&&b.position[1];return _&&j});if(x.length>0){const b=qe.latLngBounds(x.map(_=>{const j=_.latitude||_.position&&_.position[0],A=_.longitude||_.position&&_.position[1];return[j,A]}));g.fitBounds(b,{padding:[50,50]})}}g.addLayer(m),c(m),o(g)}catch(p){console.error("Map initialization error:",p)}},[t,r,a,i]);return y.useEffect(()=>{if(i&&s&&e.length>0){s.clearLayers(),e.forEach(p=>{const g=p.latitude||p.position&&p.position[0],m=p.longitude||p.position&&p.position[1],x=p.name||p.title;if(g&&m){const b=qe.marker([g,m]);b.bindPopup(`
            <div style="min-width: 250px;">
              <h3 style="margin: 0 0 8px 0; font-size: 1.1rem; font-weight: bold;">
                ${x||"建築作品"}
              </h3>
              ${p.architect?`
                <p style="margin: 0 0 4px 0; font-size: 0.9rem;">
                  <strong>建築家:</strong> ${p.architect}
                </p>
              `:""}
              ${p.year?`
                <p style="margin: 0 0 4px 0; font-size: 0.9rem;">
                  <strong>竣工年:</strong> ${p.year}年
                </p>
              `:""}
              ${p.category?`
                <p style="margin: 0 0 4px 0; font-size: 0.9rem;">
                  <strong>カテゴリ:</strong> ${p.category}
                </p>
              `:""}
              ${p.tags?`
                <p style="margin: 0 0 4px 0; font-size: 0.9rem;">
                  <strong>受賞:</strong> <span style="color: #ff6f00;">${p.tags}</span>
                </p>
              `:""}
              ${p.location?`
                <p style="margin: 0 0 12px 0; font-size: 0.9rem; color: #666;">
                  <strong>所在地:</strong> ${p.location}
                </p>
              `:""}
              <a 
                href="/architecture/${p.id}"
                style="
                  display: inline-block;
                  padding: 6px 12px;
                  background-color: #1976d2;
                  color: white;
                  text-decoration: none;
                  border-radius: 4px;
                  font-size: 0.875rem;
                "
                onclick="window.location.href='/architecture/${p.id}'; return false;"
              >
                詳細を見る
              </a>
            </div>
          `),s.addLayer(b)}});const f=e.filter(p=>{const g=p.latitude||p.position&&p.position[0],m=p.longitude||p.position&&p.position[1];return g&&m});if(f.length>0){const p=qe.latLngBounds(f.map(g=>{const m=g.latitude||g.position&&g.position[0],x=g.longitude||g.position&&g.position[1];return[m,x]}));i.fitBounds(p,{padding:[50,50]})}}},[e,i,s]),y.useEffect(()=>()=>{s&&i&&i.removeLayer(s),i&&i.remove()},[i,s]),u.jsx("div",{ref:d,style:{height:n,width:"100%",marginBottom:"20px"},className:"leaflet-container"})},AN=()=>{const{id:e}=h1(),[t,r]=y.useState(null),[n,a]=y.useState(!0),[i,o]=y.useState(null),s=os();if(y.useEffect(()=>{(async()=>{a(!0);try{const b=await M1(parseInt(e));if(!b)throw new Error("建築作品が見つかりませんでした");const _={id:b.id,name:b.title,location:b.address,completedYear:b.year||0,latitude:b.latitude,longitude:b.longitude,architect:b.architect?{id:0,name:b.architect}:null,city:b.prefecture||"",bigCategory:b.big_category||b.category,category:b.category,description:b.description,tag:b.tags||"",shinkenchikuUrl:b.shinkenchiku_url||"",contractor:b.contractor,structuralDesigner:b.structural_designer,landscapeDesigner:b.landscape_designer};r(_)}catch(b){console.error("Error fetching work:",b),o(b.message)}finally{a(!1)}})()},[e]),n)return u.jsx(D,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:u.jsx(In,{})});if(i)return u.jsxs(hr,{children:[u.jsxs(R,{variant:"h5",color:"error",sx:{textAlign:"center",my:4},children:["エラーが発生しました: ",i]}),u.jsx(Pe,{variant:"contained",component:Mt,to:"/architecture",startIcon:u.jsx(Js,{}),children:"建築作品一覧に戻る"})]});if(!t)return u.jsxs(hr,{children:[u.jsx(R,{variant:"h5",sx:{textAlign:"center",my:4},children:"建築作品が見つかりませんでした"}),u.jsx(Pe,{variant:"contained",component:Mt,to:"/architecture",startIcon:u.jsx(Js,{}),children:"建築作品一覧に戻る"})]});const c=t.tag?t.tag.split(",").filter(x=>x.trim()!==""&&!x.includes("の追加建築")):[],d=c.find(x=>x.includes("新建築")),f=d?d.replace("新建築",""):"",p=x=>{console.log(`タグがクリックされました: ${x}`),s(`/architecture?search=tag:${encodeURIComponent(x)}`)},g=(x,b)=>{const _=`${x} ${b?.name||""} 建築`;return`https://www.google.com/search?q=${encodeURIComponent(_)}&tbm=isch`},m=x=>`https://ja.wikipedia.org/wiki/Special:Search?search=${encodeURIComponent(x)}`;return u.jsxs(hr,{maxWidth:"lg",sx:{py:4},children:[u.jsx(Pe,{variant:"outlined",component:Mt,to:"/architecture",startIcon:u.jsx(Js,{}),sx:{mb:3},children:"建築作品一覧に戻る"}),u.jsxs(ke,{sx:{p:3,mb:4},children:[u.jsxs(D,{sx:{mb:2},children:[u.jsx(R,{variant:"h4",component:"h1",gutterBottom:!0,children:t.name||"無題"}),t.location&&u.jsxs(R,{variant:"subtitle1",color:"text.secondary",gutterBottom:!0,children:[u.jsx(Pi,{fontSize:"small",sx:{verticalAlign:"middle",mr:.5}}),t.location]}),u.jsxs(D,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:[t.completedYear!==0&&u.jsx($e,{icon:u.jsx(ep,{}),label:`${t.completedYear}年`,variant:"outlined",size:"small",onClick:()=>s(`/architecture?year=${t.completedYear}`),clickable:!0}),t.city&&u.jsx($e,{icon:u.jsx(Pi,{}),label:t.city,variant:"outlined",size:"small",onClick:()=>s(`/architecture?prefecture=${encodeURIComponent(t.city)}`),clickable:!0}),t.architect&&t.architect.name&&u.jsx($e,{icon:u.jsx(Vn,{}),label:t.architect.name,component:Mt,to:`/architects/${t.architect.id}`,clickable:!0,color:"primary",size:"small"}),t.bigCategory&&u.jsx($e,{icon:u.jsx(Ua,{}),label:t.bigCategory,variant:"outlined",size:"small",onClick:()=>s(`/architecture?category=${encodeURIComponent(t.bigCategory)}`),clickable:!0}),t.category&&t.category!==t.bigCategory&&u.jsx($e,{icon:u.jsx(Ua,{}),label:t.category,variant:"outlined",size:"small",onClick:()=>s(`/architecture?category=${encodeURIComponent(t.category)}`),clickable:!0})]}),c.length>0&&u.jsx(D,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:c.map((x,b)=>u.jsx($e,{icon:u.jsx(Wa,{}),label:x,onClick:()=>p(x),clickable:!0,color:"secondary",variant:"outlined",size:"small"},b))})]}),u.jsx(un,{sx:{my:3}}),u.jsxs(D,{sx:{mb:3,display:"flex",flexDirection:"row",gap:1},children:[t.shinkenchikuUrl&&u.jsx(_t,{title:"新建築データで見る",children:u.jsxs(Pe,{variant:"contained",href:t.shinkenchikuUrl,target:"_blank",rel:"noopener noreferrer",size:"small",sx:{backgroundColor:"#003366",color:"#ffffff","&:hover":{backgroundColor:"#002244"}},children:[u.jsx(D,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mr:.5},children:u.jsx("img",{src:"https://data.shinkenchiku.online/favicon.ico",alt:"新建築データ",style:{height:"16px",width:"auto",marginRight:"4px"}})}),f&&u.jsx(R,{variant:"caption",children:f})]})}),u.jsx(_t,{title:"Google画像検索",children:u.jsx(Pe,{href:g(t.name,t.architect),target:"_blank",rel:"noopener noreferrer",startIcon:u.jsx(vM,{}),variant:"contained",size:"small",sx:{backgroundColor:"#4285F4",color:"#ffffff","&:hover":{backgroundColor:"#3367D6"}},children:"画像"})}),u.jsx(_t,{title:"Wikipediaで検索",children:u.jsx(Pe,{href:m(t.name),target:"_blank",rel:"noopener noreferrer",startIcon:u.jsx(yM,{}),variant:"contained",size:"small",sx:{backgroundColor:"#333333",color:"#ffffff","&:hover":{backgroundColor:"#222222"}},children:"Wikipedia"})})]}),t.description&&u.jsxs(D,{sx:{mt:3},children:[u.jsx(R,{variant:"h6",gutterBottom:!0,children:"概要"}),u.jsx(R,{variant:"body1",paragraph:!0,sx:{whiteSpace:"pre-line"},children:t.description})]}),(t.contractor||t.structuralDesigner||t.landscapeDesigner)&&u.jsxs(D,{sx:{mt:3},children:[u.jsx(R,{variant:"h6",gutterBottom:!0,children:"建築関係者"}),u.jsxs(ue,{container:!0,spacing:2,children:[t.contractor&&u.jsxs(ue,{item:!0,xs:12,sm:4,children:[u.jsx(R,{variant:"subtitle2",color:"text.secondary",children:"施工"}),u.jsx(R,{variant:"body2",children:t.contractor})]}),t.structuralDesigner&&u.jsxs(ue,{item:!0,xs:12,sm:4,children:[u.jsx(R,{variant:"subtitle2",color:"text.secondary",children:"構造設計"}),u.jsx(R,{variant:"body2",children:t.structuralDesigner})]}),t.landscapeDesigner&&u.jsxs(ue,{item:!0,xs:12,sm:4,children:[u.jsx(R,{variant:"subtitle2",color:"text.secondary",children:"ランドスケープ"}),u.jsx(R,{variant:"body2",children:t.landscapeDesigner})]})]})]}),t.latitude&&t.longitude&&u.jsxs(D,{sx:{mt:3},children:[u.jsx(R,{variant:"h6",gutterBottom:!0,children:"位置情報"}),u.jsx(D,{sx:{height:"400px",width:"100%",mt:2,border:"1px solid #eee",borderRadius:"4px",overflow:"hidden"},children:u.jsx(cu,{singleMarker:{id:t.id||0,latitude:t.latitude,longitude:t.longitude,name:t.name,location:t.location},center:[t.latitude,t.longitude],zoom:15})})]})]})]})},Ai="/archi-site",mp={from:"jsonconfig",configUrl:`${Ai}/db/archimap.sqlite3.json`},Ch=`${Ai}/db/archimap.sqlite3`;console.log("🔧 Environment debug info:");console.log("  - import.meta.env.PROD:",!0);console.log("  - BASE_PATH:",Ai);console.log("  - Database config URL:",mp.configUrl);let cn=null,_r=null,vp=!1,Ns=null,J0=!0;var Cn=(e=>(e.NOT_INITIALIZED="not_initialized",e.INITIALIZING="initializing",e.READY="ready",e.ERROR="error",e))(Cn||{});const yp=()=>cn||_r?"ready":vp?"initializing":"not_initialized",Q0=async()=>{try{const e=Date.now(),t=await fetch(`${Ai}/images/shinkenchiku-favicon.ico`,{method:"HEAD",cache:"no-cache"}),n=Date.now()-e;return n<100?"fast":n<500?"slow":"very-slow"}catch{return"very-slow"}};async function SN(){console.log("🚀 Attempting chunked database loading with sql.js-httpvfs...");try{const{createDbWorker:e}=await Qu(async()=>{const{createDbWorker:s}=await import("./database-C_Jrbyj2.js").then(c=>c.i);return{createDbWorker:s}},__vite__mapDeps([2,1]));console.log("🗄️ Testing database config file accessibility..."),console.log(`🔗 Config URL: ${mp.configUrl}`);const t=await fetch(mp.configUrl,{method:"HEAD"});if(!t.ok)throw new Error(`Database config not accessible: ${t.status} ${t.statusText}`);console.log("✅ Database config is accessible");const r=new URL(`${Ai}/sqlite.worker.js`,window.location.origin),n=new URL(`${Ai}/sql-wasm.wasm`,window.location.origin);console.log("🔧 Worker URL:",r.toString()),console.log("🔧 WASM URL:",n.toString());const a=[{from:"inline",config:{serverMode:"full",url:`${Ai}/db/archimap.sqlite3`,requestChunkSize:65536},fileLength:12730368}];console.log("🔧 Using inline config:",JSON.stringify(a,null,2)),cn=await e(a,r.toString(),n.toString()),console.log("✅ sql.js-httpvfs worker initialized successfully");const i=await cn.db.exec("SELECT sqlite_version()");i&&i.length>0&&console.log(`🔍 SQLite バージョン: ${i[0].values[0][0]}`);const o=await cn.db.exec("SELECT name FROM sqlite_master WHERE type='table'");if(o&&o.length>0){console.log(`📋 利用可能なテーブル数: ${o[0].values.length}`),console.log(`📋 テーブル一覧: ${o[0].values.map(s=>s[0]).join(", ")}`);try{const s=await cn.db.exec("SELECT COUNT(*) FROM ZCDARCHITECTURE");s&&s.length>0&&console.log(`🏢 建築データ件数: ${s[0].values[0][0]} 件 (チャンク読み込み)`)}catch{console.log("📋 Architecture table structure checking...")}}return cn}catch(e){throw console.warn("⚠️ Chunked loading failed, will try direct loading:",e.message),e}}async function CN(){console.log("🚀 Fallback: Using direct sql.js loading...");try{console.log("📦 Importing sql.js...");const e=await Qu(()=>import("./database-C_Jrbyj2.js").then(f=>f.s),__vite__mapDeps([2,1]));console.log("📦 sql.js imported:",typeof e,Object.keys(e));const t=e.default||e;if(typeof t!="function"){if(e.initSqlJs&&typeof e.initSqlJs=="function"){console.log("📦 Found initSqlJs as named export");const f=await e.initSqlJs({locateFile:p=>p==="sql-wasm.wasm"?`${Ai}/sql-wasm.wasm`:p});return _r=new f.Database,_r}throw console.error("❌ Unable to find initSqlJs function in:",e),new Error("sql.js import failed - no initialization function found")}console.log("📦 initSqlJs function found:",typeof t),console.log("🗄️ Testing database file accessibility..."),console.log(`🔗 Database URL: ${Ch}`);const r=await fetch(Ch,{method:"HEAD"});if(!r.ok)throw new Error(`Database file not accessible: ${r.status} ${r.statusText}`);const n=r.headers.get("content-length");if(n){const f=parseInt(n)/1048576;console.log(`📁 Database file size: ${f.toFixed(2)} MB`)}console.log("✅ Database file is accessible");const a=`${Ai}/sql-wasm.wasm`,i=await t({locateFile:f=>f==="sql-wasm.wasm"?a:f});console.log("✅ SQL.js initialized successfully"),console.log("📥 Downloading database file...");const o=await fetch(Ch);if(!o.ok)throw new Error(`Failed to download database: ${o.status} ${o.statusText}`);const s=await o.arrayBuffer();console.log(`✅ Database downloaded: ${(s.byteLength/1024/1024).toFixed(2)} MB (uncompressed)`),_r=new i.Database(new Uint8Array(s)),console.log("✅ Database created successfully");const c=_r.exec("SELECT sqlite_version()");c.length>0&&console.log(`🔍 SQLite バージョン: ${c[0].values[0][0]}`);const d=_r.exec("SELECT name FROM sqlite_master WHERE type='table'");if(d.length>0){console.log(`📋 利用可能なテーブル数: ${d[0].values.length}`),console.log(`📋 テーブル一覧: ${d[0].values.map(f=>f[0]).join(", ")}`);try{const f=_r.exec("SELECT COUNT(*) FROM ZCDARCHITECTURE");f.length>0&&console.log(`🏢 建築データ件数: ${f[0].values[0][0]} 件 (直接読み込み)`)}catch{console.log("📋 Architecture table structure checking...")}}return _r}catch(e){throw console.error("❌ Direct loading also failed:",e.message),e}}const Eg=async()=>cn||_r?cn||_r:Ns||(vp=!0,Ns=(async()=>{try{console.log("🚀 データベース初期化を開始（チャンク読み込み優先、直接読み込みフォールバック）...");const e=await Q0();if(console.log(`🌐 Connection speed detected: ${e}`),J0)try{const r=await SN();return console.log("🎉 チャンク読み込みが成功しました！"),r}catch(r){console.warn("⚠️ チャンク読み込みに失敗、直接読み込みにフォールバック:",r.message),J0=!1}const t=await CN();return console.log("🎉 直接読み込みが成功しました！"),t}catch(e){if(console.error("❌ データベース初期化エラー:",e),cn=null,_r=null,e instanceof Error){const t=await Q0().catch(()=>"unknown");let r=e.message;e.message.includes("timeout")?t==="very-slow"?r+=`

📡 接続速度が非常に遅いため、データベースの初期化に時間がかかっています。WiFiやより高速な接続をお試しください。`:t==="slow"&&(r+=`

📡 接続速度が遅いため、データベースの初期化に時間がかかっています。`):e.message.includes("fetch")||e.message.includes("network")?r+=`

🌐 ネットワーク接続に問題があります。接続状態を確認してください。`:(e.message.includes("GZIP")||e.message.includes("compression"))&&(r+=`

📦 GZIP圧縮の問題が検出されました。データベースファイルの設定を確認中...`);const n=new Error(r);throw n.name=e.name,n}throw e}finally{vp=!1,Ns=null}})(),Ns),N1=async(e,t=[])=>{try{if(!cn&&!_r&&await Eg(),cn)return await cn.db.exec(e,t);if(_r)return _r.exec(e,t);throw new Error("データベースが初期化されていません")}catch(r){throw console.error("クエリ実行エラー:",r),r}},B1=e=>{if(!e||e.length===0)return[];const{columns:t,values:r}=e[0];return r.map(n=>{const a={};return t.forEach((i,o)=>{a[i]=n[o]}),a})},ed=async(e,t=[])=>{const r=await N1(e,t);return B1(r)[0]},pa=async(e,t=[])=>{const r=await N1(e,t);return B1(r)},F1=async e=>ed("SELECT * FROM ZCDARCHITECT WHERE ZAR_ID = ?",[e]),z1=async(e=1,t=12,r="",n=[],a="ZAR_NAME",i="asc",o={})=>{const s=(e-1)*t;let c="1=1";const d=[];r&&(c+=" AND (ZAR_NAME LIKE ? OR ZAR_KANA LIKE ? OR ZAR_NAMEENG LIKE ?)",d.push(`%${r}%`,`%${r}%`,`%${r}%`)),o.nationality&&(c+=" AND ZAR_NATIONALITY = ?",d.push(o.nationality)),o.category&&(c+=" AND ZAR_CATEGORY = ?",d.push(o.category)),o.school&&(c+=" AND ZAR_SCHOOL = ?",d.push(o.school)),o.birthYearFrom&&(c+=" AND ZAR_BIRTHYEAR >= ?",d.push(o.birthYearFrom)),o.birthYearTo&&(c+=" AND ZAR_BIRTHYEAR <= ?",d.push(o.birthYearTo)),o.deathYear&&(c+=" AND ZAR_DEATHYEAR = ?",d.push(o.deathYear));let f="";n&&n.length>0&&(f=`
      INNER JOIN ZCDARCHITECT_TAG ON ZCDARCHITECT.ZAR_ID = ZCDARCHITECT_TAG.ARCHITECT_ID
      INNER JOIN ZCDTAG ON ZCDARCHITECT_TAG.TAG_ID = ZCDTAG.TAG_ID
    `,c+=" AND ZCDTAG.TAG_NAME IN (",c+=n.map(()=>"?").join(","),c+=")",d.push(...n));const p=`
    SELECT COUNT(DISTINCT ZCDARCHITECT.ZAR_ID) as total
    FROM ZCDARCHITECT
    ${f}
    WHERE ${c}
  `,g=`
    SELECT DISTINCT ZCDARCHITECT.*
    FROM ZCDARCHITECT
    ${f}
    WHERE ${c}
    ORDER BY ${a} ${i==="desc"?"DESC":"ASC"}
    LIMIT ? OFFSET ?
  `,m=[...d,t,s];try{const b=(await ed(p,d))?.total||0;return{results:await pa(g,m),total:b,page:e,limit:t,totalPages:Math.ceil(b/t)}}catch(x){throw console.error("建築家データ取得エラー:",x),x}},U1=async()=>pa(`
    SELECT TAG_ID, TAG_NAME, COUNT(ARCHITECT_ID) as TAG_COUNT
    FROM ZCDTAG
    LEFT JOIN ZCDARCHITECT_TAG ON ZCDTAG.TAG_ID = ZCDARCHITECT_TAG.TAG_ID
    GROUP BY ZCDTAG.TAG_ID, ZCDTAG.TAG_NAME
    ORDER BY TAG_COUNT DESC, TAG_NAME
  `),ON=async e=>ed("SELECT * FROM ZCDARCHITECTURE WHERE Z_PK = ?",[e]),PN=async e=>pa(`SELECT * FROM ZCDARCHITECTURE 
     WHERE ZAR_ARCHITECT_NUM = ? 
     ORDER BY ZAR_YEAR DESC`,[e]),EN=async(e=1,t=12,r="",n="year_desc",a="asc",i={})=>{const o=(e-1)*t;let s="1=1";const c=[];r&&(s+=" AND (ZAR_TITLE LIKE ? OR ZAR_ADDRESS LIKE ? OR ZAR_DESCRIPTION LIKE ? OR ZAR_ARCHITECT LIKE ?)",c.push(`%${r}%`,`%${r}%`,`%${r}%`,`%${r}%`)),i.architect&&(s+=" AND (ZAR_ARCHITECT LIKE ? OR ZAR_ARCHITECT_ENG LIKE ?)",c.push(`%${i.architect}%`,`%${i.architect}%`)),i.location&&(s+=" AND ZAR_ADDRESS LIKE ?",c.push(`%${i.location}%`)),i.prefecture&&(s+=" AND ZAR_PREFECTURE = ?",c.push(i.prefecture)),i.yearFrom&&(s+=" AND ZAR_YEAR >= ?",c.push(i.yearFrom)),i.yearTo&&(s+=" AND ZAR_YEAR <= ?",c.push(i.yearTo)),i.tags&&i.tags.length>0&&(s+=" AND ZAR_TAG LIKE ?",c.push(`%${i.tags.join("%")}%`));const f={year_desc:"ZAR_YEAR DESC",year_asc:"ZAR_YEAR ASC",name_asc:"ZAR_TITLE ASC",name_desc:"ZAR_TITLE DESC",architect_asc:"ZAR_ARCHITECT ASC",architect_desc:"ZAR_ARCHITECT DESC"}[n]||"ZAR_YEAR DESC",p=`
    SELECT COUNT(*) as total
    FROM ZCDARCHITECTURE
    WHERE ${s}
  `,g=`
    SELECT *
    FROM ZCDARCHITECTURE
    WHERE ${s}
    ORDER BY ${f}
    LIMIT ? OFFSET ?
  `,m=[...c,t,o];try{const b=(await ed(p,c))?.total||0;return{results:await pa(g,m),total:b,page:e,limit:t,totalPages:Math.ceil(b/t)}}catch(x){throw console.error("建築作品データ取得エラー:",x),x}},TN=async()=>pa(`
    SELECT TAG_ID, TAG_NAME, COUNT(ARCHITECTURE_ID) as TAG_COUNT
    FROM ZCDTAG
    LEFT JOIN ZCDARCHITECTURE_TAG ON ZCDTAG.TAG_ID = ZCDARCHITECTURE_TAG.TAG_ID
    GROUP BY ZCDTAG.TAG_ID, ZCDTAG.TAG_NAME
    ORDER BY TAG_COUNT DESC, TAG_NAME
  `),LN=async()=>pa(`
    SELECT ZAR_PREFECTURE as prefecture, COUNT(*) as count
    FROM ZCDARCHITECTURE
    WHERE ZAR_PREFECTURE IS NOT NULL AND ZAR_PREFECTURE != ''
    GROUP BY ZAR_PREFECTURE
    ORDER BY count DESC
  `),kN=async(e,t={})=>{let r=`
    ZAR_LATITUDE BETWEEN ? AND ?
    AND ZAR_LONGITUDE BETWEEN ? AND ?
    AND ZAR_LATITUDE IS NOT NULL
    AND ZAR_LONGITUDE IS NOT NULL
  `;const n=[e.south,e.north,e.west,e.east];t.searchTerm&&(r+=" AND (ZAR_TITLE LIKE ? OR ZAR_ADDRESS LIKE ? OR ZAR_ARCHITECT LIKE ?)",n.push(`%${t.searchTerm}%`,`%${t.searchTerm}%`,`%${t.searchTerm}%`)),t.architect&&(r+=" AND (ZAR_ARCHITECT LIKE ? OR ZAR_ARCHITECT_ENG LIKE ?)",n.push(`%${t.architect}%`,`%${t.architect}%`)),t.yearFrom&&(r+=" AND ZAR_YEAR >= ?",n.push(t.yearFrom)),t.yearTo&&(r+=" AND ZAR_YEAR <= ?",n.push(t.yearTo)),t.tags&&t.tags.length>0&&(r+=" AND ZAR_TAG LIKE ?",n.push(`%${t.tags.join("%")}%`));const a=`
    SELECT *
    FROM ZCDARCHITECTURE
    WHERE ${r}
    LIMIT 500
  `;return pa(a,n)},IN=()=>{console.log("ArchitectsPage コンポーネントがレンダリングされました");const[e,t]=y.useState([]),[r,n]=y.useState(!0),[a,i]=y.useState(0),[o,s]=y.useState(0),[c,d]=y.useState(1),[f,p]=y.useState(""),[g,m]=y.useState([]),[x,b]=y.useState([]),[_,j]=y.useState([]),[A,S]=y.useState("name"),[C,E]=y.useState("asc"),[k,I]=y.useState(null),[U,V]=y.useState(""),[re,te]=y.useState({}),[J,ne]=y.useState(""),[fe,Q]=y.useState(""),[G,B]=y.useState(""),[X,ae]=y.useState(""),[me,$]=y.useState(""),[N,Y]=y.useState(""),se=os(),pe=Xu(),Ce=new URLSearchParams(pe.search);y.useEffect(()=>{console.log("tagMenuAnchorEl 状態変更:",!!k)},[k]),y.useEffect(()=>{console.log("タグ読み込みのuseEffectが実行されました"),(async()=>{try{console.log("建築家タグ取得開始");const Oe=await U1();console.log("取得した建築家タグ:",Oe),j(["国籍","カテゴリー","学校","生年","没年"])}catch(Oe){console.error("タグ取得エラー:",Oe)}})()},[]),y.useEffect(()=>{console.log("建築家データ読み込みのuseEffectが実行されました",pe.search),(async()=>{n(!0);try{const Oe=parseInt(Ce.get("page")||"1"),ze=Ce.get("search")||"",gt=Ce.get("tags")?Ce.get("tags").split(","):[],Ze=Ce.get("sortBy")||"name",st=Ce.get("sortOrder")||"asc",er=Ce.get("nationality")||"",oo=Ce.get("category")||"",Dn=Ce.get("school")||"",ba=Ce.get("birthYearFrom")||"",yn=Ce.get("birthYearTo")||"",Hr=Ce.get("deathYear")||"";console.log("URLから読み取ったパラメータ:",{page:Oe,search:ze,tags:gt,sort:Ze,order:st,nat:er,cat:oo,sch:Dn,birthFrom:ba,birthTo:yn,death:Hr}),d(Oe),p(ze),m(gt),S(Ze),E(st),ne(er),Q(oo),B(Dn),ae(ba),$(yn),Y(Hr),console.log("建築家データ取得開始:",{page:Oe,search:ze,tags:gt,sort:Ze,order:st,nat:er,cat:oo,sch:Dn,birthFrom:ba,birthTo:yn,death:Hr});const Ui=await z1(Oe,10,ze,gt,Ze,st,er,oo,Dn,ba?parseInt(ba):0,yn?parseInt(yn):0,Hr?parseInt(Hr):0);console.log("取得した建築家データ:",Ui),t(Ui.items),i(Ui.totalPages),s(Ui.total)}catch(Oe){console.error("建築家データ取得エラー:",Oe)}finally{n(!1)}})()},[pe.search]);const ot=async le=>{console.log(`${le}の年度取得開始`);let Oe="";if(le==="国籍"?Oe="SELECT DISTINCT ZAT_NATIONALITY as value FROM ZCDARCHITECT WHERE ZAT_NATIONALITY != '' ORDER BY ZAT_NATIONALITY":le==="カテゴリー"?Oe="SELECT DISTINCT ZAT_CATEGORY as value FROM ZCDARCHITECT WHERE ZAT_CATEGORY != '' ORDER BY ZAT_CATEGORY":le==="学校"?Oe="SELECT DISTINCT ZAT_SCHOOL as value FROM ZCDARCHITECT WHERE ZAT_SCHOOL != '' ORDER BY ZAT_SCHOOL":le==="生年"?Oe="SELECT DISTINCT ZAT_BIRTHYEAR as value FROM ZCDARCHITECT WHERE ZAT_BIRTHYEAR > 0 ORDER BY ZAT_BIRTHYEAR DESC":le==="没年"&&(Oe="SELECT DISTINCT ZAT_DEATHYEAR as value FROM ZCDARCHITECT WHERE ZAT_DEATHYEAR > 0 ORDER BY ZAT_DEATHYEAR DESC"),!Oe)return[];try{return(await pa(Oe)).map(gt=>String(gt.value)).filter(Boolean)}catch(ze){return console.error(`${le}の値取得エラー:`,ze),[]}},Ye=async(le,Oe)=>{if(console.log(`${Oe}の年度メニューを開く`,le.currentTarget),I(le.currentTarget),V(Oe),!re[Oe])try{const ze=await ot(Oe);console.log(`取得した${Oe}の年度:`,ze),te(gt=>({...gt,[Oe]:ze}))}catch(ze){console.error(`${Oe}の年度取得エラー:`,ze)}},F=()=>{console.log("年度メニューを閉じる"),I(null),V("")},ge=le=>{console.log(`年度選択: ${le} (タグ: ${U})`),U==="国籍"?ne(le):U==="カテゴリー"?Q(le):U==="学校"?B(le):U==="生年"?ae(le):U==="没年"&&Y(le),F(),be()},je=(le,Oe)=>{console.log("タグ選択変更:",Oe),m(Oe);const ze=g.filter(Ze=>!Oe.includes(Ze));for(const Ze of ze)Ze==="国籍"?ne(""):Ze==="カテゴリー"?Q(""):Ze==="学校"?B(""):Ze==="生年"?(ae(""),$("")):Ze==="没年"&&Y("");const gt=Oe.filter(Ze=>!g.includes(Ze));gt.length>0&&gt.forEach(async Ze=>{if(!re[Ze])try{const st=await ot(Ze);te(er=>({...er,[Ze]:st}))}catch(st){console.error(`${Ze}の年度取得エラー:`,st)}}),be()},ie=(le,Oe)=>{console.log(`ページ変更: ${Oe}`),d(Oe);const ze=new URLSearchParams(pe.search);ze.set("page",Oe.toString()),se({search:ze.toString()})},K=()=>{console.log(`検索実行: ${f}`),be()},q=()=>{console.log("検索条件をクリア"),p(""),m([]),b([]),ne(""),Q(""),B(""),ae(""),$(""),Y(""),d(1);const le=new URLSearchParams;A!=="name"&&le.set("sortBy",A),C!=="asc"&&le.set("sortOrder",C),se({search:le.toString()})},be=()=>{console.log("URLと検索を更新");const le=new URLSearchParams;c>1&&le.set("page",c.toString()),f&&le.set("search",f),g.length>0&&le.set("tags",g.join(",")),A!=="name"&&le.set("sortBy",A),C!=="asc"&&le.set("sortOrder",C),J&&le.set("nationality",J),fe&&le.set("category",fe),G&&le.set("school",G),X&&le.set("birthYearFrom",X),me&&le.set("birthYearTo",me),N&&le.set("deathYear",N),console.log("新しいURLパラメータ:",le.toString()),se({search:le.toString()})},We=()=>{const le=[];return J&&le.push({label:`国籍: ${J}`,onDelete:()=>{ne(""),be()}}),X&&le.push({label:`生年: ${X}`,onDelete:()=>{ae(""),be()}}),N&&le.push({label:`没年: ${N}`,onDelete:()=>{Y(""),be()}}),fe&&le.push({label:`カテゴリー: ${fe}`,onDelete:()=>{Q(""),be()}}),G&&le.push({label:`学校: ${G}`,onDelete:()=>{B(""),be()}}),le.length===0&&!f&&g.length===0?null:u.jsx(D,{sx:{mb:3},children:u.jsx(kn,{severity:"info",action:u.jsx(Pe,{color:"inherit",size:"small",onClick:q,children:"クリア"}),children:le.length>0?`フィルター: ${le.map(Oe=>Oe.label).join(", ")}`:f?`「${f}」で検索中`:g.length>0?`タグ「${g.join(", ")}」で絞り込み中`:""})})};return u.jsxs(hr,{maxWidth:"lg",sx:{py:4},children:[u.jsx(R,{variant:"h4",component:"h1",gutterBottom:!0,children:"建築家一覧"}),u.jsxs(ke,{sx:{p:3,mb:4},children:[u.jsxs(D,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2,mb:3},children:[u.jsx(Oi,{fullWidth:!0,label:"建築家名、国籍、カテゴリーで検索",value:f,onChange:le=>p(le.target.value),onKeyPress:le=>le.key==="Enter"&&K(),InputProps:{startAdornment:u.jsx(Qh,{position:"start",children:u.jsx(as,{})})}}),u.jsx(Pe,{variant:"contained",onClick:K,sx:{minWidth:"120px"},children:"検索"})]}),u.jsxs(D,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:2,mb:3,alignItems:"flex-start"},children:[u.jsx(ru,{multiple:!0,id:"tags-selector",options:_,value:g,onChange:je,fullWidth:!0,renderInput:le=>u.jsx(Oi,{...le,variant:"outlined",label:"タグで絞り込み",placeholder:"タグを選択"}),renderTags:(le,Oe)=>le.map((ze,gt)=>{const Ze=!!(re[ze]&&re[ze].length>0);let st="";return ze==="国籍"?st=J:ze==="カテゴリー"?st=fe:ze==="学校"?st=G:ze==="生年"?st=X:ze==="没年"&&(st=N),u.jsx($e,{label:u.jsxs(D,{sx:{display:"flex",alignItems:"center"},children:[ze,st&&u.jsx(R,{variant:"caption",sx:{ml:.5,fontWeight:"bold",backgroundColor:"rgba(0, 0, 0, 0.08)",borderRadius:"4px",px:.5,py:.2},children:st}),Ze&&u.jsx(xM,{fontSize:"small"})]}),...Oe({index:gt}),color:st?"primary":"default",variant:"outlined",onClick:er=>{er.stopPropagation(),Ye(er,ze)},onDelete:er=>{Oe({index:gt}).onDelete(er)},sx:{maxWidth:"100%","& .MuiChip-label":{overflow:"hidden",whiteSpace:"nowrap"}}},ze)})}),u.jsxs(Gn,{sx:{minWidth:200},children:[u.jsx(Yn,{id:"sort-select-label",children:"並び替え"}),u.jsxs(qn,{labelId:"sort-select-label",value:`${A}_${C}`,label:"並び替え",onChange:le=>{const[Oe,ze]=le.target.value.split("_");S(Oe),E(ze),be()},children:[u.jsx(Qe,{value:"name_asc",children:"名前 (昇順)"}),u.jsx(Qe,{value:"name_desc",children:"名前 (降順)"}),u.jsx(Qe,{value:"birthYear_asc",children:"生年 (昇順)"}),u.jsx(Qe,{value:"birthYear_desc",children:"生年 (降順)"}),u.jsx(Qe,{value:"nationality_asc",children:"国籍 (昇順)"}),u.jsx(Qe,{value:"nationality_desc",children:"国籍 (降順)"})]})]})]}),u.jsx(bM,{open:!!k,anchorEl:k,onClose:F,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:u.jsxs(D,{sx:{p:2,width:300,maxHeight:400,overflow:"auto"},children:[u.jsx(R,{variant:"subtitle1",gutterBottom:!0,children:U==="国籍"?"国籍を選択":U==="カテゴリー"?"カテゴリーを選択":U==="学校"?"学校を選択":U==="生年"?"生年を選択":U==="没年"?"没年を選択":"タグ値を選択"}),u.jsxs(D,{sx:{display:"flex",flexWrap:"wrap",gap:1,mt:1},children:[u.jsx($e,{label:"指定なし",onClick:()=>ge(""),variant:"outlined",size:"small",sx:{mb:1}}),re[U]?.map(le=>u.jsx($e,{label:le,onClick:()=>ge(le),variant:"outlined",size:"small",color:U==="国籍"&&le===J||U==="カテゴリー"&&le===fe||U==="学校"&&le===G||U==="生年"&&le===X||U==="没年"&&le===N?"primary":"default",sx:{overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"}},le))]})]})}),u.jsx(We,{}),u.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[u.jsxs(R,{variant:"body2",color:"text.secondary",children:[o,"人の建築家"]}),a>1&&u.jsx(nu,{count:a,page:c,onChange:ie,color:"primary",size:"small"})]})]}),r?u.jsx(D,{sx:{display:"flex",justifyContent:"center",py:4},children:u.jsx(In,{})}):u.jsxs(u.Fragment,{children:[e.length===0?u.jsxs(D,{sx:{textAlign:"center",py:4},children:[u.jsx(R,{variant:"h6",children:"建築家が見つかりませんでした"}),u.jsx(R,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"検索条件を変更してお試しください"})]}):u.jsx(ue,{container:!0,spacing:3,children:e.map(le=>u.jsx(ue,{item:!0,xs:12,sm:6,md:4,children:u.jsx(St,{sx:{height:"100%",display:"flex",flexDirection:"column",transition:"transform 0.2s","&:hover":{transform:"scale(1.02)"}},children:u.jsx(Vu,{component:Mt,to:`/architects/${le.id}`,children:u.jsxs(Ct,{children:[u.jsx(R,{variant:"h6",component:"div",gutterBottom:!0,children:le.name}),u.jsxs(R,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:[le.nationality," • ",le.birthYear||"?","-",le.deathYear||"現在"]}),u.jsx(D,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mt:1},children:le.tags&&le.tags.map(Oe=>u.jsx($e,{label:Oe,size:"small",variant:"outlined",sx:{pointerEvents:"none"}},Oe))})]})})})},le.id))}),a>1&&u.jsx(D,{sx:{display:"flex",justifyContent:"center",mt:4},children:u.jsx(nu,{count:a,page:c,onChange:ie,color:"primary"})})]})]})},W1=y.memo(({architectures:e,compact:t=!1})=>!e||e.length===0?u.jsx(R,{variant:"body2",color:"text.secondary",children:"登録されている作品はありません。"}):u.jsx(ue,{container:!0,spacing:t?2:3,children:e.map(r=>u.jsx(ue,{item:!0,xs:12,sm:6,md:t?6:4,children:u.jsx(St,{sx:{height:"100%",display:"flex",flexDirection:"column",transition:"transform 0.2s","&:hover":{transform:"scale(1.02)"}},children:u.jsx(Vu,{component:Mt,to:`/architecture/${r.id}`,sx:{flexGrow:1},children:u.jsxs(Ct,{children:[u.jsx(R,{gutterBottom:!0,variant:"h6",component:"h2",children:r.name}),r.completedYear>0&&u.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:1},children:[u.jsx(_M,{fontSize:"small",sx:{mr:1,color:"text.secondary"}}),u.jsxs(R,{variant:"body2",color:"text.secondary",children:[r.completedYear,"年"]})]}),(r.city||r.location)&&u.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:1},children:[u.jsx(Pi,{fontSize:"small",sx:{mr:1,color:"text.secondary"}}),u.jsxs(R,{variant:"body2",color:"text.secondary",children:[r.city?r.city:"",r.city&&r.location?" / ":"",r.location?r.location:""]})]}),r.tag&&u.jsx(D,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mt:1},children:r.tag.split(",").filter(n=>n.trim()!==""&&!n.includes("の追加建築")).map((n,a)=>u.jsx($e,{label:n.trim(),size:"small",color:"secondary",variant:"outlined",sx:{height:"20px",fontSize:"0.65rem"}},a))})]})})})},r.id))}));W1.displayName="ArchitectureList";const RN=()=>u.jsx(D,{component:"span",sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:24,height:24},children:u.jsx(R,{variant:"caption",component:"span",sx:{fontFamily:"serif",fontWeight:"bold",fontSize:"16px"},children:"W"})}),MN=()=>{const{id:e}=h1(),[t,r]=y.useState(null),[n,a]=y.useState(!0),[i,o]=y.useState(null),[s,c]=y.useState([]),d=os();y.useEffect(()=>{e&&(async()=>{a(!0);try{const S=await F1(parseInt(e));if(!S){o("建築家情報が見つかりませんでした。"),a(!1);return}r(S);const C=[];if(S.teacher1){const E={name:S.teacher1,id:null};try{E.id=await f(S.teacher1)}catch(k){console.error("教師情報の取得に失敗:",k)}C.push(E)}if(S.teacher2){const E={name:S.teacher2,id:null};try{E.id=await f(S.teacher2)}catch(k){console.error("教師情報の取得に失敗:",k)}C.push(E)}if(S.teacher3){const E={name:S.teacher3,id:null};try{E.id=await f(S.teacher3)}catch(k){console.error("教師情報の取得に失敗:",k)}C.push(E)}c(C)}catch(S){console.error("建築家データ取得エラー:",S),o("建築家情報の読み込み中にエラーが発生しました。")}finally{a(!1)}})()},[e]);const f=async A=>null,p=()=>{if(!t)return null;const A=[];if(t.school){let S=t.school;t.faculty&&(S+=` ${t.faculty}`),A.push(S)}return t.schoolAbroad&&A.push(t.schoolAbroad),A.length>0?A.join("、"):null},g=()=>!s||s.length===0?null:s.map((A,S)=>u.jsxs("span",{children:[S>0&&"、",A.id?u.jsx(EM,{component:Mt,to:`/architects/${A.id}`,color:"inherit",underline:"hover",children:A.name}):A.name]},S)),m=(A,S)=>{if(!S)return;let C="";switch(A){case"nationality":C=`nationality=${encodeURIComponent(S)}`;break;case"born":C=`birthyear_from=${encodeURIComponent(S)}&birthyear_to=${encodeURIComponent(S)}`;break;case"died":C=`deathyear=${encodeURIComponent(S)}`;break;case"category":C=`category=${encodeURIComponent(S)}`;break;default:return}d(`/architects?${C}`)},x=(A,S)=>{const C=`${A} ${S||""} 建築家`;return`https://www.google.com/search?q=${encodeURIComponent(C)}`},b=A=>`https://ja.wikipedia.org/wiki/Special:Search?search=${encodeURIComponent(A)}`;if(n)return u.jsx(hr,{maxWidth:"lg",sx:{py:4},children:u.jsx(D,{sx:{display:"flex",justifyContent:"center",py:8},children:u.jsx(In,{})})});if(i||!t)return u.jsx(hr,{maxWidth:"lg",sx:{py:4},children:u.jsxs(ke,{sx:{p:3},children:[u.jsx(R,{variant:"h5",color:"error",gutterBottom:!0,children:"エラー"}),u.jsx(R,{paragraph:!0,children:i||"建築家情報が見つかりませんでした。"}),u.jsx(Pe,{variant:"outlined",startIcon:u.jsx(Js,{}),onClick:()=>d(-1),children:"戻る"})]})});const _=new Set;t.works&&t.works.forEach(A=>{A.tag&&A.tag.split(",").forEach(C=>{const E=C.trim();E&&!E.includes("の追加建築")&&_.add(E)})});const j=[];if(t.nationality&&j.push(`nationality:${t.nationality}`),t.birthYear>0){const A=Math.floor(t.birthYear/10)*10;j.push(`born:${A}s`)}return t.deathYear>0&&j.push(`died:${t.deathYear}`),t.category&&j.push(`category:${t.category}`),t.school&&j.push(`school:${t.school}`),u.jsxs(hr,{maxWidth:"lg",sx:{py:4},children:[u.jsx(Pe,{variant:"outlined",component:Mt,to:"/architects",startIcon:u.jsx(Js,{}),sx:{mb:3},children:"建築家一覧に戻る"}),u.jsxs(ke,{sx:{p:3,mb:4},children:[u.jsx(R,{variant:"h4",component:"h1",gutterBottom:!0,children:t.name||"不明"}),u.jsxs(D,{sx:{display:"flex",flexWrap:"wrap",gap:2,my:3},children:[t.nationality&&u.jsx($e,{icon:u.jsx(wM,{}),label:`nationality:${t.nationality}`,variant:"outlined",onClick:()=>m("nationality",t.nationality),clickable:!0}),t.birthYear>0&&u.jsx($e,{icon:u.jsx(jM,{}),label:`born:${Math.floor(t.birthYear/10)*10}s`,variant:"outlined",onClick:()=>m("born",Math.floor(t.birthYear/10)*10),clickable:!0}),t.deathYear>0&&u.jsx($e,{icon:u.jsx(AM,{}),label:`died:${t.deathYear}`,variant:"outlined",onClick:()=>m("died",t.deathYear),clickable:!0}),t.category&&u.jsx($e,{icon:u.jsx(Ua,{}),label:`category:${t.category}`,variant:"outlined",onClick:()=>m("category",t.category),clickable:!0}),t.office&&u.jsx($e,{icon:u.jsx(xg,{}),label:t.office,variant:"outlined"})]}),u.jsx(un,{sx:{my:3}}),u.jsxs(D,{sx:{mb:3,display:"flex",flexDirection:"row",gap:1},children:[t.website&&u.jsx(_t,{title:"公式ホームページ",children:u.jsx(Pe,{href:t.website.startsWith("http")?t.website:`http://${t.website}`,target:"_blank",rel:"noopener noreferrer",startIcon:u.jsx(SM,{}),variant:"contained",size:"small",sx:{backgroundColor:"#4caf50",color:"#ffffff","&:hover":{backgroundColor:"#388e3c"}},children:"ホームページ"})}),u.jsx(_t,{title:"Google検索",children:u.jsx(Pe,{href:x(t.name,t.nationality),target:"_blank",rel:"noopener noreferrer",startIcon:u.jsx(as,{}),variant:"contained",size:"small",sx:{backgroundColor:"#4285F4",color:"#ffffff","&:hover":{backgroundColor:"#3367D6"}},children:"検索"})}),u.jsx(_t,{title:"Wikipediaで検索",children:u.jsx(Pe,{href:b(t.name),target:"_blank",rel:"noopener noreferrer",startIcon:u.jsx(RN,{}),variant:"contained",size:"small",sx:{backgroundColor:"#333333",color:"#ffffff","&:hover":{backgroundColor:"#222222"}},children:"Wikipedia"})})]}),u.jsx(CM,{component:ke,variant:"outlined",sx:{mb:4},children:u.jsx(OM,{children:u.jsxs(PM,{children:[t.nationality&&u.jsxs(Ji,{children:[u.jsx(nr,{component:"th",sx:{width:"30%",bgcolor:"rgba(0, 0, 0, 0.03)"},children:u.jsx(R,{variant:"subtitle2",children:"国籍"})}),u.jsx(nr,{children:t.nationality})]}),(t.birthYear>0||t.deathYear>0)&&u.jsxs(Ji,{children:[u.jsx(nr,{component:"th",sx:{width:"30%",bgcolor:"rgba(0, 0, 0, 0.03)"},children:u.jsx(R,{variant:"subtitle2",children:"生年 - 没年"})}),u.jsxs(nr,{children:[t.birthYear>0?`${t.birthYear}年`:"不明",t.deathYear>0?` - ${t.deathYear}年`:""]})]}),t.office&&u.jsxs(Ji,{children:[u.jsx(nr,{component:"th",sx:{width:"30%",bgcolor:"rgba(0, 0, 0, 0.03)"},children:u.jsx(R,{variant:"subtitle2",children:"事務所"})}),u.jsx(nr,{children:t.office})]}),t.prefecture&&u.jsxs(Ji,{children:[u.jsx(nr,{component:"th",sx:{width:"30%",bgcolor:"rgba(0, 0, 0, 0.03)"},children:u.jsx(R,{variant:"subtitle2",children:"拠点"})}),u.jsx(nr,{children:t.prefecture})]}),t.nameEn&&u.jsxs(Ji,{children:[u.jsx(nr,{component:"th",sx:{width:"30%",bgcolor:"rgba(0, 0, 0, 0.03)"},children:u.jsx(R,{variant:"subtitle2",children:"英語表記"})}),u.jsx(nr,{children:t.nameEn})]}),(t.school||t.faculty||t.schoolAbroad)&&u.jsxs(Ji,{children:[u.jsx(nr,{component:"th",sx:{width:"30%",bgcolor:"rgba(0, 0, 0, 0.03)"},children:u.jsx(R,{variant:"subtitle2",children:"教育背景"})}),u.jsx(nr,{children:u.jsxs(D,{sx:{display:"flex",alignItems:"center"},children:[u.jsx(tp,{sx:{mr:1,fontSize:"1rem",color:"text.secondary"}}),u.jsx(R,{variant:"body2",children:p()})]})})]}),(t.teacher1||t.teacher2||t.teacher3)&&u.jsxs(Ji,{children:[u.jsx(nr,{component:"th",sx:{width:"30%",bgcolor:"rgba(0, 0, 0, 0.03)"},children:u.jsx(R,{variant:"subtitle2",children:"師事した建築家"})}),u.jsx(nr,{children:u.jsx(D,{sx:{display:"flex",flexDirection:"column",gap:1},children:g()})})]}),t.category&&u.jsxs(Ji,{children:[u.jsx(nr,{component:"th",sx:{width:"30%",bgcolor:"rgba(0, 0, 0, 0.03)"},children:u.jsx(R,{variant:"subtitle2",children:"カテゴリー"})}),u.jsx(nr,{children:t.category})]})]})})}),_.size>0&&u.jsxs(D,{sx:{mb:4},children:[u.jsx(R,{variant:"h6",gutterBottom:!0,children:"受賞歴・選定"}),u.jsx(D,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:Array.from(_).map((A,S)=>u.jsx($e,{icon:u.jsx(Wa,{}),label:String(A),onClick:()=>m("category",A),clickable:!0,color:"secondary",variant:"outlined",size:"small"},S))})]}),t.bio&&u.jsxs(D,{sx:{mb:4},children:[u.jsx(R,{variant:"h6",gutterBottom:!0,children:"経歴"}),u.jsx(R,{variant:"body1",sx:{whiteSpace:"pre-line"},children:t.bio})]}),t.works&&t.works.length>0&&u.jsxs(u.Fragment,{children:[u.jsxs(D,{sx:{mb:4},children:[u.jsx(R,{variant:"h6",gutterBottom:!0,children:"作品マップ"}),t.works.some(A=>A.latitude&&A.longitude)?u.jsx(D,{sx:{height:"400px",width:"100%",mb:3,border:"1px solid #eee",borderRadius:"4px",overflow:"hidden"},children:u.jsx(cu,{markers:t.works.filter(A=>A.latitude&&A.longitude),zoom:5,center:[t.works[0].latitude||35.6762,t.works[0].longitude||139.6503]})}):u.jsx(R,{variant:"body2",color:"text.secondary",children:"位置情報が登録されている作品がありません。"})]}),u.jsxs(D,{sx:{mb:4},children:[u.jsx(R,{variant:"h6",gutterBottom:!0,children:"代表作品"}),u.jsx(W1,{architectures:t.works})]})]})]})]})},DN=()=>{const[e,t]=y.useState(!0),[r,n]=y.useState([]),[a,i]=y.useState([]),[o,s]=y.useState({yearFrom:"",yearTo:""}),[c,d]=y.useState(!1),[f,p]=y.useState(null),[g,m]=y.useState(!1);y.useEffect(()=>{b()},[]);const x=C=>{if(!C||C.length===0)return{from:0,to:0};const E=C.filter(ne=>ne.completedYear>0);if(E.length===0)return{from:0,to:0};const k=E.map(ne=>ne.completedYear).sort((ne,fe)=>ne-fe),I=k[0],U=k[k.length-1],V=Math.min(100,Math.floor((U-I)/2)),re=Math.floor(Math.random()*(k.length-Math.floor(k.length/4))),te=k[re],J=Math.min(te+V,U);return{from:te,to:J}},b=async()=>{t(!0);try{const E=(await Pg(1,1e3)).results.filter(k=>k.latitude&&k.longitude).map(k=>({id:k.id,name:k.title,architectName:k.architect,completedYear:k.year||0,city:k.prefecture,location:k.address||"",latitude:k.latitude,longitude:k.longitude}));if(i(E),!o.yearFrom&&!o.yearTo){const k=x(E);s({yearFrom:k.from.toString(),yearTo:k.to.toString()});const I=E.filter(U=>U.completedYear>=k.from&&U.completedYear<=k.to);n(I)}else{let k=E;o.yearFrom&&(k=k.filter(I=>I.completedYear>=parseInt(o.yearFrom))),o.yearTo&&(k=k.filter(I=>I.completedYear<=parseInt(o.yearTo))),n(k)}}catch(C){console.error("Error fetching works:",C)}finally{t(!1)}},_=C=>{const{name:E,value:k}=C.target;s({...o,[E]:k})},j=()=>{t(!0);let C=a;o.yearFrom&&(C=C.filter(E=>E.completedYear>=parseInt(o.yearFrom))),o.yearTo&&(C=C.filter(E=>E.completedYear<=parseInt(o.yearTo))),n(C),t(!1)},A=()=>{s({yearFrom:"",yearTo:""}),n(a)},S=C=>{p(C),m(!0)};return u.jsxs(hr,{maxWidth:"lg",sx:{py:4},children:[u.jsx(R,{variant:"h4",component:"h1",gutterBottom:!0,children:"建築地図"}),u.jsxs(ke,{sx:{p:3,mb:4},children:[u.jsx(Pe,{startIcon:u.jsx(i1,{}),onClick:()=>d(!c),sx:{mb:2},children:c?"フィルターを閉じる":"フィルターを表示"}),c&&u.jsx(D,{sx:{mb:2},children:u.jsxs(ue,{container:!0,spacing:2,children:[u.jsx(ue,{item:!0,xs:12,sm:6,md:4,children:u.jsx(Oi,{fullWidth:!0,label:"年代（から）",name:"yearFrom",type:"number",value:o.yearFrom,onChange:_})}),u.jsx(ue,{item:!0,xs:12,sm:6,md:4,children:u.jsx(Oi,{fullWidth:!0,label:"年代（まで）",name:"yearTo",type:"number",value:o.yearTo,onChange:_})}),u.jsx(ue,{item:!0,xs:12,md:4,children:u.jsxs(D,{sx:{display:"flex",gap:1,height:"100%"},children:[u.jsx(Pe,{variant:"contained",color:"primary",onClick:j,sx:{flexGrow:1},children:"フィルター適用"}),u.jsx(Pe,{variant:"outlined",onClick:A,sx:{flexGrow:1},children:"クリア"})]})})]})}),u.jsxs(D,{sx:{display:"flex",alignItems:"center",mb:2},children:[u.jsx(_i,{sx:{mr:1}}),u.jsxs(R,{variant:"body2",color:"text.secondary",children:["マップ上に表示された作品: ",r.length,"件 ",o.yearFrom&&o.yearTo&&`(${o.yearFrom}年〜${o.yearTo}年)`]})]})]}),e?u.jsx(D,{sx:{display:"flex",justifyContent:"center",py:4},children:u.jsx(In,{})}):u.jsxs(D,{sx:{height:600,bgcolor:"grey.200",position:"relative",borderRadius:1},children:[u.jsx(cu,{markers:r,height:"600px",zoom:5,center:[35.6762,139.6503]}),u.jsxs(D,{sx:{position:"absolute",top:16,right:16,width:320,maxHeight:568,overflow:"auto",bgcolor:"background.paper",borderRadius:1,boxShadow:3,p:2,zIndex:1e3},children:[u.jsx(R,{variant:"h6",gutterBottom:!0,children:"作品リスト"}),r.length===0?u.jsx(R,{variant:"body2",children:"条件に一致する作品はありません"}):u.jsx(Wn,{dense:!0,children:r.map(C=>u.jsxs(Ft.Fragment,{children:[u.jsx(dn,{onClick:()=>S(C),sx:{cursor:"pointer",bgcolor:f&&f.id===C.id?"action.selected":"transparent","&:hover":{bgcolor:"action.hover"}},children:u.jsx(Ar,{primary:C.name,secondary:u.jsxs(u.Fragment,{children:[C.architectName&&u.jsxs("span",{children:[C.architectName,u.jsx("br",{})]}),C.completedYear>0&&`${C.completedYear}年 | `,C.city||""]})})}),u.jsx(un,{component:"li"})]},C.id))})]})]}),u.jsx(r1,{anchor:"right",open:g,onClose:()=>m(!1),children:f&&u.jsxs(D,{sx:{width:350,p:3},children:[u.jsx(R,{variant:"h5",gutterBottom:!0,children:f.name}),u.jsxs(D,{sx:{mb:3},children:[f.architectName&&u.jsx(R,{variant:"subtitle1",color:"text.secondary",children:f.architectName}),u.jsxs(R,{variant:"body2",children:[f.completedYear>0&&`${f.completedYear}年`,f.city&&` | ${f.city}`]}),f.location&&u.jsx(R,{variant:"body2",sx:{mt:1},children:f.location})]}),u.jsx(D,{sx:{mb:3,height:200},children:u.jsx(cu,{singleMarker:f,height:"200px",zoom:15,center:[f.latitude,f.longitude]})}),u.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[u.jsx(Pe,{variant:"outlined",onClick:()=>m(!1),children:"閉じる"}),u.jsx(Pe,{variant:"contained",component:Mt,to:`/architecture/${f.id}`,children:"詳細を見る"})]})]})})]})},Qr=({children:e,className:t=""})=>u.jsx("div",{className:`rounded-lg border bg-white shadow-sm ${t}`,children:e}),jn=({children:e,className:t=""})=>u.jsx("div",{className:`p-6 pb-0 ${t}`,children:e}),An=({children:e,className:t=""})=>u.jsx("h3",{className:`text-lg font-medium leading-none tracking-tight ${t}`,children:e}),en=({children:e,className:t=""})=>u.jsx("div",{className:`p-6 pt-0 ${t}`,children:e}),Tg=y.createContext(void 0),$N=({defaultValue:e,value:t,onValueChange:r,children:n,className:a=""})=>{const[i,o]=y.useState(e||""),s=t!==void 0?t:i,c=d=>{t===void 0&&o(d),r?.(d)};return u.jsx(Tg.Provider,{value:{value:s,onValueChange:c},children:u.jsx("div",{className:a,children:n})})},NN=({children:e,className:t=""})=>u.jsx("div",{className:`flex space-x-1 rounded-lg bg-gray-100 p-1 ${t}`,children:e}),Co=({value:e,children:t,className:r=""})=>{const n=y.useContext(Tg);if(!n)throw new Error("TabsTrigger must be used within a Tabs component");const{value:a,onValueChange:i}=n,o=a===e;return u.jsx("button",{className:`
        px-3 py-2 text-sm font-medium transition-all
        ${o?"bg-white text-black shadow-sm":"text-gray-600 hover:text-black hover:bg-white/50"}
        rounded-md
        ${r}
      `,onClick:()=>i(e),type:"button",children:t})},Oo=({value:e,children:t,className:r=""})=>{const n=y.useContext(Tg);if(!n)throw new Error("TabsContent must be used within a Tabs component");const{value:a}=n;return a!==e?null:u.jsx("div",{className:`mt-6 ${r}`,children:t})},Sn=({children:e,variant:t="default",className:r="",onClick:n})=>{const a="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium transition-colors",i={default:"bg-blue-100 text-blue-800 hover:bg-blue-200",secondary:"bg-gray-100 text-gray-800 hover:bg-gray-200",outline:"border border-gray-300 text-gray-700 hover:bg-gray-50",destructive:"bg-red-100 text-red-800 hover:bg-red-200"},o=n?"cursor-pointer":"";return u.jsx("span",{className:`${a} ${i[t]} ${o} ${r}`,onClick:n,children:e})};var td={},H1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(H1);var Lg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Lg);var kg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(kg);var rd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],a=r.length;if(a===0)return n;let i=0,o="",s="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<a;){const d=r[i];s?d==="\\"&&i+1<a?(i++,o+=r[i]):d===s?s="":o+=d:c?d==='"'||d==="'"?s=d:d==="]"?(c=!1,n.push(o),o=""):o+=d:d==="["?(c=!0,o&&(n.push(o),o="")):d==="."?o&&(n.push(o),o=""):o+=d,i++}return o&&n.push(o),n}e.toPath=t})(rd);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H1,r=Lg,n=kg,a=rd;function i(s,c,d){if(s==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const f=s[c];return f===void 0?r.isDeepKey(c)?i(s,a.toPath(c),d):d:f}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const f=s[c];return f===void 0?d:f}default:{if(Array.isArray(c))return o(s,c,d);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const f=s[c];return f===void 0?d:f}}}function o(s,c,d){if(c.length===0)return d;let f=s;for(let p=0;p<c.length;p++){if(f==null||t.isUnsafeProperty(c[p]))return d;f=f[c[p]]}return f===void 0?d:f}e.get=i})(td);var BN=td.get;const ua=Or(BN);var zt=e=>e===0?0:e>0?1:-1,Cr=e=>typeof e=="number"&&e!=+e,Da=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ye=e=>(typeof e=="number"||e instanceof Number)&&!Cr(e),Qn=e=>ye(e)||typeof e=="string",FN=0,da=e=>{var t=++FN;return"".concat(e||"").concat(t)},pr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ye(t)&&typeof t!="string")return n;var i;if(Da(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Cr(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},K1=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},Xt=(e,t)=>ye(e)&&ye(t)?r=>e+r*(t-e):()=>t;function Po(e,t,r){return ye(e)&&ye(t)?e+r*(t-e):t}function Z1(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):ua(n,t))===r)}var tt=e=>e===null||typeof e>"u",wl=e=>tt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),zN=["viewBox","children"],UN=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],eb=["points","pathLength"],Oh={svg:zN,polygon:eb,polyline:eb},Ig=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Rg=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(y.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Ig.includes(a)&&(n[a]=i=>r[a](r,i))}),n},WN=(e,t,r)=>n=>(e(t,r,n),null),eo=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];Ig.includes(a)&&typeof i=="function"&&(n||(n={}),n[a]=WN(i,t,r))}),n},tb=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",rb=null,Ph=null,G1=e=>{if(e===rb&&Array.isArray(Ph))return Ph;var t=[];return y.Children.forEach(e,r=>{tt(r)||(TM.isFragment(r)?t=t.concat(G1(r.props.children)):t.push(r))}),Ph=t,rb=e,t};function jl(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>tb(a)):n=[tb(t)],G1(e).forEach(a=>{var i=ua(a,"type.displayName")||ua(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var nd=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,HN=(e,t,r,n)=>{var a,i=(a=n&&Oh?.[n])!==null&&a!==void 0?a:[];return t.startsWith("data-")||typeof e!="function"&&(n&&i.includes(t)||UN.includes(t))||r&&Ig.includes(t)},Se=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(y.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(i=>{var o;HN((o=n)===null||o===void 0?void 0:o[i],i,t,r)&&(a[i]=n[i])}),a},KN=["children","width","height","viewBox","className","style","title","desc"];function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xp.apply(null,arguments)}function ZN(e,t){if(e==null)return{};var r,n,a=GN(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function GN(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Mg=y.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:s,title:c,desc:d}=e,f=ZN(e,KN),p=i||{width:n,height:a,x:0,y:0},g=De("recharts-surface",o);return y.createElement("svg",xp({},Se(f,!0,"svg"),{className:g,width:n,height:a,style:s,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),y.createElement("title",null,c),y.createElement("desc",null,d),r)}),YN=["children","className"];function bp(){return bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bp.apply(null,arguments)}function qN(e,t){if(e==null)return{};var r,n,a=VN(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function VN(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ve=y.forwardRef((e,t)=>{var{children:r,className:n}=e,a=qN(e,YN),i=De("recharts-layer",n);return y.createElement("g",bp({className:i},Se(a,!0),{ref:t}),r)}),Y1=y.createContext(null),XN=()=>y.useContext(Y1);function dt(e){return function(){return e}}const q1=Math.cos,uu=Math.sin,Rn=Math.sqrt,du=Math.PI,id=2*du,_p=Math.PI,wp=2*_p,ka=1e-6,JN=wp-ka;function V1(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function QN(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return V1;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class eB{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?V1:QN(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,c=n-t,d=a-r,f=o-t,p=s-r,g=f*f+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>ka)if(!(Math.abs(p*c-d*f)>ka)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,x=a-s,b=c*c+d*d,_=m*m+x*x,j=Math.sqrt(b),A=Math.sqrt(g),S=i*Math.tan((_p-Math.acos((b+g-_)/(2*j*A)))/2),C=S/A,E=S/j;Math.abs(C-1)>ka&&this._append`L${t+C*f},${r+C*p}`,this._append`A${i},${i},0,0,${+(p*m>f*x)},${this._x1=t+E*c},${this._y1=r+E*d}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),c=n*Math.sin(a),d=t+s,f=r+c,p=1^o,g=o?a-i:i-a;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>ka||Math.abs(this._y1-f)>ka)&&this._append`L${d},${f}`,n&&(g<0&&(g=g%wp+wp),g>JN?this._append`A${n},${n},0,1,${p},${t-s},${r-c}A${n},${n},0,1,${p},${this._x1=d},${this._y1=f}`:g>ka&&this._append`A${n},${n},0,${+(g>=_p)},${p},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Dg(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new eB(t)}function $g(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function X1(e){this._context=e}X1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ad(e){return new X1(e)}function J1(e){return e[0]}function Q1(e){return e[1]}function ej(e,t){var r=dt(!0),n=null,a=ad,i=null,o=Dg(s);e=typeof e=="function"?e:e===void 0?J1:dt(e),t=typeof t=="function"?t:t===void 0?Q1:dt(t);function s(c){var d,f=(c=$g(c)).length,p,g=!1,m;for(n==null&&(i=a(m=o())),d=0;d<=f;++d)!(d<f&&r(p=c[d],d,c))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(p,d,c),+t(p,d,c));if(m)return i=null,m+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:dt(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:dt(+c),s):t},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:dt(!!c),s):r},s.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),s):a},s.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),s):n},s}function Mc(e,t,r){var n=null,a=dt(!0),i=null,o=ad,s=null,c=Dg(d);e=typeof e=="function"?e:e===void 0?J1:dt(+e),t=typeof t=="function"?t:dt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Q1:dt(+r);function d(p){var g,m,x,b=(p=$g(p)).length,_,j=!1,A,S=new Array(b),C=new Array(b);for(i==null&&(s=o(A=c())),g=0;g<=b;++g){if(!(g<b&&a(_=p[g],g,p))===j)if(j=!j)m=g,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),x=g-1;x>=m;--x)s.point(S[x],C[x]);s.lineEnd(),s.areaEnd()}j&&(S[g]=+e(_,g,p),C[g]=+t(_,g,p),s.point(n?+n(_,g,p):S[g],r?+r(_,g,p):C[g]))}if(A)return s=null,A+""||null}function f(){return ej().defined(a).curve(o).context(i)}return d.x=function(p){return arguments.length?(e=typeof p=="function"?p:dt(+p),n=null,d):e},d.x0=function(p){return arguments.length?(e=typeof p=="function"?p:dt(+p),d):e},d.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:dt(+p),d):n},d.y=function(p){return arguments.length?(t=typeof p=="function"?p:dt(+p),r=null,d):t},d.y0=function(p){return arguments.length?(t=typeof p=="function"?p:dt(+p),d):t},d.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:dt(+p),d):r},d.lineX0=d.lineY0=function(){return f().x(e).y(t)},d.lineY1=function(){return f().x(e).y(r)},d.lineX1=function(){return f().x(n).y(t)},d.defined=function(p){return arguments.length?(a=typeof p=="function"?p:dt(!!p),d):a},d.curve=function(p){return arguments.length?(o=p,i!=null&&(s=o(i)),d):o},d.context=function(p){return arguments.length?(p==null?i=s=null:s=o(i=p),d):i},d}class tj{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function tB(e){return new tj(e,!0)}function rB(e){return new tj(e,!1)}const Ng={draw(e,t){const r=Rn(t/du);e.moveTo(r,0),e.arc(0,0,r,0,id)}},nB={draw(e,t){const r=Rn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},rj=Rn(1/3),iB=rj*2,aB={draw(e,t){const r=Rn(t/iB),n=r*rj;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},oB={draw(e,t){const r=Rn(t),n=-r/2;e.rect(n,n,r,r)}},sB=.8908130915292852,nj=uu(du/10)/uu(7*du/10),lB=uu(id/10)*nj,cB=-q1(id/10)*nj,uB={draw(e,t){const r=Rn(t*sB),n=lB*r,a=cB*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=id*i/5,s=q1(o),c=uu(o);e.lineTo(c*r,-s*r),e.lineTo(s*n-c*a,c*n+s*a)}e.closePath()}},Eh=Rn(3),dB={draw(e,t){const r=-Rn(t/(Eh*3));e.moveTo(0,r*2),e.lineTo(-Eh*r,-r),e.lineTo(Eh*r,-r),e.closePath()}},tn=-.5,rn=Rn(3)/2,jp=1/Rn(12),fB=(jp/2+1)*3,hB={draw(e,t){const r=Rn(t/fB),n=r/2,a=r*jp,i=n,o=r*jp+r,s=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(s,c),e.lineTo(tn*n-rn*a,rn*n+tn*a),e.lineTo(tn*i-rn*o,rn*i+tn*o),e.lineTo(tn*s-rn*c,rn*s+tn*c),e.lineTo(tn*n+rn*a,tn*a-rn*n),e.lineTo(tn*i+rn*o,tn*o-rn*i),e.lineTo(tn*s+rn*c,tn*c-rn*s),e.closePath()}};function pB(e,t){let r=null,n=Dg(a);e=typeof e=="function"?e:dt(e||Ng),t=typeof t=="function"?t:dt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:dt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:dt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function fu(){}function hu(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function ij(e){this._context=e}ij.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gB(e){return new ij(e)}function aj(e){this._context=e}aj.prototype={areaStart:fu,areaEnd:fu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:hu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mB(e){return new aj(e)}function oj(e){this._context=e}oj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:hu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vB(e){return new oj(e)}function sj(e){this._context=e}sj.prototype={areaStart:fu,areaEnd:fu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function yB(e){return new sj(e)}function nb(e){return e<0?-1:1}function ib(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(nb(i)+nb(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function ab(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Th(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function pu(e){this._context=e}pu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Th(this,this._t0,ab(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Th(this,ab(this,r=ib(this,e,t)),r);break;default:Th(this,this._t0,r=ib(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function lj(e){this._context=new cj(e)}(lj.prototype=Object.create(pu.prototype)).point=function(e,t){pu.prototype.point.call(this,t,e)};function cj(e){this._context=e}cj.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function xB(e){return new pu(e)}function bB(e){return new lj(e)}function uj(e){this._context=e}uj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=ob(e),a=ob(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ob(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function _B(e){return new uj(e)}function od(e,t){this._context=e,this._t=t}od.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function wB(e){return new od(e,.5)}function jB(e){return new od(e,0)}function AB(e){return new od(e,1)}function Zo(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,s=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<s;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Ap(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function SB(e,t){return e[t]}function CB(e){const t=[];return t.key=e,t}function OB(){var e=dt([]),t=Ap,r=Zo,n=SB;function a(i){var o=Array.from(e.apply(this,arguments),CB),s,c=o.length,d=-1,f;for(const p of i)for(s=0,++d;s<c;++s)(o[s][d]=[0,+n(p,o[s].key,d,i)]).data=p;for(s=0,f=$g(t(o));s<c;++s)o[f[s]].index=s;return r(o,f),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:dt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:dt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Ap:typeof i=="function"?i:dt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Zo,a):r},a}function PB(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Zo(e,t)}}function EB(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,s=0;o<a;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Zo(e,t)}}function TB(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var s=0,c=0,d=0;s<o;++s){for(var f=e[t[s]],p=f[n][1]||0,g=f[n-1][1]||0,m=(p-g)/2,x=0;x<s;++x){var b=e[t[x]],_=b[n][1]||0,j=b[n-1][1]||0;m+=_-j}c+=p,d+=m*p}a[n-1][1]+=a[n-1][0]=r,c&&(r-=d/c)}a[n-1][1]+=a[n-1][0]=r,Zo(e,t)}}var LB=["type","size","sizeType"];function Sp(){return Sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sp.apply(null,arguments)}function sb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sb(Object(r),!0).forEach(function(n){kB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kB(e,t,r){return(t=IB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IB(e){var t=RB(e,"string");return typeof t=="symbol"?t:t+""}function RB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MB(e,t){if(e==null)return{};var r,n,a=DB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function DB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dj={symbolCircle:Ng,symbolCross:nB,symbolDiamond:aB,symbolSquare:oB,symbolStar:uB,symbolTriangle:dB,symbolWye:hB},$B=Math.PI/180,NB=e=>{var t="symbol".concat(wl(e));return dj[t]||Ng},BB=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*$B;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},FB=(e,t)=>{dj["symbol".concat(wl(e))]=t},Bg=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=MB(e,LB),i=lb(lb({},a),{},{type:t,size:r,sizeType:n}),o=()=>{var p=NB(t),g=pB().type(p).size(BB(r,n,t));return g()},{className:s,cx:c,cy:d}=i,f=Se(i,!0);return c===+c&&d===+d&&r===+r?y.createElement("path",Sp({},f,{className:De("recharts-symbols",s),transform:"translate(".concat(c,", ").concat(d,")"),d:o()})):null};Bg.registerSymbol=FB;function Cp(){return Cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cp.apply(null,arguments)}function cb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cb(Object(r),!0).forEach(function(n){Fg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fg(e,t,r){return(t=UB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UB(e){var t=WB(e,"string");return typeof t=="symbol"?t:t+""}function WB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nn=32;class zg extends y.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=nn/2,i=nn/6,o=nn/3,s=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return y.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:nn,y2:a,className:"recharts-legend-icon"});if(c==="line")return y.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(nn,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return y.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(nn/8,"h").concat(nn,"v").concat(nn*3/4,"h").concat(-nn,"z"),className:"recharts-legend-icon"});if(y.isValidElement(t.legendIcon)){var d=zB({},t);return delete d.legendIcon,y.cloneElement(t.legendIcon,d)}return y.createElement(Bg,{fill:s,cx:a,cy:a,size:nn,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:o}=this.props,s={x:0,y:0,width:nn,height:nn},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((f,p)=>{var g=f.formatter||a,m=De({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:f.inactive});if(f.type==="none")return null;var x=f.inactive?i:f.color,b=g?g(f.value,f,p):f.value;return y.createElement("li",Cp({className:m,style:c,key:"legend-item-".concat(p)},eo(this.props,f,p)),y.createElement(Mg,{width:r,height:r,viewBox:s,style:d,"aria-label":"".concat(b," legend icon")},this.renderIcon(f,o)),y.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},b))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return y.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}Fg(zg,"displayName","Legend");Fg(zg,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var fj={},hj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],s=n(o);a.has(s)||a.set(s,o)}return Array.from(a.values())}e.uniqBy=t})(hj);var Al={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Al);var pj={},sd={},gj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(gj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gj;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(sd);var mj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(mj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sd,r=mj;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(pj);var ld={},vj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=td;function r(n){return function(a){return t.get(a,n)}}e.property=r})(vj);var yj={},Lh={},kh={},Ug={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Ug);var Wg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Wg);var cd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(cd);var ub;function HB(){return ub||(ub=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hg(),r=Ug,n=Wg,a=cd;function i(p,g,m){return typeof m!="function"?t.isMatch(p,g):o(p,g,function x(b,_,j,A,S,C){const E=m(b,_,j,A,S,C);return E!==void 0?!!E:o(b,_,x,C)},new Map)}function o(p,g,m,x){if(g===p)return!0;switch(typeof g){case"object":return s(p,g,m,x);case"function":return Object.keys(g).length>0?o(p,{...g},m,x):a.eq(p,g);default:return r.isObject(p)?typeof g=="string"?g==="":!0:a.eq(p,g)}}function s(p,g,m,x){if(g==null)return!0;if(Array.isArray(g))return d(p,g,m,x);if(g instanceof Map)return c(p,g,m,x);if(g instanceof Set)return f(p,g,m,x);const b=Object.keys(g);if(p==null)return b.length===0;if(b.length===0)return!0;if(x&&x.has(g))return x.get(g)===p;x&&x.set(g,p);try{for(let _=0;_<b.length;_++){const j=b[_];if(!n.isPrimitive(p)&&!(j in p)||g[j]===void 0&&p[j]!==void 0||g[j]===null&&p[j]!==null||!m(p[j],g[j],j,p,g,x))return!1}return!0}finally{x&&x.delete(g)}}function c(p,g,m,x){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[b,_]of g.entries()){const j=p.get(b);if(m(j,_,b,p,g,x)===!1)return!1}return!0}function d(p,g,m,x){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const b=new Set;for(let _=0;_<g.length;_++){const j=g[_];let A=!1;for(let S=0;S<p.length;S++){if(b.has(S))continue;const C=p[S];let E=!1;if(m(C,j,_,p,g,x)&&(E=!0),E){b.add(S),A=!0;break}}if(!A)return!1}return!0}function f(p,g,m,x){return g.size===0?!0:p instanceof Set?d([...p],[...g],m,x):!1}e.isMatchWith=i,e.isSetMatch=f}(kh)),kh}var db;function Hg(){return db||(db=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HB();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r}(Lh)),Lh}var xj={},Kg={},Zg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Zg);var ud={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(ud);var dd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",s="[object Date]",c="[object Map]",d="[object Set]",f="[object Array]",p="[object Function]",g="[object ArrayBuffer]",m="[object Object]",x="[object Error]",b="[object DataView]",_="[object Uint8Array]",j="[object Uint8ClampedArray]",A="[object Uint16Array]",S="[object Uint32Array]",C="[object BigUint64Array]",E="[object Int8Array]",k="[object Int16Array]",I="[object Int32Array]",U="[object BigInt64Array]",V="[object Float32Array]",re="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=g,e.arrayTag=f,e.bigInt64ArrayTag=U,e.bigUint64ArrayTag=C,e.booleanTag=a,e.dataViewTag=b,e.dateTag=s,e.errorTag=x,e.float32ArrayTag=V,e.float64ArrayTag=re,e.functionTag=p,e.int16ArrayTag=k,e.int32ArrayTag=I,e.int8ArrayTag=E,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=d,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=A,e.uint32ArrayTag=S,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=j})(dd);var bj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(bj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zg,r=ud,n=dd,a=Wg,i=bj;function o(f,p){return s(f,void 0,f,new Map,p)}function s(f,p,g,m=new Map,x=void 0){const b=x?.(f,p,g,m);if(b!=null)return b;if(a.isPrimitive(f))return f;if(m.has(f))return m.get(f);if(Array.isArray(f)){const _=new Array(f.length);m.set(f,_);for(let j=0;j<f.length;j++)_[j]=s(f[j],j,g,m,x);return Object.hasOwn(f,"index")&&(_.index=f.index),Object.hasOwn(f,"input")&&(_.input=f.input),_}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const _=new RegExp(f.source,f.flags);return _.lastIndex=f.lastIndex,_}if(f instanceof Map){const _=new Map;m.set(f,_);for(const[j,A]of f)_.set(j,s(A,j,g,m,x));return _}if(f instanceof Set){const _=new Set;m.set(f,_);for(const j of f)_.add(s(j,void 0,g,m,x));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(i.isTypedArray(f)){const _=new(Object.getPrototypeOf(f)).constructor(f.length);m.set(f,_);for(let j=0;j<f.length;j++)_[j]=s(f[j],j,g,m,x);return _}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const _=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return m.set(f,_),c(_,f,g,m,x),_}if(typeof File<"u"&&f instanceof File){const _=new File([f],f.name,{type:f.type});return m.set(f,_),c(_,f,g,m,x),_}if(f instanceof Blob){const _=new Blob([f],{type:f.type});return m.set(f,_),c(_,f,g,m,x),_}if(f instanceof Error){const _=new f.constructor;return m.set(f,_),_.message=f.message,_.name=f.name,_.stack=f.stack,_.cause=f.cause,c(_,f,g,m,x),_}if(typeof f=="object"&&d(f)){const _=Object.create(Object.getPrototypeOf(f));return m.set(f,_),c(_,f,g,m,x),_}return f}function c(f,p,g=f,m,x){const b=[...Object.keys(p),...t.getSymbols(p)];for(let _=0;_<b.length;_++){const j=b[_],A=Object.getOwnPropertyDescriptor(f,j);(A==null||A.writable)&&(f[j]=s(p[j],j,g,m,x))}}function d(f){switch(r.getTag(f)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=c})(Kg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kg;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(xj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hg(),r=xj;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(yj);var _j={},wj={},jj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kg,r=dd;function n(a,i){return t.cloneDeepWith(a,(o,s,c,d)=>{const f=i?.(o,s,c,d);if(f!=null)return f;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new a.constructor(a?.valueOf());return t.copyProperties(p,a),p}case r.argumentsTag:{const p={};return t.copyProperties(p,a),p.length=a.length,p[Symbol.iterator]=a[Symbol.iterator],p}default:return}})}e.cloneDeepWith=n})(jj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jj;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(wj);var Aj={},Gg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Gg);var Sj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ud;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Sj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lg,r=Gg,n=Sj,a=rd;function i(o,s){let c;if(Array.isArray(s)?c=s:typeof s=="string"&&t.isDeepKey(s)&&o?.[s]==null?c=a.toPath(s):c=[s],c.length===0)return!1;let d=o;for(let f=0;f<c.length;f++){const p=c[f];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||n.isArguments(d))&&r.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}e.has=i})(Aj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hg(),r=kg,n=wj,a=td,i=Aj;function o(s,c){switch(typeof s){case"object":{Object.is(s?.valueOf(),-0)&&(s="-0");break}case"number":{s=r.toKey(s);break}}return c=n.cloneDeep(c),function(d){const f=a.get(d,s);return f===void 0?i.has(d,s):c===void 0?f===void 0:t.isMatch(f,c)}}e.matchesProperty=o})(_j);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Al,r=vj,n=yj,a=_j;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(ld);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hj,r=Al,n=pj,a=ld;function i(o,s=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(s)):[]}e.uniqBy=i})(fj);var KB=fj.uniqBy;const fb=Or(KB);function Cj(e,t,r){return t===!0?fb(e,r):typeof t=="function"?fb(e,t):e}var Oj={exports:{}},Pj={},Ej={exports:{}},Tj={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Go=y;function ZB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var GB=typeof Object.is=="function"?Object.is:ZB,YB=Go.useState,qB=Go.useEffect,VB=Go.useLayoutEffect,XB=Go.useDebugValue;function JB(e,t){var r=t(),n=YB({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return VB(function(){a.value=r,a.getSnapshot=t,Ih(a)&&i({inst:a})},[e,r,t]),qB(function(){return Ih(a)&&i({inst:a}),e(function(){Ih(a)&&i({inst:a})})},[e]),XB(r),r}function Ih(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!GB(e,r)}catch{return!0}}function QB(e,t){return t()}var eF=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?QB:JB;Tj.useSyncExternalStore=Go.useSyncExternalStore!==void 0?Go.useSyncExternalStore:eF;Ej.exports=Tj;var tF=Ej.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fd=y,rF=tF;function nF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var iF=typeof Object.is=="function"?Object.is:nF,aF=rF.useSyncExternalStore,oF=fd.useRef,sF=fd.useEffect,lF=fd.useMemo,cF=fd.useDebugValue;Pj.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=oF(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=lF(function(){function c(m){if(!d){if(d=!0,f=m,m=n(m),a!==void 0&&o.hasValue){var x=o.value;if(a(x,m))return p=x}return p=m}if(x=p,iF(f,m))return x;var b=n(m);return a!==void 0&&a(x,b)?(f=m,x):(f=m,p=b)}var d=!1,f,p,g=r===void 0?null:r;return[function(){return c(t())},g===null?void 0:function(){return c(g())}]},[t,r,n,a]);var s=aF(e,i[0],i[1]);return sF(function(){o.hasValue=!0,o.value=s},[s]),cF(s),s};Oj.exports=Pj;var uF=Oj.exports,Yg=y.createContext(null),dF=e=>e,ft=()=>{var e=y.useContext(Yg);return e?e.store.dispatch:dF},Qc=()=>{},fF=()=>Qc,hF=(e,t)=>e===t;function xe(e){var t=y.useContext(Yg);return uF.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:fF,t?t.store.getState:Qc,t?t.store.getState:Qc,t?e:Qc,hF)}function pF(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function gF(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function mF(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var hb=e=>Array.isArray(e)?e:[e];function vF(e){const t=Array.isArray(e[0])?e[0]:e;return mF(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function yF(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var xF=class{constructor(e){this.value=e}deref(){return this.value}},bF=typeof WeakRef<"u"?WeakRef:xF,_F=0,pb=1;function Dc(){return{s:_F,v:void 0,o:null,p:null}}function Lj(e,t={}){let r=Dc();const{resultEqualityCheck:n}=t;let a,i=0;function o(){let s=r;const{length:c}=arguments;for(let p=0,g=c;p<g;p++){const m=arguments[p];if(typeof m=="function"||typeof m=="object"&&m!==null){let x=s.o;x===null&&(s.o=x=new WeakMap);const b=x.get(m);b===void 0?(s=Dc(),x.set(m,s)):s=b}else{let x=s.p;x===null&&(s.p=x=new Map);const b=x.get(m);b===void 0?(s=Dc(),x.set(m,s)):s=b}}const d=s;let f;if(s.s===pb)f=s.v;else if(f=e.apply(null,arguments),i++,n){const p=a?.deref?.()??a;p!=null&&n(p,f)&&(f=p,i!==0&&i--),a=typeof f=="object"&&f!==null||typeof f=="function"?new bF(f):f}return d.s=pb,d.v=f,f}return o.clearCache=()=>{r=Dc(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function wF(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,s,c={},d=a.pop();typeof d=="object"&&(c=d,d=a.pop()),pF(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...r,...c},{memoize:p,memoizeOptions:g=[],argsMemoize:m=Lj,argsMemoizeOptions:x=[]}=f,b=hb(g),_=hb(x),j=vF(a),A=p(function(){return i++,d.apply(null,arguments)},...b),S=m(function(){o++;const E=yF(j,arguments);return s=A.apply(null,E),s},..._);return Object.assign(S,{resultFunc:d,memoizedResultFunc:A,dependencies:j,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:p,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var Z=wF(Lj),jF=Object.assign((e,t=Z)=>{gF(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,s,c)=>(o[r[c]]=s,o),{}))},{withTypes:()=>jF}),kj={},Ij={},Rj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),s=t(a);if(o===s&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?s-o:o-s}return 0};e.compareValues=r})(Rj);var Mj={},qg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(qg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qg,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(Mj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rj,r=Mj,n=rd;function a(i,o,s,c){if(i==null)return[];s=c?void 0:s,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(m=>String(m));const d=(m,x)=>{let b=m;for(let _=0;_<x.length&&b!=null;++_)b=b[x[_]];return b},f=(m,x)=>x==null||m==null?x:typeof m=="object"&&"key"in m?Object.hasOwn(x,m.key)?x[m.key]:d(x,m.path):typeof m=="function"?m(x):Array.isArray(m)?d(x,m):typeof x=="object"?x[m]:x,p=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return i.map(m=>({original:m,criteria:p.map(x=>f(x,m))})).slice().sort((m,x)=>{for(let b=0;b<p.length;b++){const _=t.compareValues(m.criteria[b],x.criteria[b],s[b]);if(_!==0)return _}return 0}).map(m=>m.original)}e.orderBy=a})(Ij);var Dj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(s,c)=>{for(let d=0;d<s.length;d++){const f=s[d];Array.isArray(f)&&c<i?o(f,c+1):a.push(f)}};return o(r,0),a}e.flatten=t})(Dj);var Vg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gg,r=sd,n=Ug,a=cd;function i(o,s,c){return n.isObject(c)&&(typeof s=="number"&&r.isArrayLike(c)&&t.isIndex(s)&&s<c.length||typeof s=="string"&&s in c)?a.eq(c[s],o):!1}e.isIterateeCall=i})(Vg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ij,r=Dj,n=Vg;function a(i,...o){const s=o.length;return s>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:s>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(kj);var AF=kj.sortBy;const hd=Or(AF);var $j=e=>e.legend.settings,SF=e=>e.legend.size,CF=e=>e.legend.payload,OF=Z([CF,$j],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?hd(n,r):n});function PF(){return xe(OF)}var $c=1;function Nj(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=y.useState({height:0,left:0,top:0,width:0}),n=y.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>$c||Math.abs(o.left-t.left)>$c||Math.abs(o.top-t.top)>$c||Math.abs(o.width-t.width)>$c)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Gt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var EF=typeof Symbol=="function"&&Symbol.observable||"@@observable",gb=EF,Rh=()=>Math.random().toString(36).substring(7).split("").join("."),TF={INIT:`@@redux/INIT${Rh()}`,REPLACE:`@@redux/REPLACE${Rh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Rh()}`},gu=TF;function Xg(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Bj(e,t,r){if(typeof e!="function")throw new Error(Gt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Gt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Gt(1));return r(Bj)(e,t)}let n=e,a=t,i=new Map,o=i,s=0,c=!1;function d(){o===i&&(o=new Map,i.forEach((_,j)=>{o.set(j,_)}))}function f(){if(c)throw new Error(Gt(3));return a}function p(_){if(typeof _!="function")throw new Error(Gt(4));if(c)throw new Error(Gt(5));let j=!0;d();const A=s++;return o.set(A,_),function(){if(j){if(c)throw new Error(Gt(6));j=!1,d(),o.delete(A),i=null}}}function g(_){if(!Xg(_))throw new Error(Gt(7));if(typeof _.type>"u")throw new Error(Gt(8));if(typeof _.type!="string")throw new Error(Gt(17));if(c)throw new Error(Gt(9));try{c=!0,a=n(a,_)}finally{c=!1}return(i=o).forEach(A=>{A()}),_}function m(_){if(typeof _!="function")throw new Error(Gt(10));n=_,g({type:gu.REPLACE})}function x(){const _=p;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(Gt(11));function A(){const C=j;C.next&&C.next(f())}return A(),{unsubscribe:_(A)}},[gb](){return this}}}return g({type:gu.INIT}),{dispatch:g,subscribe:p,getState:f,replaceReducer:m,[gb]:x}}function LF(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:gu.INIT})>"u")throw new Error(Gt(12));if(typeof r(void 0,{type:gu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Gt(13))})}function Fj(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{LF(r)}catch(i){a=i}return function(o={},s){if(a)throw a;let c=!1;const d={};for(let f=0;f<n.length;f++){const p=n[f],g=r[p],m=o[p],x=g(m,s);if(typeof x>"u")throw s&&s.type,new Error(Gt(14));d[p]=x,c=c||x!==m}return c=c||n.length!==Object.keys(o).length,c?d:o}}function mu(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function kF(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(Gt(15))};const o={getState:a.getState,dispatch:(c,...d)=>i(c,...d)},s=e.map(c=>c(o));return i=mu(...s)(a.dispatch),{...a,dispatch:i}}}function zj(e){return Xg(e)&&"type"in e&&typeof e.type=="string"}var Uj=Symbol.for("immer-nothing"),mb=Symbol.for("immer-draftable"),Ur=Symbol.for("immer-state");function En(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Yo=Object.getPrototypeOf;function Va(e){return!!e&&!!e[Ur]}function Ei(e){return e?Wj(e)||Array.isArray(e)||!!e[mb]||!!e.constructor?.[mb]||gd(e)||md(e):!1}var IF=Object.prototype.constructor.toString();function Wj(e){if(!e||typeof e!="object")return!1;const t=Yo(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===IF}function vu(e,t){pd(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function pd(e){const t=e[Ur];return t?t.type_:Array.isArray(e)?1:gd(e)?2:md(e)?3:0}function Op(e,t){return pd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Hj(e,t,r){const n=pd(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function RF(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function gd(e){return e instanceof Map}function md(e){return e instanceof Set}function Ia(e){return e.copy_||e.base_}function Pp(e,t){if(gd(e))return new Map(e);if(md(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Wj(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ur];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],s=n[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(Yo(e),n)}else{const n=Yo(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Jg(e,t=!1){return vd(e)||Va(e)||!Ei(e)||(pd(e)>1&&(e.set=e.add=e.clear=e.delete=MF),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Jg(n,!0))),e}function MF(){En(2)}function vd(e){return Object.isFrozen(e)}var DF={};function Xa(e){const t=DF[e];return t||En(0,e),t}var sl;function Kj(){return sl}function $F(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function vb(e,t){t&&(Xa("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ep(e){Tp(e),e.drafts_.forEach(NF),e.drafts_=null}function Tp(e){e===sl&&(sl=e.parent_)}function yb(e){return sl=$F(sl,e)}function NF(e){const t=e[Ur];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function xb(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ur].modified_&&(Ep(t),En(4)),Ei(e)&&(e=yu(t,e),t.parent_||xu(t,e)),t.patches_&&Xa("Patches").generateReplacementPatches_(r[Ur].base_,e,t.patches_,t.inversePatches_)):e=yu(t,r,[]),Ep(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Uj?e:void 0}function yu(e,t,r){if(vd(t))return t;const n=t[Ur];if(!n)return vu(t,(a,i)=>bb(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return xu(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let i=a,o=!1;n.type_===3&&(i=new Set(a),a.clear(),o=!0),vu(i,(s,c)=>bb(e,n,a,s,c,r,o)),xu(e,a,!1),r&&e.patches_&&Xa("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function bb(e,t,r,n,a,i,o){if(Va(a)){const s=i&&t&&t.type_!==3&&!Op(t.assigned_,n)?i.concat(n):void 0,c=yu(e,a,s);if(Hj(r,n,c),Va(c))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(Ei(a)&&!vd(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;yu(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&xu(e,a)}}function xu(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Jg(t,r)}function BF(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Kj(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=Qg;r&&(a=[n],i=ll);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return n.draft_=s,n.revoke_=o,s}var Qg={get(e,t){if(t===Ur)return e;const r=Ia(e);if(!Op(r,t))return FF(e,r,t);const n=r[t];return e.finalized_||!Ei(n)?n:n===Mh(e.base_,t)?(Dh(e),e.copy_[t]=kp(n,e)):n},has(e,t){return t in Ia(e)},ownKeys(e){return Reflect.ownKeys(Ia(e))},set(e,t,r){const n=Zj(Ia(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Mh(Ia(e),t),i=a?.[Ur];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(RF(r,a)&&(r!==void 0||Op(e.base_,t)))return!0;Dh(e),Lp(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Mh(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Dh(e),Lp(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ia(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){En(11)},getPrototypeOf(e){return Yo(e.base_)},setPrototypeOf(){En(12)}},ll={};vu(Qg,(e,t)=>{ll[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ll.deleteProperty=function(e,t){return ll.set.call(this,e,t,void 0)};ll.set=function(e,t,r){return Qg.set.call(this,e[0],t,r,e[0])};function Mh(e,t){const r=e[Ur];return(r?Ia(r):e)[t]}function FF(e,t,r){const n=Zj(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function Zj(e,t){if(!(t in e))return;let r=Yo(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Yo(r)}}function Lp(e){e.modified_||(e.modified_=!0,e.parent_&&Lp(e.parent_))}function Dh(e){e.copy_||(e.copy_=Pp(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var zF=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...d){return o.produce(c,f=>r.call(this,f,...d))}}typeof r!="function"&&En(6),n!==void 0&&typeof n!="function"&&En(7);let a;if(Ei(t)){const i=yb(this),o=kp(t,void 0);let s=!0;try{a=r(o),s=!1}finally{s?Ep(i):Tp(i)}return vb(i,n),xb(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===Uj&&(a=void 0),this.autoFreeze_&&Jg(a,!0),n){const i=[],o=[];Xa("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else En(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,c=>t(c,...s));let n,a;return[this.produce(t,r,(o,s)=>{n=o,a=s}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ei(e)||En(8),Va(e)&&(e=Si(e));const t=yb(this),r=kp(e,void 0);return r[Ur].isManual_=!0,Tp(t),r}finishDraft(e,t){const r=e&&e[Ur];(!r||!r.isManual_)&&En(9);const{scope_:n}=r;return vb(n,t),xb(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Xa("Patches").applyPatches_;return Va(e)?n(e,t):this.produce(e,a=>n(a,t))}};function kp(e,t){const r=gd(e)?Xa("MapSet").proxyMap_(e,t):md(e)?Xa("MapSet").proxySet_(e,t):BF(e,t);return(t?t.scope_:Kj()).drafts_.push(r),r}function Si(e){return Va(e)||En(10,e),Gj(e)}function Gj(e){if(!Ei(e)||vd(e))return e;const t=e[Ur];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Pp(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Pp(e,!0);return vu(r,(n,a)=>{Hj(r,n,Gj(a))}),t&&(t.finalized_=!1),r}var Wr=new zF,Yj=Wr.produce;Wr.produceWithPatches.bind(Wr);Wr.setAutoFreeze.bind(Wr);Wr.setUseStrictShallowCopy.bind(Wr);Wr.applyPatches.bind(Wr);Wr.createDraft.bind(Wr);Wr.finishDraft.bind(Wr);function qj(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var UF=qj(),WF=qj,HF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?mu:mu.apply(null,arguments)};function hn(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(zr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>zj(n)&&n.type===e,r}var Vj=class qs extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,qs.prototype)}static get[Symbol.species](){return qs}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new qs(...t[0].concat(this)):new qs(...t.concat(this))}};function _b(e){return Ei(e)?Yj(e,()=>{}):e}function Nc(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function KF(e){return typeof e=="boolean"}var ZF=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new Vj;return r&&(KF(r)?o.push(UF):o.push(WF(r.extraArgument))),o},GF="RTK_autoBatch",wb=e=>t=>{setTimeout(t,e)},YF=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const s=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:wb(10):e.type==="callback"?e.queueNotification:wb(e.timeout),d=()=>{o=!1,i&&(i=!1,s.forEach(f=>f()))};return Object.assign({},n,{subscribe(f){const p=()=>a&&f(),g=n.subscribe(p);return s.add(f),()=>{g(),s.delete(f)}},dispatch(f){try{return a=!f?.meta?.[GF],i=!a,i&&(o||(o=!0,c(d))),n.dispatch(f)}finally{a=!0}}})},qF=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new Vj(e);return n&&a.push(YF(typeof n=="object"?n:void 0)),a};function VF(e){const t=ZF(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let s;if(typeof r=="function")s=r;else if(Xg(r))s=Fj(r);else throw new Error(zr(1));let c;typeof n=="function"?c=n(t):c=t();let d=mu;a&&(d=HF({trace:!1,...typeof a=="object"&&a}));const f=kF(...c),p=qF(f);let g=typeof o=="function"?o(p):p();const m=d(...g);return Bj(s,i,m)}function Xj(e){const t={},r=[];let n;const a={addCase(i,o){const s=typeof i=="string"?i:i.type;if(!s)throw new Error(zr(28));if(s in t)throw new Error(zr(29));return t[s]=o,a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function XF(e){return typeof e=="function"}function JF(e,t){let[r,n,a]=Xj(t),i;if(XF(e))i=()=>_b(e());else{const s=_b(e);i=()=>s}function o(s=i(),c){let d=[r[c.type],...n.filter(({matcher:f})=>f(c)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[a]),d.reduce((f,p)=>{if(p)if(Va(f)){const m=p(f,c);return m===void 0?f:m}else{if(Ei(f))return Yj(f,g=>p(g,c));{const g=p(f,c);if(g===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return f},s)}return o.getInitialState=i,o}var QF="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ez=(e=21)=>{let t="",r=e;for(;r--;)t+=QF[Math.random()*64|0];return t},tz=Symbol.for("rtk-slice-createasyncthunk");function rz(e,t){return`${e}/${t}`}function nz({creators:e}={}){const t=e?.asyncThunk?.[tz];return function(n){const{name:a,reducerPath:i=a}=n;if(!a)throw new Error(zr(11));const o=(typeof n.reducers=="function"?n.reducers(az()):n.reducers)||{},s=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(S,C){const E=typeof S=="string"?S:S.type;if(!E)throw new Error(zr(12));if(E in c.sliceCaseReducersByType)throw new Error(zr(13));return c.sliceCaseReducersByType[E]=C,d},addMatcher(S,C){return c.sliceMatchers.push({matcher:S,reducer:C}),d},exposeAction(S,C){return c.actionCreators[S]=C,d},exposeCaseReducer(S,C){return c.sliceCaseReducersByName[S]=C,d}};s.forEach(S=>{const C=o[S],E={reducerName:S,type:rz(a,S),createNotation:typeof n.reducers=="function"};sz(C)?cz(E,C,d,t):oz(E,C,d)});function f(){const[S={},C=[],E=void 0]=typeof n.extraReducers=="function"?Xj(n.extraReducers):[n.extraReducers],k={...S,...c.sliceCaseReducersByType};return JF(n.initialState,I=>{for(let U in k)I.addCase(U,k[U]);for(let U of c.sliceMatchers)I.addMatcher(U.matcher,U.reducer);for(let U of C)I.addMatcher(U.matcher,U.reducer);E&&I.addDefaultCase(E)})}const p=S=>S,g=new Map,m=new WeakMap;let x;function b(S,C){return x||(x=f()),x(S,C)}function _(){return x||(x=f()),x.getInitialState()}function j(S,C=!1){function E(I){let U=I[S];return typeof U>"u"&&C&&(U=Nc(m,E,_)),U}function k(I=p){const U=Nc(g,C,()=>new WeakMap);return Nc(U,I,()=>{const V={};for(const[re,te]of Object.entries(n.selectors??{}))V[re]=iz(te,I,()=>Nc(m,I,_),C);return V})}return{reducerPath:S,getSelectors:k,get selectors(){return k(E)},selectSlice:E}}const A={name:a,reducer:b,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:_,...j(i),injectInto(S,{reducerPath:C,...E}={}){const k=C??i;return S.inject({reducerPath:k,reducer:b},E),{...A,...j(k,!0)}}};return A}}function iz(e,t,r,n){function a(i,...o){let s=t(i);return typeof s>"u"&&n&&(s=r()),e(s,...o)}return a.unwrapped=e,a}var mn=nz();function az(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function oz({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!lz(n))throw new Error(zr(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?hn(e,o):hn(e))}function sz(e){return e._reducerDefinitionType==="asyncThunk"}function lz(e){return e._reducerDefinitionType==="reducerWithPrepare"}function cz({type:e,reducerName:t},r,n,a){if(!a)throw new Error(zr(18));const{payloadCreator:i,fulfilled:o,pending:s,rejected:c,settled:d,options:f}=r,p=a(e,i,f);n.exposeAction(t,p),o&&n.addCase(p.fulfilled,o),s&&n.addCase(p.pending,s),c&&n.addCase(p.rejected,c),d&&n.addMatcher(p.settled,d),n.exposeCaseReducer(t,{fulfilled:o||Bc,pending:s||Bc,rejected:c||Bc,settled:d||Bc})}function Bc(){}var uz="task",Jj="listener",Qj="completed",em="cancelled",dz=`task-${em}`,fz=`task-${Qj}`,Ip=`${Jj}-${em}`,hz=`${Jj}-${Qj}`,yd=class{constructor(e){this.code=e,this.message=`${uz} ${em} (reason: ${e})`}name="TaskAbortError";message},tm=(e,t)=>{if(typeof e!="function")throw new TypeError(zr(32))},bu=()=>{},eA=(e,t=bu)=>(e.catch(t),e),tA=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ka=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Za=e=>{if(e.aborted){const{reason:t}=e;throw new yd(t)}};function rA(e,t){let r=bu;return new Promise((n,a)=>{const i=()=>a(new yd(e.reason));if(e.aborted){i();return}r=tA(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=bu})}var pz=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof yd?"cancelled":"rejected",error:r}}finally{t?.()}},_u=e=>t=>eA(rA(e,t).then(r=>(Za(e),r))),nA=e=>{const t=_u(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Bo}=Object,jb={},xd="listenerMiddleware",gz=(e,t)=>{const r=n=>tA(e,()=>Ka(n,e.reason));return(n,a)=>{tm(n);const i=new AbortController;r(i);const o=pz(async()=>{Za(e),Za(i.signal);const s=await n({pause:_u(i.signal),delay:nA(i.signal),signal:i.signal});return Za(i.signal),s},()=>Ka(i,fz));return a?.autoJoin&&t.push(o.catch(bu)),{result:_u(e)(o),cancel(){Ka(i,dz)}}}},mz=(e,t)=>{const r=async(n,a)=>{Za(t);let i=()=>{};const s=[new Promise((c,d)=>{let f=e({predicate:n,effect:(p,g)=>{g.unsubscribe(),c([p,g.getState(),g.getOriginalState()])}});i=()=>{f(),d()}})];a!=null&&s.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await rA(t,Promise.race(s));return Za(t),c}finally{i()}};return(n,a)=>eA(r(n,a))},iA=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=hn(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(zr(21));return tm(i),{predicate:a,type:t,effect:i}},aA=Bo(e=>{const{type:t,predicate:r,effect:n}=iA(e);return{id:ez(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(zr(22))}}},{withTypes:()=>aA}),Ab=(e,t)=>{const{type:r,effect:n,predicate:a}=iA(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},Rp=e=>{e.pending.forEach(t=>{Ka(t,Ip)})},vz=e=>()=>{e.forEach(Rp),e.clear()},Sb=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},oA=Bo(hn(`${xd}/add`),{withTypes:()=>oA}),yz=hn(`${xd}/removeAll`),sA=Bo(hn(`${xd}/remove`),{withTypes:()=>sA}),xz=(...e)=>{console.error(`${xd}/error`,...e)},Sl=(e={})=>{const t=new Map,{extra:r,onError:n=xz}=e;tm(n);const a=f=>(f.unsubscribe=()=>t.delete(f.id),t.set(f.id,f),p=>{f.unsubscribe(),p?.cancelActive&&Rp(f)}),i=f=>{const p=Ab(t,f)??aA(f);return a(p)};Bo(i,{withTypes:()=>i});const o=f=>{const p=Ab(t,f);return p&&(p.unsubscribe(),f.cancelActive&&Rp(p)),!!p};Bo(o,{withTypes:()=>o});const s=async(f,p,g,m)=>{const x=new AbortController,b=mz(i,x.signal),_=[];try{f.pending.add(x),await Promise.resolve(f.effect(p,Bo({},g,{getOriginalState:m,condition:(j,A)=>b(j,A).then(Boolean),take:b,delay:nA(x.signal),pause:_u(x.signal),extra:r,signal:x.signal,fork:gz(x.signal,_),unsubscribe:f.unsubscribe,subscribe:()=>{t.set(f.id,f)},cancelActiveListeners:()=>{f.pending.forEach((j,A,S)=>{j!==x&&(Ka(j,Ip),S.delete(j))})},cancel:()=>{Ka(x,Ip),f.pending.delete(x)},throwIfCancelled:()=>{Za(x.signal)}})))}catch(j){j instanceof yd||Sb(n,j,{raisedBy:"effect"})}finally{await Promise.all(_),Ka(x,hz),f.pending.delete(x)}},c=vz(t);return{middleware:f=>p=>g=>{if(!zj(g))return p(g);if(oA.match(g))return i(g.payload);if(yz.match(g)){c();return}if(sA.match(g))return o(g.payload);let m=f.getState();const x=()=>{if(m===jb)throw new Error(zr(23));return m};let b;try{if(b=p(g),t.size>0){const _=f.getState(),j=Array.from(t.values());for(const A of j){let S=!1;try{S=A.predicate(g,_,m)}catch(C){S=!1,Sb(n,C,{raisedBy:"predicate"})}S&&s(A,g,f,x)}}}finally{m=jb}return b},startListening:i,stopListening:o,clearListeners:c}};function zr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var bz={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},lA=mn({name:"chartLayout",initialState:bz,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:_z,setLayout:wz,setChartSize:jz,setScale:Az}=lA.actions,Sz=lA.reducer;function Cb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ob(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cb(Object(r),!0).forEach(function(n){Cz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cz(e,t,r){return(t=Oz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oz(e){var t=Pz(e,"string");return typeof t=="symbol"?t:t+""}function Pz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wu=Math.PI/180,Ez=e=>e*180/Math.PI,et=(e,t,r,n)=>({x:e+Math.cos(-wu*n)*r,y:t+Math.sin(-wu*n)*r}),cA=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Tz=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},Lz=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=Tz({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var s=(r-a)/o,c=Math.acos(s);return n>i&&(c=2*Math.PI-c),{radius:o,angle:Ez(c),angleInRadian:c}},kz=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},Iz=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},Rz=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=Lz({x:r,y:n},t),{innerRadius:o,outerRadius:s}=t;if(a<o||a>s||a===0)return null;var{startAngle:c,endAngle:d}=kz(t),f=i,p;if(c<=d){for(;f>d;)f-=360;for(;f<c;)f+=360;p=f>=c&&f<=d}else{for(;f>c;)f-=360;for(;f<d;)f+=360;p=f>=d&&f<=c}return p?Ob(Ob({},t),{},{radius:a,angle:Iz(f,t)}):null},uA=e=>!y.isValidElement(e)&&typeof e!="function"&&typeof e!="boolean"&&e!=null?e.className:"";function Pb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ln(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pb(Object(r),!0).forEach(function(n){Mz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mz(e,t,r){return(t=Dz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dz(e){var t=$z(e,"string");return typeof t=="symbol"?t:t+""}function $z(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function at(e,t,r){return tt(e)||tt(t)?r:Qn(t)?ua(e,t,r):typeof t=="function"?t(e):r}var Nz=(e,t,r,n,a)=>{var i,o=-1,s=(i=t?.length)!==null&&i!==void 0?i:0;if(s<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<s;c++){var d=c>0?r[c-1].coordinate:r[s-1].coordinate,f=r[c].coordinate,p=c>=s-1?r[0].coordinate:r[c+1].coordinate,g=void 0;if(zt(f-d)!==zt(p-f)){var m=[];if(zt(p-f)===zt(a[1]-a[0])){g=p;var x=f+a[1]-a[0];m[0]=Math.min(x,(x+d)/2),m[1]=Math.max(x,(x+d)/2)}else{g=d;var b=p+a[1]-a[0];m[0]=Math.min(f,(b+f)/2),m[1]=Math.max(f,(b+f)/2)}var _=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(e>_[0]&&e<=_[1]||e>=m[0]&&e<=m[1]){({index:o}=r[c]);break}}else{var j=Math.min(d,p),A=Math.max(d,p);if(e>(j+f)/2&&e<=(A+f)/2){({index:o}=r[c]);break}}}else if(t){for(var S=0;S<s;S++)if(S===0&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S>0&&S<s-1&&e>(t[S].coordinate+t[S-1].coordinate)/2&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S===s-1&&e>(t[S].coordinate+t[S-1].coordinate)/2){({index:o}=t[S]);break}}return o},Bz=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&i!=="center"&&ye(e[i]))return ln(ln({},e),{},{[i]:e[i]+(n||0)});if((s==="horizontal"||s==="vertical"&&i==="center")&&o!=="middle"&&ye(e[o]))return ln(ln({},e),{},{[o]:e[o]+(a||0)})}return e},Mn=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",dA=(e,t,r,n)=>{if(n)return e.map(s=>s.coordinate);var a,i,o=e.map(s=>(s.coordinate===t&&(a=!0),s.coordinate===r&&(i=!0),s.coordinate));return a||o.push(t),i||o.push(r),o},fA=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:s,isCategorical:c,categoricalDomain:d,tickCount:f,ticks:p,niceTicks:g,axisType:m}=e;if(!o)return null;var x=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,b=a==="category"&&o.bandwidth?o.bandwidth()/x:0;if(b=m==="angleAxis"&&i&&i.length>=2?zt(i[0]-i[1])*2*b:b,p||g){var _=(p||g||[]).map((j,A)=>{var S=n?n.indexOf(j):j;return{coordinate:o(S)+b,value:j,offset:b,index:A}});return _.filter(j=>!Cr(j.coordinate))}return c&&d?d.map((j,A)=>({coordinate:o(j)+b,value:j,index:A,offset:b})):o.ticks&&f!=null?o.ticks(f).map((j,A)=>({coordinate:o(j)+b,value:j,offset:b,index:A})):o.domain().map((j,A)=>({coordinate:o(j)+b,value:n?n[j]:j,index:A,offset:b}))},Eb=1e-4,Fz=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-Eb,i=Math.max(n[0],n[1])+Eb,o=e(t[0]),s=e(t[r-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[r-1]])}},zz=(e,t)=>{if(!t||t.length!==2||!ye(t[0])||!ye(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!ye(e[0])||e[0]<r)&&(a[0]=r),(!ye(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},Uz=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,o=0;o<t;++o){var s=Cr(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+s,i=e[o][r][1])}},Wz=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var o=Cr(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},Hz={sign:Uz,expand:PB,none:Zo,silhouette:EB,wiggle:TB,positive:Wz},Kz=(e,t,r)=>{var n=Hz[r],a=OB().keys(t).value((i,o)=>+at(i,o,0)).order(Ap).offset(n);return a(e)};function rm(e){return e==null?void 0:String(e)}function ju(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!tt(a[t.dataKey])){var s=Z1(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=at(a,tt(o)?t.dataKey:o);return tt(c)?null:t.scale(c)}var Tb=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var s=at(i,t.dataKey,t.scale.domain()[o]);return tt(s)?null:t.scale(s)-a/2+n},Zz=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},Gz=e=>{var t=e.flat(2).filter(ye);return[Math.min(...t),Math.max(...t)]},Yz=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],qz=(e,t,r)=>{if(e!=null)return Yz(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:o}=i,s=o.reduce((c,d)=>{var f=Gz(d.slice(t,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))},Lb=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kb=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ti=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=hd(t,f=>f.coordinate),i=1/0,o=1,s=a.length;o<s;o++){var c=a[o],d=a[o-1];i=Math.min((c.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function Ib(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return ln(ln({},t),{},{dataKey:r,payload:n,value:a,name:i})}function ni(e,t){if(e)return String(e);if(typeof t=="string")return t}function Vz(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?Rz({x:e,y:t},n):null}var Xz=(e,t,r,n)=>{var a=t.find(d=>d&&d.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:o}=n;return ln(ln(ln({},n),et(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,{angle:c}=n;return ln(ln(ln({},n),et(n.cx,n.cy,s,c)),{},{angle:c,radius:s})}return{x:0,y:0}},Jz=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Di=e=>e.layout.width,$i=e=>e.layout.height,Qz=e=>e.layout.scale,hA=e=>e.layout.margin,nm=Z(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),im=Z(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),pA="data-recharts-item-index",gA="data-recharts-item-data-key",bd=60;function Rb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rb(Object(r),!0).forEach(function(n){e3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e3(e,t,r){return(t=t3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t3(e){var t=r3(e,"string");return typeof t=="symbol"?t:t+""}function r3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n3=e=>e.brush.height,Dt=Z([Di,$i,hA,n3,nm,im,$j,SF],(e,t,r,n,a,i,o,s)=>{var c=i.reduce((x,b)=>{var{orientation:_}=b;if(!b.mirror&&!b.hide){var j=typeof b.width=="number"?b.width:bd;return ea(ea({},x),{},{[_]:x[_]+j})}return x},{left:r.left||0,right:r.right||0}),d=a.reduce((x,b)=>{var{orientation:_}=b;return!b.mirror&&!b.hide?ea(ea({},x),{},{[_]:ua(x,"".concat(_))+b.height}):x},{top:r.top||0,bottom:r.bottom||0}),f=ea(ea({},d),c),p=f.bottom;f.bottom+=n,f=Bz(f,o,s);var g=e-f.left-f.right,m=t-f.top-f.bottom;return ea(ea({brushBottom:p},f),{},{width:Math.max(g,0),height:Math.max(m,0)})}),i3=Z(Dt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),mA=Z(Di,$i,(e,t)=>({x:0,y:0,width:e,height:t})),a3=y.createContext(null),Ut=()=>y.useContext(a3)!=null,_d=e=>e.brush,wd=Z([_d,Dt,hA],(e,t,r)=>({height:e.height,x:ye(e.x)?e.x:t.left,y:ye(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:ye(e.width)?e.width:t.width})),am=()=>{var e,t=Ut(),r=xe(i3),n=xe(wd),a=(e=xe(_d))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},o3={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},vA=()=>{var e;return(e=xe(Dt))!==null&&e!==void 0?e:o3},om=()=>xe(Di),sm=()=>xe($i),s3={top:0,right:0,bottom:0,left:0},l3=()=>{var e;return(e=xe(t=>t.layout.margin))!==null&&e!==void 0?e:s3},Ue=e=>e.layout.layoutType,Cl=()=>xe(Ue),c3={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},yA=mn({name:"legend",initialState:c3,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Si(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:Mb,setLegendSettings:u3,addLegendPayload:xA,removeLegendPayload:bA}=yA.actions,d3=yA.reducer,f3=["contextPayload"];function Mp(){return Mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mp.apply(null,arguments)}function Db(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Db(Object(r),!0).forEach(function(n){lm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Db(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lm(e,t,r){return(t=h3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h3(e){var t=p3(e,"string");return typeof t=="symbol"?t:t+""}function p3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g3(e,t){if(e==null)return{};var r,n,a=m3(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function m3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function v3(e){return e.value}function y3(e){var{contextPayload:t}=e,r=g3(e,f3),n=Cj(t,e.payloadUniqBy,v3),a=qo(qo({},r),{},{payload:n});return y.isValidElement(e.content)?y.cloneElement(e.content,a):typeof e.content=="function"?y.createElement(e.content,a):y.createElement(zg,a)}function x3(e,t,r,n,a,i){var{layout:o,align:s,verticalAlign:c}=t,d,f;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&o==="vertical"?d={left:((n||0)-i.width)/2}:d=s==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?f={top:((a||0)-i.height)/2}:f=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),qo(qo({},d),f)}function b3(e){var t=ft();return y.useEffect(()=>{t(u3(e))},[t,e]),null}function _3(e){var t=ft();return y.useEffect(()=>(t(Mb(e)),()=>{t(Mb({width:0,height:0}))}),[t,e]),null}function w3(e){var t=PF(),r=XN(),n=l3(),{width:a,height:i,wrapperStyle:o,portal:s}=e,[c,d]=Nj([t]),f=om(),p=sm(),g=f-(n.left||0)-(n.right||0),m=aa.getWidthOrHeight(e.layout,i,a,g),x=s?o:qo(qo({position:"absolute",width:m?.width||a||"auto",height:m?.height||i||"auto"},x3(o,e,n,f,p,c)),o),b=s??r;if(b==null)return null;var _=y.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:d},y.createElement(b3,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),y.createElement(_3,{width:c.width,height:c.height}),y.createElement(y3,Mp({},e,m,{margin:n,chartWidth:f,chartHeight:p,contextPayload:t})));return Sg.createPortal(_,b)}class aa extends y.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&ye(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return y.createElement(w3,this.props)}}lm(aa,"displayName","Legend");lm(aa,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Dp(){return Dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dp.apply(null,arguments)}function $b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $h(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$b(Object(r),!0).forEach(function(n){j3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$b(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j3(e,t,r){return(t=A3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A3(e){var t=S3(e,"string");return typeof t=="symbol"?t:t+""}function S3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C3(e){return Array.isArray(e)&&Qn(e[0])&&Qn(e[1])?e.join(" ~ "):e}var O3=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:s,wrapperClassName:c,labelClassName:d,label:f,labelFormatter:p,accessibilityLayer:g=!1}=e,m=()=>{if(i&&i.length){var E={padding:0,margin:0},k=(s?hd(i,s):i).map((I,U)=>{if(I.type==="none")return null;var V=I.formatter||o||C3,{value:re,name:te}=I,J=re,ne=te;if(V){var fe=V(re,te,I,U,i);if(Array.isArray(fe))[J,ne]=fe;else if(fe!=null)J=fe;else return null}var Q=$h({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},n);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:Q},Qn(ne)?y.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,Qn(ne)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},J),y.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:E},k)}return null},x=$h({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=$h({margin:0},a),_=!tt(f),j=_?f:"",A=De("recharts-default-tooltip",c),S=De("recharts-tooltip-label",d);_&&p&&i!==void 0&&i!==null&&(j=p(f,i));var C=g?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",Dp({className:A,style:x},C),y.createElement("p",{className:S,style:b},y.isValidElement(j)?j:"".concat(j)),m())},Bs="recharts-tooltip-wrapper",P3={visibility:"hidden"};function E3(e){var{coordinate:t,translateX:r,translateY:n}=e;return De(Bs,{["".concat(Bs,"-right")]:ye(r)&&t&&ye(t.x)&&r>=t.x,["".concat(Bs,"-left")]:ye(r)&&t&&ye(t.x)&&r<t.x,["".concat(Bs,"-bottom")]:ye(n)&&t&&ye(t.y)&&n>=t.y,["".concat(Bs,"-top")]:ye(n)&&t&&ye(t.y)&&n<t.y})}function Nb(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:s,viewBox:c,viewBoxDimension:d}=e;if(i&&ye(i[n]))return i[n];var f=r[n]-s-(a>0?a:0),p=r[n]+a;if(t[n])return o[n]?f:p;var g=c[n];if(g==null)return 0;if(o[n]){var m=f,x=g;return m<x?Math.max(p,g):Math.max(f,g)}if(d==null)return 0;var b=p+s,_=g+d;return b>_?Math.max(f,g):Math.max(p,g)}function T3(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function L3(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:s,viewBox:c}=e,d,f,p;return o.height>0&&o.width>0&&r?(f=Nb({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),p=Nb({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=T3({translateX:f,translateY:p,useTranslate3d:s})):d=P3,{cssProperties:d,cssClasses:E3({translateX:f,translateY:p,coordinate:r})}}function Bb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bb(Object(r),!0).forEach(function(n){$p(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $p(e,t,r){return(t=k3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k3(e){var t=I3(e,"string");return typeof t=="symbol"?t:t+""}function I3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class R3 extends y.PureComponent{constructor(){super(...arguments),$p(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),$p(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:s,isAnimationActive:c,offset:d,position:f,reverseDirection:p,useTranslate3d:g,viewBox:m,wrapperStyle:x,lastBoundingBox:b,innerRef:_,hasPortalFromProps:j}=this.props,{cssClasses:A,cssProperties:S}=L3({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:d,position:f,reverseDirection:p,tooltipBox:{height:b.height,width:b.width},useTranslate3d:g,viewBox:m}),C=j?{}:Fc(Fc({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),E=Fc(Fc({},C),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},x);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:A,style:E,ref:_},i)}}var M3=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ni={isSsr:M3()},_A=()=>xe(e=>e.rootProps.accessibilityLayer);function Jt(e){return Number.isFinite(e)}function Vo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Np(){return Np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Np.apply(null,arguments)}function Fb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fb(Object(r),!0).forEach(function(n){D3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D3(e,t,r){return(t=$3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $3(e){var t=N3(e,"string");return typeof t=="symbol"?t:t+""}function N3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ub={curveBasisClosed:mB,curveBasisOpen:vB,curveBasis:gB,curveBumpX:tB,curveBumpY:rB,curveLinearClosed:yB,curveLinear:ad,curveMonotoneX:xB,curveMonotoneY:bB,curveNatural:_B,curveStep:wB,curveStepAfter:AB,curveStepBefore:jB},zc=e=>Jt(e.x)&&Jt(e.y),Fs=e=>e.x,zs=e=>e.y,B3=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(wl(e));return(r==="curveMonotone"||r==="curveBump")&&t?Ub["".concat(r).concat(t==="vertical"?"Y":"X")]:Ub[r]||ad},F3=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,o=B3(t,a),s=i?r.filter(zc):r,c;if(Array.isArray(n)){var d=i?n.filter(p=>zc(p)):n,f=s.map((p,g)=>zb(zb({},p),{},{base:d[g]}));return a==="vertical"?c=Mc().y(zs).x1(Fs).x0(p=>p.base.x):c=Mc().x(Fs).y1(zs).y0(p=>p.base.y),c.defined(zc).curve(o),c(f)}return a==="vertical"&&ye(n)?c=Mc().y(zs).x1(Fs).x0(n):ye(n)?c=Mc().x(Fs).y1(zs).y0(n):c=ej().x(Fs).y(zs),c.defined(zc).curve(o),c(s)},Fo=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?F3(e):n;return y.createElement("path",Np({},Se(e,!1),Rg(e),{className:De("recharts-curve",t),d:i===null?void 0:i,ref:a}))},z3=["x","y","top","left","width","height","className"];function Bp(){return Bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bp.apply(null,arguments)}function Wb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function U3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wb(Object(r),!0).forEach(function(n){W3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W3(e,t,r){return(t=H3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H3(e){var t=K3(e,"string");return typeof t=="symbol"?t:t+""}function K3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z3(e,t){if(e==null)return{};var r,n,a=G3(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function G3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Y3=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),q3=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:s}=e,c=Z3(e,z3),d=U3({x:t,y:r,top:n,left:a,width:i,height:o},c);return!ye(t)||!ye(r)||!ye(i)||!ye(o)||!ye(n)||!ye(a)?null:y.createElement("path",Bp({},Se(d,!0),{className:De("recharts-cross",s),d:Y3(t,r,i,o,n,a)}))};function V3(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Hb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function X3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hb(Object(r),!0).forEach(function(n){J3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J3(e,t,r){return(t=Q3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q3(e){var t=eU(e,"string");return typeof t=="symbol"?t:t+""}function eU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pr(e,t){var r=X3({},e),n=t,a=Object.keys(t),i=a.reduce((o,s)=>(o[s]===void 0&&n[s]!==void 0&&(o[s]=n[s]),o),r);return i}var wA={},jA={},AA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(AA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AA,r=Zg,n=ud,a=dd,i=cd;function o(d,f,p){return s(d,f,void 0,void 0,void 0,void 0,p)}function s(d,f,p,g,m,x,b){const _=b(d,f,p,g,m,x);if(_!==void 0)return _;if(typeof d==typeof f)switch(typeof d){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return d===f;case"number":return d===f||Object.is(d,f);case"function":return d===f;case"object":return c(d,f,x,b)}return c(d,f,x,b)}function c(d,f,p,g){if(Object.is(d,f))return!0;let m=n.getTag(d),x=n.getTag(f);if(m===a.argumentsTag&&(m=a.objectTag),x===a.argumentsTag&&(x=a.objectTag),m!==x)return!1;switch(m){case a.stringTag:return d.toString()===f.toString();case a.numberTag:{const j=d.valueOf(),A=f.valueOf();return i.eq(j,A)}case a.booleanTag:case a.dateTag:case a.symbolTag:return Object.is(d.valueOf(),f.valueOf());case a.regexpTag:return d.source===f.source&&d.flags===f.flags;case a.functionTag:return d===f}p=p??new Map;const b=p.get(d),_=p.get(f);if(b!=null&&_!=null)return b===f;p.set(d,f),p.set(f,d);try{switch(m){case a.mapTag:{if(d.size!==f.size)return!1;for(const[j,A]of d.entries())if(!f.has(j)||!s(A,f.get(j),j,d,f,p,g))return!1;return!0}case a.setTag:{if(d.size!==f.size)return!1;const j=Array.from(d.values()),A=Array.from(f.values());for(let S=0;S<j.length;S++){const C=j[S],E=A.findIndex(k=>s(C,k,void 0,d,f,p,g));if(E===-1)return!1;A.splice(E,1)}return!0}case a.arrayTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:case a.bigUint64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.bigInt64ArrayTag:case a.float32ArrayTag:case a.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(d)!==Buffer.isBuffer(f)||d.length!==f.length)return!1;for(let j=0;j<d.length;j++)if(!s(d[j],f[j],j,d,f,p,g))return!1;return!0}case a.arrayBufferTag:return d.byteLength!==f.byteLength?!1:c(new Uint8Array(d),new Uint8Array(f),p,g);case a.dataViewTag:return d.byteLength!==f.byteLength||d.byteOffset!==f.byteOffset?!1:c(new Uint8Array(d),new Uint8Array(f),p,g);case a.errorTag:return d.name===f.name&&d.message===f.message;case a.objectTag:{if(!(c(d.constructor,f.constructor,p,g)||t.isPlainObject(d)&&t.isPlainObject(f)))return!1;const A=[...Object.keys(d),...r.getSymbols(d)],S=[...Object.keys(f),...r.getSymbols(f)];if(A.length!==S.length)return!1;for(let C=0;C<A.length;C++){const E=A[C],k=d[E];if(!Object.hasOwn(f,E))return!1;const I=f[E];if(!s(k,I,E,d,f,p,g))return!1}return!0}default:return!1}}finally{p.delete(d),p.delete(f)}}e.isEqualWith=o})(jA);var SA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(SA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jA,r=SA;function n(a,i){return t.isEqualWith(a,i,r.noop)}e.isEqual=n})(wA);var tU=wA.isEqual;const rU=Or(tU);function nU(e){var t={},r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,[c,...d]=s;if(typeof c=="number"){a=e.setTimeout(i.bind(null,d),c);return}i(c),a=e.setTimeout(i.bind(null,d));return}typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}var Au=1e-4,CA=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],OA=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Kb=(e,t)=>r=>{var n=CA(e,t);return OA(n,r)},iU=(e,t)=>r=>{var n=CA(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return OA(a,r)},Zb=function(){for(var t,r,n,a,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];if(o.length===1)switch(o[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,a]=c[1].split(")")[0].split(",").map(x=>parseFloat(x)))}}else o.length===4&&([t,n,r,a]=o);var d=Kb(t,r),f=Kb(n,a),p=iU(t,r),g=x=>x>1?1:x<0?0:x,m=x=>{for(var b=x>1?1:x,_=b,j=0;j<8;++j){var A=d(_)-b,S=p(_);if(Math.abs(A-b)<Au||S<Au)return f(_);_=g(_-A/S)}return f(_)};return m.isStepper=!1,m},aU=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,s,c)=>{var d=-(o-s)*r,f=c*n,p=c+(d-f)*a/1e3,g=c*a/1e3+o;return Math.abs(g-s)<Au&&Math.abs(p)<Au?[s,0]:[g,p]};return i.isStepper=!0,i.dt=a,i},oU=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Zb(e);case"spring":return aU();default:if(e.split("(")[0]==="cubic-bezier")return Zb(e)}return typeof e=="function"?e:null};function Gb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gb(Object(r),!0).forEach(function(n){sU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sU(e,t,r){return(t=lU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lU(e){var t=cU(e,"string");return typeof t=="symbol"?t:t+""}function cU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uU=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),dU=(e,t,r)=>e.map(n=>"".concat(uU(n)," ").concat(t,"ms ").concat(r)).join(","),fU=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),cl=(e,t)=>Object.keys(t).reduce((r,n)=>Yb(Yb({},r),{},{[n]:e(n,t[n])}),{});function qb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qb(Object(r),!0).forEach(function(n){hU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hU(e,t,r){return(t=pU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pU(e){var t=gU(e,"string");return typeof t=="symbol"?t:t+""}function gU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Su=(e,t,r)=>e+(t-e)*r,Fp=e=>{var{from:t,to:r}=e;return t!==r},PA=(e,t,r)=>{var n=cl((a,i)=>{if(Fp(i)){var[o,s]=e(i.from,i.to,i.velocity);return Vt(Vt({},i),{},{from:o,velocity:s})}return i},t);return r<1?cl((a,i)=>Fp(i)?Vt(Vt({},i),{},{velocity:Su(i.velocity,n[a].velocity,r),from:Su(i.from,n[a].from,r)}):i,t):PA(e,n,r-1)};function mU(e,t,r,n,a,i){var o,s=n.reduce((g,m)=>Vt(Vt({},g),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>cl((g,m)=>m.from,s),d=()=>!Object.values(s).filter(Fp).length,f=null,p=g=>{o||(o=g);var m=g-o,x=m/r.dt;s=PA(r,s,x),a(Vt(Vt(Vt({},e),t),c())),o=g,d()||(f=i.setTimeout(p))};return()=>(f=i.setTimeout(p),()=>{f()})}function vU(e,t,r,n,a,i,o){var s=null,c=a.reduce((p,g)=>Vt(Vt({},p),{},{[g]:[e[g],t[g]]}),{}),d,f=p=>{d||(d=p);var g=(p-d)/n,m=cl((b,_)=>Su(..._,r(g)),c);if(i(Vt(Vt(Vt({},e),t),m)),g<1)s=o.setTimeout(f);else{var x=cl((b,_)=>Su(..._,r(1)),c);i(Vt(Vt(Vt({},e),t),x))}};return()=>(s=o.setTimeout(f),()=>{s()})}const yU=(e,t,r,n,a,i)=>{var o=fU(e,t);return r.isStepper===!0?mU(e,t,r,o,a,i):vU(e,t,r,n,o,a,i)};class xU{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}var bU=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function zp(){return zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zp.apply(null,arguments)}function _U(e,t){if(e==null)return{};var r,n,a=wU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Vb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vb(Object(r),!0).forEach(function(n){$a(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $a(e,t,r){return(t=jU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jU(e){var t=AU(e,"string");return typeof t=="symbol"?t:t+""}function AU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SU(){return nU(new xU)}class cm extends y.PureComponent{constructor(t,r){super(t,r),$a(this,"mounted",!1),$a(this,"manager",null),$a(this,"stopJSAnimation",null),$a(this,"unSubscribe",null);var{isActive:n,attributeName:a,from:i,to:o,children:s,duration:c,animationManager:d}=this.props;if(this.manager=d,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||c<=0){this.state={style:{}},typeof s=="function"&&(this.state={style:o});return}if(i){if(typeof s=="function"){this.state={style:i};return}this.state={style:a?{[a]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:a,shouldReAnimate:i,to:o,from:s}=this.props,{style:c}=this.state;if(n){if(!r){var d={style:a?{[a]:o}:o};this.state&&c&&(a&&c[a]!==o||!a&&c!==o)&&this.setState(d);return}if(!(rU(t.to,o)&&t.canBegin&&t.isActive)){var f=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=f||i?s:t.to;if(this.state&&c){var g={style:a?{[a]:p}:p};(a&&c[a]!==p||!a&&c!==p)&&this.setState(g)}this.runAnimation(ta(ta({},this.props),{},{from:p,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:a,easing:i,begin:o,onAnimationEnd:s,onAnimationStart:c}=t,d=yU(r,n,oU(i),a,this.changeStyle,this.manager.getTimeoutController()),f=()=>{this.stopJSAnimation=d()};this.manager.start([c,o,f,a,s])}runAnimation(t){var{begin:r,duration:n,attributeName:a,to:i,easing:o,onAnimationStart:s,onAnimationEnd:c,children:d}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof d=="function"||o==="spring"){this.runJSAnimation(t);return}var f=a?{[a]:i}:i,p=dU(Object.keys(f),n,o);this.manager.start([s,r,ta(ta({},f),{},{transition:p}),n,c])}render(){var t=this.props,{children:r,begin:n,duration:a,attributeName:i,easing:o,isActive:s,from:c,to:d,canBegin:f,onAnimationEnd:p,shouldReAnimate:g,onAnimationReStart:m,animationManager:x}=t,b=_U(t,bU),_=y.Children.count(r),j=this.state.style;if(typeof r=="function")return r(j);if(!s||_===0||a<=0)return r;var A=S=>{var{style:C={},className:E}=S.props,k=y.cloneElement(S,ta(ta({},b),{},{style:ta(ta({},C),j),className:E}));return k};return _===1?A(y.Children.only(r)):y.createElement("div",null,y.Children.map(r,S=>A(S)))}}$a(cm,"displayName","Animate");$a(cm,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var CU=y.createContext(null);function ei(e){var t,r,n=y.useContext(CU);return y.createElement(cm,zp({},e,{animationManager:(t=(r=e.animationManager)!==null&&r!==void 0?r:n)!==null&&t!==void 0?t:SU()}))}function Cu(){return Cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cu.apply(null,arguments)}var Xb=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,s=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,d;if(i>0&&a instanceof Array){for(var f=[0,0,0,0],p=0,g=4;p<g;p++)f[p]=a[p]>i?i:a[p];d="M".concat(e,",").concat(t+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+s*f[0],",").concat(t)),d+="L ".concat(e+r-s*f[1],",").concat(t),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*f[1])),d+="L ".concat(e+r,",").concat(t+n-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-s*f[2],",").concat(t+n)),d+="L ".concat(e+s*f[3],",").concat(t+n),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-o*f[3])),d+="Z"}else if(i>0&&a===+a&&a>0){var m=Math.min(i,a);d="M ".concat(e,",").concat(t+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+s*m,",").concat(t,`
            L `).concat(e+r-s*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*m,`
            L `).concat(e+r,",").concat(t+n-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-s*m,",").concat(t+n,`
            L `).concat(e+s*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*m," Z")}else d="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return d},OU={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},EA=e=>{var t=Pr(e,OU),r=y.useRef(null),[n,a]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&a(j)}catch{}},[]);var{x:i,y:o,width:s,height:c,radius:d,className:f}=t,{animationEasing:p,animationDuration:g,animationBegin:m,isAnimationActive:x,isUpdateAnimationActive:b}=t;if(i!==+i||o!==+o||s!==+s||c!==+c||s===0||c===0)return null;var _=De("recharts-rectangle",f);return b?y.createElement(ei,{canBegin:n>0,from:{width:s,height:c,x:i,y:o},to:{width:s,height:c,x:i,y:o},duration:g,animationEasing:p,isActive:b},j=>{var{width:A,height:S,x:C,y:E}=j;return y.createElement(ei,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:g,isActive:x,easing:p},y.createElement("path",Cu({},Se(t,!0),{className:_,d:Xb(C,E,A,S,d),ref:r})))}):y.createElement("path",Cu({},Se(t,!0),{className:_,d:Xb(i,o,s,c,d)}))};function TA(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=et(t,r,n,a),s=et(t,r,n,i);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Up(){return Up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Up.apply(null,arguments)}var PU=(e,t)=>{var r=zt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Uc=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:s,cornerIsExternal:c}=e,d=s*(o?1:-1)+n,f=Math.asin(s/d)/wu,p=c?a:a+i*f,g=et(t,r,d,p),m=et(t,r,n,p),x=c?a-i*f:a,b=et(t,r,d*Math.cos(f*wu),x);return{center:g,circleTangency:m,lineTangency:b,theta:f}},LA=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,s=PU(i,o),c=i+s,d=et(t,r,a,i),f=et(t,r,a,c),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(i>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(n>0){var g=et(t,r,n,i),m=et(t,r,n,c);p+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(i<=c),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(t,",").concat(r," Z");return p},EU=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:s,startAngle:c,endAngle:d}=e,f=zt(d-c),{circleTangency:p,lineTangency:g,theta:m}=Uc({cx:t,cy:r,radius:a,angle:c,sign:f,cornerRadius:i,cornerIsExternal:s}),{circleTangency:x,lineTangency:b,theta:_}=Uc({cx:t,cy:r,radius:a,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:s}),j=s?Math.abs(c-d):Math.abs(c-d)-m-_;if(j<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):LA({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:d});var A="M ".concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(n>0){var{circleTangency:S,lineTangency:C,theta:E}=Uc({cx:t,cy:r,radius:n,angle:c,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),{circleTangency:k,lineTangency:I,theta:U}=Uc({cx:t,cy:r,radius:n,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),V=s?Math.abs(c-d):Math.abs(c-d)-E-U;if(V<0&&i===0)return"".concat(A,"L").concat(t,",").concat(r,"Z");A+="L".concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(V>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else A+="L".concat(t,",").concat(r,"Z");return A},TU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},kA=e=>{var t=Pr(e,TU),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:c,startAngle:d,endAngle:f,className:p}=t;if(i<a||d===f)return null;var g=De("recharts-sector",p),m=i-a,x=pr(o,m,0,!0),b;return x>0&&Math.abs(d-f)<360?b=EU({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(x,m/2),forceCornerRadius:s,cornerIsExternal:c,startAngle:d,endAngle:f}):b=LA({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:d,endAngle:f}),y.createElement("path",Up({},Se(t,!0),{className:g,d:b}))};function LU(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:s,cy:c,innerRadius:d,outerRadius:f,angle:p}=t,g=et(s,c,d,p),m=et(s,c,f,p);n=g.x,a=g.y,i=m.x,o=m.y}else return TA(t);return[{x:n,y:a},{x:i,y:o}]}var IA={},RA={},MA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qg;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(MA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MA;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(RA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vg,r=RA;function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const s=Math.max(Math.ceil((i-a)/(o||1)),0),c=new Array(s);for(let d=0;d<s;d++)c[d]=a,a+=o;return c}e.range=n})(IA);var kU=IA.range;const DA=Or(kU);function sa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function IU(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function um(e){let t,r,n;e.length!==2?(t=sa,r=(s,c)=>sa(e(s),c),n=(s,c)=>e(s)-c):(t=e===sa||e===IU?e:RU,r=e,n=e);function a(s,c,d=0,f=s.length){if(d<f){if(t(c,c)!==0)return f;do{const p=d+f>>>1;r(s[p],c)<0?d=p+1:f=p}while(d<f)}return d}function i(s,c,d=0,f=s.length){if(d<f){if(t(c,c)!==0)return f;do{const p=d+f>>>1;r(s[p],c)<=0?d=p+1:f=p}while(d<f)}return d}function o(s,c,d=0,f=s.length){const p=a(s,c,d,f-1);return p>d&&n(s[p-1],c)>-n(s[p],c)?p-1:p}return{left:a,center:o,right:i}}function RU(){return 0}function $A(e){return e===null?NaN:+e}function*MU(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const DU=um(sa),Ol=DU.right;um($A).center;class Jb extends Map{constructor(t,r=BU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Qb(this,t))}has(t){return super.has(Qb(this,t))}set(t,r){return super.set($U(this,t),r)}delete(t){return super.delete(NU(this,t))}}function Qb({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function $U({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function NU({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function BU(e){return e!==null&&typeof e=="object"?e.valueOf():e}function FU(e=sa){if(e===sa)return NA;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function NA(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const zU=Math.sqrt(50),UU=Math.sqrt(10),WU=Math.sqrt(2);function Ou(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=zU?10:i>=UU?5:i>=WU?2:1;let s,c,d;return a<0?(d=Math.pow(10,-a)/o,s=Math.round(e*d),c=Math.round(t*d),s/d<e&&++s,c/d>t&&--c,d=-d):(d=Math.pow(10,a)*o,s=Math.round(e/d),c=Math.round(t/d),s*d<e&&++s,c*d>t&&--c),c<s&&.5<=r&&r<2?Ou(e,t,r*2):[s,c,d]}function Wp(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Ou(t,e,r):Ou(e,t,r);if(!(i>=a))return[];const s=i-a+1,c=new Array(s);if(n)if(o<0)for(let d=0;d<s;++d)c[d]=(i-d)/-o;else for(let d=0;d<s;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<s;++d)c[d]=(a+d)/-o;else for(let d=0;d<s;++d)c[d]=(a+d)*o;return c}function Hp(e,t,r){return t=+t,e=+e,r=+r,Ou(e,t,r)[2]}function Kp(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Hp(t,e,r):Hp(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function e_(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function t_(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function BA(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?NA:FU(a);n>r;){if(n-r>600){const c=n-r+1,d=t-r+1,f=Math.log(c),p=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*p*(c-p)/c)*(d-c/2<0?-1:1),m=Math.max(r,Math.floor(t-d*p/c+g)),x=Math.min(n,Math.floor(t+(c-d)*p/c+g));BA(e,t,m,x,a)}const i=e[t];let o=r,s=n;for(Us(e,r,t),a(e[n],i)>0&&Us(e,r,n);o<s;){for(Us(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[r],i)===0?Us(e,r,s):(++s,Us(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Us(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function HU(e,t,r){if(e=Float64Array.from(MU(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return t_(e);if(t>=1)return e_(e);var n,a=(n-1)*t,i=Math.floor(a),o=e_(BA(e,i).subarray(0,i+1)),s=t_(e.subarray(i+1));return o+(s-o)*(a-i)}}function KU(e,t,r=$A){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),s=+r(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function ZU(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function vn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Bi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Zp=Symbol("implicit");function dm(){var e=new Jb,t=[],r=[],n=Zp;function a(i){let o=e.get(i);if(o===void 0){if(n!==Zp)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Jb;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return dm(t,r).unknown(n)},vn.apply(a,arguments),a}function fm(){var e=dm().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,s=!1,c=0,d=0,f=.5;delete e.unknown;function p(){var g=t().length,m=a<n,x=m?a:n,b=m?n:a;i=(b-x)/Math.max(1,g-c+d*2),s&&(i=Math.floor(i)),x+=(b-x-i*(g-c))*f,o=i*(1-c),s&&(x=Math.round(x),o=Math.round(o));var _=ZU(g).map(function(j){return x+i*j});return r(m?_.reverse():_)}return e.domain=function(g){return arguments.length?(t(g),p()):t()},e.range=function(g){return arguments.length?([n,a]=g,n=+n,a=+a,p()):[n,a]},e.rangeRound=function(g){return[n,a]=g,n=+n,a=+a,s=!0,p()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(g){return arguments.length?(s=!!g,p()):s},e.padding=function(g){return arguments.length?(c=Math.min(1,d=+g),p()):c},e.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),p()):c},e.paddingOuter=function(g){return arguments.length?(d=+g,p()):d},e.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),p()):f},e.copy=function(){return fm(t(),[n,a]).round(s).paddingInner(c).paddingOuter(d).align(f)},vn.apply(p(),arguments)}function FA(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return FA(t())},e}function GU(){return FA(fm.apply(null,arguments).paddingInner(1))}function hm(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function zA(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Pl(){}var ul=.7,Pu=1/ul,zo="\\s*([+-]?\\d+)\\s*",dl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",YU=/^#([0-9a-f]{3,8})$/,qU=new RegExp(`^rgb\\(${zo},${zo},${zo}\\)$`),VU=new RegExp(`^rgb\\(${Xn},${Xn},${Xn}\\)$`),XU=new RegExp(`^rgba\\(${zo},${zo},${zo},${dl}\\)$`),JU=new RegExp(`^rgba\\(${Xn},${Xn},${Xn},${dl}\\)$`),QU=new RegExp(`^hsl\\(${dl},${Xn},${Xn}\\)$`),e5=new RegExp(`^hsla\\(${dl},${Xn},${Xn},${dl}\\)$`),r_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hm(Pl,fl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:n_,formatHex:n_,formatHex8:t5,formatHsl:r5,formatRgb:i_,toString:i_});function n_(){return this.rgb().formatHex()}function t5(){return this.rgb().formatHex8()}function r5(){return UA(this).formatHsl()}function i_(){return this.rgb().formatRgb()}function fl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=YU.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?a_(t):r===3?new Sr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Wc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Wc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=qU.exec(e))?new Sr(t[1],t[2],t[3],1):(t=VU.exec(e))?new Sr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=XU.exec(e))?Wc(t[1],t[2],t[3],t[4]):(t=JU.exec(e))?Wc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=QU.exec(e))?l_(t[1],t[2]/100,t[3]/100,1):(t=e5.exec(e))?l_(t[1],t[2]/100,t[3]/100,t[4]):r_.hasOwnProperty(e)?a_(r_[e]):e==="transparent"?new Sr(NaN,NaN,NaN,0):null}function a_(e){return new Sr(e>>16&255,e>>8&255,e&255,1)}function Wc(e,t,r,n){return n<=0&&(e=t=r=NaN),new Sr(e,t,r,n)}function n5(e){return e instanceof Pl||(e=fl(e)),e?(e=e.rgb(),new Sr(e.r,e.g,e.b,e.opacity)):new Sr}function Gp(e,t,r,n){return arguments.length===1?n5(e):new Sr(e,t,r,n??1)}function Sr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}hm(Sr,Gp,zA(Pl,{brighter(e){return e=e==null?Pu:Math.pow(Pu,e),new Sr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ul:Math.pow(ul,e),new Sr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Sr(Ga(this.r),Ga(this.g),Ga(this.b),Eu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:o_,formatHex:o_,formatHex8:i5,formatRgb:s_,toString:s_}));function o_(){return`#${Na(this.r)}${Na(this.g)}${Na(this.b)}`}function i5(){return`#${Na(this.r)}${Na(this.g)}${Na(this.b)}${Na((isNaN(this.opacity)?1:this.opacity)*255)}`}function s_(){const e=Eu(this.opacity);return`${e===1?"rgb(":"rgba("}${Ga(this.r)}, ${Ga(this.g)}, ${Ga(this.b)}${e===1?")":`, ${e})`}`}function Eu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ga(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Na(e){return e=Ga(e),(e<16?"0":"")+e.toString(16)}function l_(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Tn(e,t,r,n)}function UA(e){if(e instanceof Tn)return new Tn(e.h,e.s,e.l,e.opacity);if(e instanceof Pl||(e=fl(e)),!e)return new Tn;if(e instanceof Tn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,c=(i+a)/2;return s?(t===i?o=(r-n)/s+(r<n)*6:r===i?o=(n-t)/s+2:o=(t-r)/s+4,s/=c<.5?i+a:2-i-a,o*=60):s=c>0&&c<1?0:o,new Tn(o,s,c,e.opacity)}function a5(e,t,r,n){return arguments.length===1?UA(e):new Tn(e,t,r,n??1)}function Tn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}hm(Tn,a5,zA(Pl,{brighter(e){return e=e==null?Pu:Math.pow(Pu,e),new Tn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ul:Math.pow(ul,e),new Tn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Sr(Nh(e>=240?e-240:e+120,a,n),Nh(e,a,n),Nh(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Tn(c_(this.h),Hc(this.s),Hc(this.l),Eu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Eu(this.opacity);return`${e===1?"hsl(":"hsla("}${c_(this.h)}, ${Hc(this.s)*100}%, ${Hc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function c_(e){return e=(e||0)%360,e<0?e+360:e}function Hc(e){return Math.max(0,Math.min(1,e||0))}function Nh(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const pm=e=>()=>e;function o5(e,t){return function(r){return e+r*t}}function s5(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function l5(e){return(e=+e)==1?WA:function(t,r){return r-t?s5(t,r,e):pm(isNaN(t)?r:t)}}function WA(e,t){var r=t-e;return r?o5(e,r):pm(isNaN(e)?t:e)}const u_=function e(t){var r=l5(t);function n(a,i){var o=r((a=Gp(a)).r,(i=Gp(i)).r),s=r(a.g,i.g),c=r(a.b,i.b),d=WA(a.opacity,i.opacity);return function(f){return a.r=o(f),a.g=s(f),a.b=c(f),a.opacity=d(f),a+""}}return n.gamma=e,n}(1);function c5(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function u5(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function d5(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=ss(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}function f5(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Tu(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function h5(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=ss(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Yp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bh=new RegExp(Yp.source,"g");function p5(e){return function(){return e}}function g5(e){return function(t){return e(t)+""}}function m5(e,t){var r=Yp.lastIndex=Bh.lastIndex=0,n,a,i,o=-1,s=[],c=[];for(e=e+"",t=t+"";(n=Yp.exec(e))&&(a=Bh.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,c.push({i:o,x:Tu(n,a)})),r=Bh.lastIndex;return r<t.length&&(i=t.slice(r),s[o]?s[o]+=i:s[++o]=i),s.length<2?c[0]?g5(c[0].x):p5(t):(t=c.length,function(d){for(var f=0,p;f<t;++f)s[(p=c[f]).i]=p.x(d);return s.join("")})}function ss(e,t){var r=typeof t,n;return t==null||r==="boolean"?pm(t):(r==="number"?Tu:r==="string"?(n=fl(t))?(t=n,u_):m5:t instanceof fl?u_:t instanceof Date?f5:u5(t)?c5:Array.isArray(t)?d5:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?h5:Tu)(e,t)}function gm(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function v5(e,t){t===void 0&&(t=e,e=ss);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[s](o-s)}}function y5(e){return function(){return e}}function Lu(e){return+e}var d_=[0,1];function dr(e){return e}function qp(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:y5(isNaN(t)?NaN:.5)}function x5(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function b5(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=qp(a,n),i=r(o,i)):(n=qp(n,a),i=r(i,o)),function(s){return i(n(s))}}function _5(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=qp(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(s){var c=Ol(e,s,1,n)-1;return i[c](a[c](s))}}function El(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function jd(){var e=d_,t=d_,r=ss,n,a,i,o=dr,s,c,d;function f(){var g=Math.min(e.length,t.length);return o!==dr&&(o=x5(e[0],e[g-1])),s=g>2?_5:b5,c=d=null,p}function p(g){return g==null||isNaN(g=+g)?i:(c||(c=s(e.map(n),t,r)))(n(o(g)))}return p.invert=function(g){return o(a((d||(d=s(t,e.map(n),Tu)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,Lu),f()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),f()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),r=gm,f()},p.clamp=function(g){return arguments.length?(o=g?!0:dr,f()):o!==dr},p.interpolate=function(g){return arguments.length?(r=g,f()):r},p.unknown=function(g){return arguments.length?(i=g,p):i},function(g,m){return n=g,a=m,f()}}function mm(){return jd()(dr,dr)}function w5(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ku(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Xo(e){return e=ku(Math.abs(e)),e?e[1]:NaN}function j5(e,t){return function(r,n){for(var a=r.length,i=[],o=0,s=e[0],c=0;a>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),i.push(r.substring(a-=s,a+s)),!((c+=s+1)>n));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function A5(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var S5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hl(e){if(!(t=S5.exec(e)))throw new Error("invalid format: "+e);var t;return new vm({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}hl.prototype=vm.prototype;function vm(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}vm.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function C5(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var HA;function O5(e,t){var r=ku(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(HA=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+ku(e,Math.max(0,t+i-1))[0]}function f_(e,t){var r=ku(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const h_={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:w5,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>f_(e*100,t),r:f_,s:O5,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function p_(e){return e}var g_=Array.prototype.map,m_=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function P5(e){var t=e.grouping===void 0||e.thousands===void 0?p_:j5(g_.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?p_:A5(g_.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(p){p=hl(p);var g=p.fill,m=p.align,x=p.sign,b=p.symbol,_=p.zero,j=p.width,A=p.comma,S=p.precision,C=p.trim,E=p.type;E==="n"?(A=!0,E="g"):h_[E]||(S===void 0&&(S=12),C=!0,E="g"),(_||g==="0"&&m==="=")&&(_=!0,g="0",m="=");var k=b==="$"?r:b==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",I=b==="$"?n:/[%p]/.test(E)?o:"",U=h_[E],V=/[defgprs%]/.test(E);S=S===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function re(te){var J=k,ne=I,fe,Q,G;if(E==="c")ne=U(te)+ne,te="";else{te=+te;var B=te<0||1/te<0;if(te=isNaN(te)?c:U(Math.abs(te),S),C&&(te=C5(te)),B&&+te==0&&x!=="+"&&(B=!1),J=(B?x==="("?x:s:x==="-"||x==="("?"":x)+J,ne=(E==="s"?m_[8+HA/3]:"")+ne+(B&&x==="("?")":""),V){for(fe=-1,Q=te.length;++fe<Q;)if(G=te.charCodeAt(fe),48>G||G>57){ne=(G===46?a+te.slice(fe+1):te.slice(fe))+ne,te=te.slice(0,fe);break}}}A&&!_&&(te=t(te,1/0));var X=J.length+te.length+ne.length,ae=X<j?new Array(j-X+1).join(g):"";switch(A&&_&&(te=t(ae+te,ae.length?j-ne.length:1/0),ae=""),m){case"<":te=J+te+ne+ae;break;case"=":te=J+ae+te+ne;break;case"^":te=ae.slice(0,X=ae.length>>1)+J+te+ne+ae.slice(X);break;default:te=ae+J+te+ne;break}return i(te)}return re.toString=function(){return p+""},re}function f(p,g){var m=d((p=hl(p),p.type="f",p)),x=Math.max(-8,Math.min(8,Math.floor(Xo(g)/3)))*3,b=Math.pow(10,-x),_=m_[8+x/3];return function(j){return m(b*j)+_}}return{format:d,formatPrefix:f}}var Kc,ym,KA;E5({thousands:",",grouping:[3],currency:["$",""]});function E5(e){return Kc=P5(e),ym=Kc.format,KA=Kc.formatPrefix,Kc}function T5(e){return Math.max(0,-Xo(Math.abs(e)))}function L5(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xo(t)/3)))*3-Xo(Math.abs(e)))}function k5(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Xo(t)-Xo(e))+1}function ZA(e,t,r,n){var a=Kp(e,t,r),i;switch(n=hl(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=L5(a,o))&&(n.precision=i),KA(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=k5(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=T5(a))&&(n.precision=i-(n.type==="%")*2);break}}return ym(n)}function ga(e){var t=e.domain;return e.ticks=function(r){var n=t();return Wp(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return ZA(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],s=n[i],c,d,f=10;for(s<o&&(d=o,o=s,s=d,d=a,a=i,i=d);f-- >0;){if(d=Hp(o,s,r),d===c)return n[a]=o,n[i]=s,t(n);if(d>0)o=Math.floor(o/d)*d,s=Math.ceil(s/d)*d;else if(d<0)o=Math.ceil(o*d)/d,s=Math.floor(s*d)/d;else break;c=d}return e},e}function GA(){var e=mm();return e.copy=function(){return El(e,GA())},vn.apply(e,arguments),ga(e)}function YA(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Lu),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return YA(e).unknown(t)},e=arguments.length?Array.from(e,Lu):[0,1],ga(r)}function qA(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function v_(e){return Math.log(e)}function y_(e){return Math.exp(e)}function I5(e){return-Math.log(-e)}function R5(e){return-Math.exp(-e)}function M5(e){return isFinite(e)?+("1e"+e):e<0?0:e}function D5(e){return e===10?M5:e===Math.E?Math.exp:t=>Math.pow(e,t)}function $5(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function x_(e){return(t,r)=>-e(-t,r)}function xm(e){const t=e(v_,y_),r=t.domain;let n=10,a,i;function o(){return a=$5(n),i=D5(n),r()[0]<0?(a=x_(a),i=x_(i),e(I5,R5)):e(v_,y_),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const c=r();let d=c[0],f=c[c.length-1];const p=f<d;p&&([d,f]=[f,d]);let g=a(d),m=a(f),x,b;const _=s==null?10:+s;let j=[];if(!(n%1)&&m-g<_){if(g=Math.floor(g),m=Math.ceil(m),d>0){for(;g<=m;++g)for(x=1;x<n;++x)if(b=g<0?x/i(-g):x*i(g),!(b<d)){if(b>f)break;j.push(b)}}else for(;g<=m;++g)for(x=n-1;x>=1;--x)if(b=g>0?x/i(-g):x*i(g),!(b<d)){if(b>f)break;j.push(b)}j.length*2<_&&(j=Wp(d,f,_))}else j=Wp(g,m,Math.min(m-g,_)).map(i);return p?j.reverse():j},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=hl(c)).precision==null&&(c.trim=!0),c=ym(c)),s===1/0)return c;const d=Math.max(1,n*s/t.ticks().length);return f=>{let p=f/i(Math.round(a(f)));return p*n<n-.5&&(p*=n),p<=d?c(f):""}},t.nice=()=>r(qA(r(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function VA(){const e=xm(jd()).domain([1,10]);return e.copy=()=>El(e,VA()).base(e.base()),vn.apply(e,arguments),e}function b_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function __(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function bm(e){var t=1,r=e(b_(t),__(t));return r.constant=function(n){return arguments.length?e(b_(t=+n),__(t)):t},ga(r)}function XA(){var e=bm(jd());return e.copy=function(){return El(e,XA()).constant(e.constant())},vn.apply(e,arguments)}function w_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function N5(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function B5(e){return e<0?-e*e:e*e}function _m(e){var t=e(dr,dr),r=1;function n(){return r===1?e(dr,dr):r===.5?e(N5,B5):e(w_(r),w_(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},ga(t)}function wm(){var e=_m(jd());return e.copy=function(){return El(e,wm()).exponent(e.exponent())},vn.apply(e,arguments),e}function F5(){return wm.apply(null,arguments).exponent(.5)}function j_(e){return Math.sign(e)*e*e}function z5(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function JA(){var e=mm(),t=[0,1],r=!1,n;function a(i){var o=z5(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(j_(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Lu)).map(j_)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return JA(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},vn.apply(a,arguments),ga(a)}function QA(){var e=[],t=[],r=[],n;function a(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=KU(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Ol(r,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(sa),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return QA().domain(e).range(t).unknown(n)},vn.apply(i,arguments)}function eS(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Ol(n,c,0,r)]:i}function s(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,s()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,s()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return eS().domain([e,t]).range(a).unknown(i)},vn.apply(ga(o),arguments)}function tS(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Ol(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return tS().domain(e).range(t).unknown(r)},vn.apply(a,arguments)}const Fh=new Date,zh=new Date;function $t(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const c=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return c;let d;do c.push(d=new Date(+i)),t(i,s),e(i);while(d<i&&i<o);return c},a.filter=i=>$t(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Fh.setTime(+i),zh.setTime(+o),e(Fh),e(zh),Math.floor(r(Fh,zh))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Iu=$t(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Iu.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?$t(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Iu);Iu.range;const wi=1e3,fn=wi*60,ji=fn*60,Li=ji*24,jm=Li*7,A_=Li*30,Uh=Li*365,Ba=$t(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*wi)},(e,t)=>(t-e)/wi,e=>e.getUTCSeconds());Ba.range;const Am=$t(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wi)},(e,t)=>{e.setTime(+e+t*fn)},(e,t)=>(t-e)/fn,e=>e.getMinutes());Am.range;const Sm=$t(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*fn)},(e,t)=>(t-e)/fn,e=>e.getUTCMinutes());Sm.range;const Cm=$t(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wi-e.getMinutes()*fn)},(e,t)=>{e.setTime(+e+t*ji)},(e,t)=>(t-e)/ji,e=>e.getHours());Cm.range;const Om=$t(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ji)},(e,t)=>(t-e)/ji,e=>e.getUTCHours());Om.range;const Tl=$t(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*fn)/Li,e=>e.getDate()-1);Tl.range;const Ad=$t(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Li,e=>e.getUTCDate()-1);Ad.range;const rS=$t(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Li,e=>Math.floor(e/Li));rS.range;function to(e){return $t(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*fn)/jm)}const Sd=to(0),Ru=to(1),U5=to(2),W5=to(3),Jo=to(4),H5=to(5),K5=to(6);Sd.range;Ru.range;U5.range;W5.range;Jo.range;H5.range;K5.range;function ro(e){return $t(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/jm)}const Cd=ro(0),Mu=ro(1),Z5=ro(2),G5=ro(3),Qo=ro(4),Y5=ro(5),q5=ro(6);Cd.range;Mu.range;Z5.range;G5.range;Qo.range;Y5.range;q5.range;const Pm=$t(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Pm.range;const Em=$t(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Em.range;const ki=$t(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ki.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$t(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ki.range;const Ii=$t(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ii.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$t(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ii.range;function nS(e,t,r,n,a,i){const o=[[Ba,1,wi],[Ba,5,5*wi],[Ba,15,15*wi],[Ba,30,30*wi],[i,1,fn],[i,5,5*fn],[i,15,15*fn],[i,30,30*fn],[a,1,ji],[a,3,3*ji],[a,6,6*ji],[a,12,12*ji],[n,1,Li],[n,2,2*Li],[r,1,jm],[t,1,A_],[t,3,3*A_],[e,1,Uh]];function s(d,f,p){const g=f<d;g&&([d,f]=[f,d]);const m=p&&typeof p.range=="function"?p:c(d,f,p),x=m?m.range(d,+f+1):[];return g?x.reverse():x}function c(d,f,p){const g=Math.abs(f-d)/p,m=um(([,,_])=>_).right(o,g);if(m===o.length)return e.every(Kp(d/Uh,f/Uh,p));if(m===0)return Iu.every(Math.max(Kp(d,f,p),1));const[x,b]=o[g/o[m-1][2]<o[m][2]/g?m-1:m];return x.every(b)}return[s,c]}const[V5,X5]=nS(Ii,Em,Cd,rS,Om,Sm),[J5,Q5]=nS(ki,Pm,Sd,Tl,Cm,Am);function Wh(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Hh(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ws(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function e6(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,c=e.shortMonths,d=Hs(a),f=Ks(a),p=Hs(i),g=Ks(i),m=Hs(o),x=Ks(o),b=Hs(s),_=Ks(s),j=Hs(c),A=Ks(c),S={a:B,A:X,b:ae,B:me,c:null,d:T_,e:T_,f:j6,g:I6,G:M6,H:b6,I:_6,j:w6,L:iS,m:A6,M:S6,p:$,q:N,Q:I_,s:R_,S:C6,u:O6,U:P6,V:E6,w:T6,W:L6,x:null,X:null,y:k6,Y:R6,Z:D6,"%":k_},C={a:Y,A:se,b:pe,B:Ce,c:null,d:L_,e:L_,f:F6,g:V6,G:J6,H:$6,I:N6,j:B6,L:oS,m:z6,M:U6,p:ot,q:Ye,Q:I_,s:R_,S:W6,u:H6,U:K6,V:Z6,w:G6,W:Y6,x:null,X:null,y:q6,Y:X6,Z:Q6,"%":k_},E={a:re,A:te,b:J,B:ne,c:fe,d:P_,e:P_,f:m6,g:O_,G:C_,H:E_,I:E_,j:f6,L:g6,m:d6,M:h6,p:V,q:u6,Q:y6,s:x6,S:p6,u:a6,U:o6,V:s6,w:i6,W:l6,x:Q,X:G,y:O_,Y:C_,Z:c6,"%":v6};S.x=k(r,S),S.X=k(n,S),S.c=k(t,S),C.x=k(r,C),C.X=k(n,C),C.c=k(t,C);function k(F,ge){return function(je){var ie=[],K=-1,q=0,be=F.length,We,le,Oe;for(je instanceof Date||(je=new Date(+je));++K<be;)F.charCodeAt(K)===37&&(ie.push(F.slice(q,K)),(le=S_[We=F.charAt(++K)])!=null?We=F.charAt(++K):le=We==="e"?" ":"0",(Oe=ge[We])&&(We=Oe(je,le)),ie.push(We),q=K+1);return ie.push(F.slice(q,K)),ie.join("")}}function I(F,ge){return function(je){var ie=Ws(1900,void 0,1),K=U(ie,F,je+="",0),q,be;if(K!=je.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(ge&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(q=Hh(Ws(ie.y,0,1)),be=q.getUTCDay(),q=be>4||be===0?Mu.ceil(q):Mu(q),q=Ad.offset(q,(ie.V-1)*7),ie.y=q.getUTCFullYear(),ie.m=q.getUTCMonth(),ie.d=q.getUTCDate()+(ie.w+6)%7):(q=Wh(Ws(ie.y,0,1)),be=q.getDay(),q=be>4||be===0?Ru.ceil(q):Ru(q),q=Tl.offset(q,(ie.V-1)*7),ie.y=q.getFullYear(),ie.m=q.getMonth(),ie.d=q.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),be="Z"in ie?Hh(Ws(ie.y,0,1)).getUTCDay():Wh(Ws(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(be+5)%7:ie.w+ie.U*7-(be+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,Hh(ie)):Wh(ie)}}function U(F,ge,je,ie){for(var K=0,q=ge.length,be=je.length,We,le;K<q;){if(ie>=be)return-1;if(We=ge.charCodeAt(K++),We===37){if(We=ge.charAt(K++),le=E[We in S_?ge.charAt(K++):We],!le||(ie=le(F,je,ie))<0)return-1}else if(We!=je.charCodeAt(ie++))return-1}return ie}function V(F,ge,je){var ie=d.exec(ge.slice(je));return ie?(F.p=f.get(ie[0].toLowerCase()),je+ie[0].length):-1}function re(F,ge,je){var ie=m.exec(ge.slice(je));return ie?(F.w=x.get(ie[0].toLowerCase()),je+ie[0].length):-1}function te(F,ge,je){var ie=p.exec(ge.slice(je));return ie?(F.w=g.get(ie[0].toLowerCase()),je+ie[0].length):-1}function J(F,ge,je){var ie=j.exec(ge.slice(je));return ie?(F.m=A.get(ie[0].toLowerCase()),je+ie[0].length):-1}function ne(F,ge,je){var ie=b.exec(ge.slice(je));return ie?(F.m=_.get(ie[0].toLowerCase()),je+ie[0].length):-1}function fe(F,ge,je){return U(F,t,ge,je)}function Q(F,ge,je){return U(F,r,ge,je)}function G(F,ge,je){return U(F,n,ge,je)}function B(F){return o[F.getDay()]}function X(F){return i[F.getDay()]}function ae(F){return c[F.getMonth()]}function me(F){return s[F.getMonth()]}function $(F){return a[+(F.getHours()>=12)]}function N(F){return 1+~~(F.getMonth()/3)}function Y(F){return o[F.getUTCDay()]}function se(F){return i[F.getUTCDay()]}function pe(F){return c[F.getUTCMonth()]}function Ce(F){return s[F.getUTCMonth()]}function ot(F){return a[+(F.getUTCHours()>=12)]}function Ye(F){return 1+~~(F.getUTCMonth()/3)}return{format:function(F){var ge=k(F+="",S);return ge.toString=function(){return F},ge},parse:function(F){var ge=I(F+="",!1);return ge.toString=function(){return F},ge},utcFormat:function(F){var ge=k(F+="",C);return ge.toString=function(){return F},ge},utcParse:function(F){var ge=I(F+="",!0);return ge.toString=function(){return F},ge}}}var S_={"-":"",_:" ",0:"0"},Wt=/^\s*\d+/,t6=/^%/,r6=/[\\^$*+?|[\]().{}]/g;function Xe(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function n6(e){return e.replace(r6,"\\$&")}function Hs(e){return new RegExp("^(?:"+e.map(n6).join("|")+")","i")}function Ks(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function i6(e,t,r){var n=Wt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function a6(e,t,r){var n=Wt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function o6(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function s6(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function l6(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function C_(e,t,r){var n=Wt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function O_(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function c6(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function u6(e,t,r){var n=Wt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function d6(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function P_(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function f6(e,t,r){var n=Wt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function E_(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function h6(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function p6(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function g6(e,t,r){var n=Wt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function m6(e,t,r){var n=Wt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function v6(e,t,r){var n=t6.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function y6(e,t,r){var n=Wt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function x6(e,t,r){var n=Wt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function T_(e,t){return Xe(e.getDate(),t,2)}function b6(e,t){return Xe(e.getHours(),t,2)}function _6(e,t){return Xe(e.getHours()%12||12,t,2)}function w6(e,t){return Xe(1+Tl.count(ki(e),e),t,3)}function iS(e,t){return Xe(e.getMilliseconds(),t,3)}function j6(e,t){return iS(e,t)+"000"}function A6(e,t){return Xe(e.getMonth()+1,t,2)}function S6(e,t){return Xe(e.getMinutes(),t,2)}function C6(e,t){return Xe(e.getSeconds(),t,2)}function O6(e){var t=e.getDay();return t===0?7:t}function P6(e,t){return Xe(Sd.count(ki(e)-1,e),t,2)}function aS(e){var t=e.getDay();return t>=4||t===0?Jo(e):Jo.ceil(e)}function E6(e,t){return e=aS(e),Xe(Jo.count(ki(e),e)+(ki(e).getDay()===4),t,2)}function T6(e){return e.getDay()}function L6(e,t){return Xe(Ru.count(ki(e)-1,e),t,2)}function k6(e,t){return Xe(e.getFullYear()%100,t,2)}function I6(e,t){return e=aS(e),Xe(e.getFullYear()%100,t,2)}function R6(e,t){return Xe(e.getFullYear()%1e4,t,4)}function M6(e,t){var r=e.getDay();return e=r>=4||r===0?Jo(e):Jo.ceil(e),Xe(e.getFullYear()%1e4,t,4)}function D6(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Xe(t/60|0,"0",2)+Xe(t%60,"0",2)}function L_(e,t){return Xe(e.getUTCDate(),t,2)}function $6(e,t){return Xe(e.getUTCHours(),t,2)}function N6(e,t){return Xe(e.getUTCHours()%12||12,t,2)}function B6(e,t){return Xe(1+Ad.count(Ii(e),e),t,3)}function oS(e,t){return Xe(e.getUTCMilliseconds(),t,3)}function F6(e,t){return oS(e,t)+"000"}function z6(e,t){return Xe(e.getUTCMonth()+1,t,2)}function U6(e,t){return Xe(e.getUTCMinutes(),t,2)}function W6(e,t){return Xe(e.getUTCSeconds(),t,2)}function H6(e){var t=e.getUTCDay();return t===0?7:t}function K6(e,t){return Xe(Cd.count(Ii(e)-1,e),t,2)}function sS(e){var t=e.getUTCDay();return t>=4||t===0?Qo(e):Qo.ceil(e)}function Z6(e,t){return e=sS(e),Xe(Qo.count(Ii(e),e)+(Ii(e).getUTCDay()===4),t,2)}function G6(e){return e.getUTCDay()}function Y6(e,t){return Xe(Mu.count(Ii(e)-1,e),t,2)}function q6(e,t){return Xe(e.getUTCFullYear()%100,t,2)}function V6(e,t){return e=sS(e),Xe(e.getUTCFullYear()%100,t,2)}function X6(e,t){return Xe(e.getUTCFullYear()%1e4,t,4)}function J6(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Qo(e):Qo.ceil(e),Xe(e.getUTCFullYear()%1e4,t,4)}function Q6(){return"+0000"}function k_(){return"%"}function I_(e){return+e}function R_(e){return Math.floor(+e/1e3)}var Eo,lS,cS;eW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function eW(e){return Eo=e6(e),lS=Eo.format,Eo.parse,cS=Eo.utcFormat,Eo.utcParse,Eo}function tW(e){return new Date(e)}function rW(e){return e instanceof Date?+e:+new Date(+e)}function Tm(e,t,r,n,a,i,o,s,c,d){var f=mm(),p=f.invert,g=f.domain,m=d(".%L"),x=d(":%S"),b=d("%I:%M"),_=d("%I %p"),j=d("%a %d"),A=d("%b %d"),S=d("%B"),C=d("%Y");function E(k){return(c(k)<k?m:s(k)<k?x:o(k)<k?b:i(k)<k?_:n(k)<k?a(k)<k?j:A:r(k)<k?S:C)(k)}return f.invert=function(k){return new Date(p(k))},f.domain=function(k){return arguments.length?g(Array.from(k,rW)):g().map(tW)},f.ticks=function(k){var I=g();return e(I[0],I[I.length-1],k??10)},f.tickFormat=function(k,I){return I==null?E:d(I)},f.nice=function(k){var I=g();return(!k||typeof k.range!="function")&&(k=t(I[0],I[I.length-1],k??10)),k?g(qA(I,k)):f},f.copy=function(){return El(f,Tm(e,t,r,n,a,i,o,s,c,d))},f}function nW(){return vn.apply(Tm(J5,Q5,ki,Pm,Sd,Tl,Cm,Am,Ba,lS).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function iW(){return vn.apply(Tm(V5,X5,Ii,Em,Cd,Ad,Om,Sm,Ba,cS).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Od(){var e=0,t=1,r,n,a,i,o=dr,s=!1,c;function d(p){return p==null||isNaN(p=+p)?c:o(a===0?.5:(p=(i(p)-r)*a,s?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([e,t]=p,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(p){return arguments.length?(s=!!p,d):s},d.interpolator=function(p){return arguments.length?(o=p,d):o};function f(p){return function(g){var m,x;return arguments.length?([m,x]=g,o=p(m,x),d):[o(0),o(1)]}}return d.range=f(ss),d.rangeRound=f(gm),d.unknown=function(p){return arguments.length?(c=p,d):c},function(p){return i=p,r=p(e),n=p(t),a=r===n?0:1/(n-r),d}}function ma(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function uS(){var e=ga(Od()(dr));return e.copy=function(){return ma(e,uS())},Bi.apply(e,arguments)}function dS(){var e=xm(Od()).domain([1,10]);return e.copy=function(){return ma(e,dS()).base(e.base())},Bi.apply(e,arguments)}function fS(){var e=bm(Od());return e.copy=function(){return ma(e,fS()).constant(e.constant())},Bi.apply(e,arguments)}function Lm(){var e=_m(Od());return e.copy=function(){return ma(e,Lm()).exponent(e.exponent())},Bi.apply(e,arguments)}function aW(){return Lm.apply(null,arguments).exponent(.5)}function hS(){var e=[],t=dr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Ol(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(sa),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>HU(e,i/n))},r.copy=function(){return hS(t).domain(e)},Bi.apply(r,arguments)}function Pd(){var e=0,t=.5,r=1,n=1,a,i,o,s,c,d=dr,f,p=!1,g;function m(b){return isNaN(b=+b)?g:(b=.5+((b=+f(b))-i)*(n*b<n*i?s:c),d(p?Math.max(0,Math.min(1,b)):b))}m.domain=function(b){return arguments.length?([e,t,r]=b,a=f(e=+e),i=f(t=+t),o=f(r=+r),s=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(b){return arguments.length?(p=!!b,m):p},m.interpolator=function(b){return arguments.length?(d=b,m):d};function x(b){return function(_){var j,A,S;return arguments.length?([j,A,S]=_,d=v5(b,[j,A,S]),m):[d(0),d(.5),d(1)]}}return m.range=x(ss),m.rangeRound=x(gm),m.unknown=function(b){return arguments.length?(g=b,m):g},function(b){return f=b,a=b(e),i=b(t),o=b(r),s=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function pS(){var e=ga(Pd()(dr));return e.copy=function(){return ma(e,pS())},Bi.apply(e,arguments)}function gS(){var e=xm(Pd()).domain([.1,1,10]);return e.copy=function(){return ma(e,gS()).base(e.base())},Bi.apply(e,arguments)}function mS(){var e=bm(Pd());return e.copy=function(){return ma(e,mS()).constant(e.constant())},Bi.apply(e,arguments)}function km(){var e=_m(Pd());return e.copy=function(){return ma(e,km()).exponent(e.exponent())},Bi.apply(e,arguments)}function oW(){return km.apply(null,arguments).exponent(.5)}const Vs=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:fm,scaleDiverging:pS,scaleDivergingLog:gS,scaleDivergingPow:km,scaleDivergingSqrt:oW,scaleDivergingSymlog:mS,scaleIdentity:YA,scaleImplicit:Zp,scaleLinear:GA,scaleLog:VA,scaleOrdinal:dm,scalePoint:GU,scalePow:wm,scaleQuantile:QA,scaleQuantize:eS,scaleRadial:JA,scaleSequential:uS,scaleSequentialLog:dS,scaleSequentialPow:Lm,scaleSequentialQuantile:hS,scaleSequentialSqrt:aW,scaleSequentialSymlog:fS,scaleSqrt:F5,scaleSymlog:XA,scaleThreshold:tS,scaleTime:nW,scaleUtc:iW,tickFormat:ZA},Symbol.toStringTag,{value:"Module"}));var no=e=>e.chartData,Ed=Z([no],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Td=(e,t,r,n)=>n?Ed(e):no(e);function es(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Jt(t)&&Jt(r))return!0}return!1}function M_(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function sW(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Jt(r))a=r;else if(typeof r=="function")return;if(Jt(n))i=n;else if(typeof n=="function")return;var o=[a,i];if(es(o))return o}}function lW(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(es(n))return M_(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,s;if(a==="auto")t!=null&&(o=Math.min(...t));else if(ye(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t?.[0]))}catch{}else if(typeof a=="string"&&Lb.test(a)){var c=Lb.exec(a);if(c==null||t==null)o=void 0;else{var d=+c[1];o=t[0]-d}}else o=t?.[0];if(i==="auto")t!=null&&(s=Math.max(...t));else if(ye(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t?.[1]))}catch{}else if(typeof i=="string"&&kb.test(i)){var f=kb.exec(i);if(f==null||t==null)s=void 0;else{var p=+f[1];s=t[1]+p}}else s=t?.[1];var g=[o,s];if(es(g))return t==null?g:M_(g,t,r)}}}var ls=1e9,cW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Rm,vt=!0,pn="[DecimalError] ",Ya=pn+"Invalid argument: ",Im=pn+"Exponent out of range: ",cs=Math.floor,Ra=Math.pow,uW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fr,Bt=1e7,pt=7,vS=9007199254740991,Du=cs(vS/pt),we={};we.absoluteValue=we.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};we.comparedTo=we.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};we.decimalPlaces=we.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*pt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};we.dividedBy=we.div=function(e){return Ci(this,new this.constructor(e))};we.dividedToIntegerBy=we.idiv=function(e){var t=this,r=t.constructor;return ct(Ci(t,new r(e),0,1),r.precision)};we.equals=we.eq=function(e){return!this.cmp(e)};we.exponent=function(){return Lt(this)};we.greaterThan=we.gt=function(e){return this.cmp(e)>0};we.greaterThanOrEqualTo=we.gte=function(e){return this.cmp(e)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(e){return this.cmp(e)<0};we.lessThanOrEqualTo=we.lte=function(e){return this.cmp(e)<1};we.logarithm=we.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Fr))throw Error(pn+"NaN");if(r.s<1)throw Error(pn+(r.s?"NaN":"-Infinity"));return r.eq(Fr)?new n(0):(vt=!1,t=Ci(pl(r,i),pl(e,i),i),vt=!0,ct(t,a))};we.minus=we.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?bS(t,e):yS(t,(e.s=-e.s,e))};we.modulo=we.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(pn+"NaN");return r.s?(vt=!1,t=Ci(r,e,0,1).times(e),vt=!0,r.minus(t)):ct(new n(r),a)};we.naturalExponential=we.exp=function(){return xS(this)};we.naturalLogarithm=we.ln=function(){return pl(this)};we.negated=we.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};we.plus=we.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?yS(t,e):bS(t,(e.s=-e.s,e))};we.precision=we.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ya+e);if(t=Lt(a)+1,n=a.d.length-1,r=n*pt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};we.squareRoot=we.sqrt=function(){var e,t,r,n,a,i,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(pn+"NaN")}for(e=Lt(s),vt=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Kn(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=cs((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Ci(s,i,o+2)).times(.5),Kn(i.d).slice(0,o)===(t=Kn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(ct(i,r+1,0),i.times(i).eq(s)){n=i;break}}else if(t!="9999")break;o+=4}return vt=!0,ct(n,r)};we.times=we.mul=function(e){var t,r,n,a,i,o,s,c,d,f=this,p=f.constructor,g=f.d,m=(e=new p(e)).d;if(!f.s||!e.s)return new p(0);for(e.s*=f.s,r=f.e+e.e,c=g.length,d=m.length,c<d&&(i=g,g=m,m=i,o=c,c=d,d=o),i=[],o=c+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(t=0,a=c+n;a>n;)s=i[a]+m[n]*g[a-n-1]+t,i[a--]=s%Bt|0,t=s/Bt|0;i[a]=(i[a]+t)%Bt|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,vt?ct(e,p.precision):e};we.toDecimalPlaces=we.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ti(e,0,ls),t===void 0?t=n.rounding:ti(t,0,8),ct(r,e+Lt(r)+1,t))};we.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Ja(n,!0):(ti(e,0,ls),t===void 0?t=a.rounding:ti(t,0,8),n=ct(new a(n),e+1,t),r=Ja(n,!0,e+1)),r};we.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Ja(a):(ti(e,0,ls),t===void 0?t=i.rounding:ti(t,0,8),n=ct(new i(a),e+Lt(a)+1,t),r=Ja(n.abs(),!1,e+Lt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};we.toInteger=we.toint=function(){var e=this,t=e.constructor;return ct(new t(e),Lt(e)+1,t.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(e){var t,r,n,a,i,o,s=this,c=s.constructor,d=12,f=+(e=new c(e));if(!e.s)return new c(Fr);if(s=new c(s),!s.s){if(e.s<1)throw Error(pn+"Infinity");return s}if(s.eq(Fr))return s;if(n=c.precision,e.eq(Fr))return ct(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=s.s,o){if((r=f<0?-f:f)<=vS){for(a=new c(Fr),t=Math.ceil(n/pt+4),vt=!1;r%2&&(a=a.times(s),$_(a.d,t)),r=cs(r/2),r!==0;)s=s.times(s),$_(s.d,t);return vt=!0,e.s<0?new c(Fr).div(a):ct(a,n)}}else if(i<0)throw Error(pn+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,vt=!1,a=e.times(pl(s,n+d)),vt=!0,a=xS(a),a.s=i,a};we.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Lt(a),n=Ja(a,r<=i.toExpNeg||r>=i.toExpPos)):(ti(e,1,ls),t===void 0?t=i.rounding:ti(t,0,8),a=ct(new i(a),e,t),r=Lt(a),n=Ja(a,e<=r||r<=i.toExpNeg,e)),n};we.toSignificantDigits=we.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ti(e,1,ls),t===void 0?t=n.rounding:ti(t,0,8)),ct(new n(r),e,t)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Lt(e),r=e.constructor;return Ja(e,t<=r.toExpNeg||t>=r.toExpPos)};function yS(e,t){var r,n,a,i,o,s,c,d,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),vt?ct(t,p):t;if(c=e.d,d=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,s=d.length):(n=d,a=o,s=c.length),o=Math.ceil(p/pt),s=o>s?o+1:s+1,i>s&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(s=c.length,i=d.length,s-i<0&&(i=s,n=d,d=c,c=n),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/Bt|0,c[i]%=Bt;for(r&&(c.unshift(r),++a),s=c.length;c[--s]==0;)c.pop();return t.d=c,t.e=a,vt?ct(t,p):t}function ti(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ya+e)}function Kn(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=pt-n.length,r&&(i+=ra(r)),i+=n;o=e[t],n=o+"",r=pt-n.length,r&&(i+=ra(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ci=function(){function e(n,a){var i,o=0,s=n.length;for(n=n.slice();s--;)i=n[s]*a+o,n[s]=i%Bt|0,o=i/Bt|0;return o&&n.unshift(o),n}function t(n,a,i,o){var s,c;if(i!=o)c=i>o?1:-1;else for(s=c=0;s<i;s++)if(n[s]!=a[s]){c=n[s]>a[s]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Bt+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var s,c,d,f,p,g,m,x,b,_,j,A,S,C,E,k,I,U,V=n.constructor,re=n.s==a.s?1:-1,te=n.d,J=a.d;if(!n.s)return new V(n);if(!a.s)throw Error(pn+"Division by zero");for(c=n.e-a.e,I=J.length,E=te.length,m=new V(re),x=m.d=[],d=0;J[d]==(te[d]||0);)++d;if(J[d]>(te[d]||0)&&--c,i==null?A=i=V.precision:o?A=i+(Lt(n)-Lt(a))+1:A=i,A<0)return new V(0);if(A=A/pt+2|0,d=0,I==1)for(f=0,J=J[0],A++;(d<E||f)&&A--;d++)S=f*Bt+(te[d]||0),x[d]=S/J|0,f=S%J|0;else{for(f=Bt/(J[0]+1)|0,f>1&&(J=e(J,f),te=e(te,f),I=J.length,E=te.length),C=I,b=te.slice(0,I),_=b.length;_<I;)b[_++]=0;U=J.slice(),U.unshift(0),k=J[0],J[1]>=Bt/2&&++k;do f=0,s=t(J,b,I,_),s<0?(j=b[0],I!=_&&(j=j*Bt+(b[1]||0)),f=j/k|0,f>1?(f>=Bt&&(f=Bt-1),p=e(J,f),g=p.length,_=b.length,s=t(p,b,g,_),s==1&&(f--,r(p,I<g?U:J,g))):(f==0&&(s=f=1),p=J.slice()),g=p.length,g<_&&p.unshift(0),r(b,p,_),s==-1&&(_=b.length,s=t(J,b,I,_),s<1&&(f++,r(b,I<_?U:J,_))),_=b.length):s===0&&(f++,b=[0]),x[d++]=f,s&&b[0]?b[_++]=te[C]||0:(b=[te[C]],_=1);while((C++<E||b[0]!==void 0)&&A--)}return x[0]||x.shift(),m.e=c,ct(m,o?i+Lt(m)+1:i)}}();function xS(e,t){var r,n,a,i,o,s,c=0,d=0,f=e.constructor,p=f.precision;if(Lt(e)>16)throw Error(Im+Lt(e));if(!e.s)return new f(Fr);for(vt=!1,s=p,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(n=Math.log(Ra(2,d))/Math.LN10*2+5|0,s+=n,r=a=i=new f(Fr),f.precision=s;;){if(a=ct(a.times(e),s),r=r.times(++c),o=i.plus(Ci(a,r,s)),Kn(o.d).slice(0,s)===Kn(i.d).slice(0,s)){for(;d--;)i=ct(i.times(i),s);return f.precision=p,t==null?(vt=!0,ct(i,p)):i}i=o}}function Lt(e){for(var t=e.e*pt,r=e.d[0];r>=10;r/=10)t++;return t}function Kh(e,t,r){if(t>e.LN10.sd())throw vt=!0,r&&(e.precision=r),Error(pn+"LN10 precision limit exceeded");return ct(new e(e.LN10),t)}function ra(e){for(var t="";e--;)t+="0";return t}function pl(e,t){var r,n,a,i,o,s,c,d,f,p=1,g=10,m=e,x=m.d,b=m.constructor,_=b.precision;if(m.s<1)throw Error(pn+(m.s?"NaN":"-Infinity"));if(m.eq(Fr))return new b(0);if(t==null?(vt=!1,d=_):d=t,m.eq(10))return t==null&&(vt=!0),Kh(b,d);if(d+=g,b.precision=d,r=Kn(x),n=r.charAt(0),i=Lt(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Kn(m.d),n=r.charAt(0),p++;i=Lt(m),n>1?(m=new b("0."+r),i++):m=new b(n+"."+r.slice(1))}else return c=Kh(b,d+2,_).times(i+""),m=pl(new b(n+"."+r.slice(1)),d-g).plus(c),b.precision=_,t==null?(vt=!0,ct(m,_)):m;for(s=o=m=Ci(m.minus(Fr),m.plus(Fr),d),f=ct(m.times(m),d),a=3;;){if(o=ct(o.times(f),d),c=s.plus(Ci(o,new b(a),d)),Kn(c.d).slice(0,d)===Kn(s.d).slice(0,d))return s=s.times(2),i!==0&&(s=s.plus(Kh(b,d+2,_).times(i+""))),s=Ci(s,new b(p),d),b.precision=_,t==null?(vt=!0,ct(s,_)):s;s=c,a+=2}}function D_(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=cs(r/pt),e.d=[],n=(r+1)%pt,r<0&&(n+=pt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=pt;n<a;)e.d.push(+t.slice(n,n+=pt));t=t.slice(n),n=pt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),vt&&(e.e>Du||e.e<-Du))throw Error(Im+r)}else e.s=0,e.e=0,e.d=[0];return e}function ct(e,t,r){var n,a,i,o,s,c,d,f,p=e.d;for(o=1,i=p[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=pt,a=t,d=p[f=0];else{if(f=Math.ceil((n+1)/pt),i=p.length,f>=i)return e;for(d=i=p[f],o=1;i>=10;i/=10)o++;n%=pt,a=n-pt+o}if(r!==void 0&&(i=Ra(10,o-a-1),s=d/i%10|0,c=t<0||p[f+1]!==void 0||d%i,c=r<4?(s||c)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||c||r==6&&(n>0?a>0?d/Ra(10,o-a):0:p[f-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return c?(i=Lt(e),p.length=1,t=t-i-1,p[0]=Ra(10,(pt-t%pt)%pt),e.e=cs(-t/pt)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=f,i=1,f--):(p.length=f+1,i=Ra(10,pt-n),p[f]=a>0?(d/Ra(10,o-a)%Ra(10,a)|0)*i:0),c)for(;;)if(f==0){(p[0]+=i)==Bt&&(p[0]=1,++e.e);break}else{if(p[f]+=i,p[f]!=Bt)break;p[f--]=0,i=1}for(n=p.length;p[--n]===0;)p.pop();if(vt&&(e.e>Du||e.e<-Du))throw Error(Im+Lt(e));return e}function bS(e,t){var r,n,a,i,o,s,c,d,f,p,g=e.constructor,m=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),vt?ct(t,m):t;if(c=e.d,p=t.d,n=t.e,d=e.e,c=c.slice(),o=d-n,o){for(f=o<0,f?(r=c,o=-o,s=p.length):(r=p,n=d,s=c.length),a=Math.max(Math.ceil(m/pt),s)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,s=p.length,f=a<s,f&&(s=a),a=0;a<s;a++)if(c[a]!=p[a]){f=c[a]<p[a];break}o=0}for(f&&(r=c,c=p,p=r,t.s=-t.s),s=c.length,a=p.length-s;a>0;--a)c[s++]=0;for(a=p.length;a>o;){if(c[--a]<p[a]){for(i=a;i&&c[--i]===0;)c[i]=Bt-1;--c[i],c[a]+=Bt}c[a]-=p[a]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,vt?ct(t,m):t):new g(0)}function Ja(e,t,r){var n,a=Lt(e),i=Kn(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ra(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ra(-a-1)+i,r&&(n=r-o)>0&&(i+=ra(n))):a>=o?(i+=ra(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+ra(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=ra(n))),e.s<0?"-"+i:i}function $_(e,t){if(e.length>t)return e.length=t,!0}function _S(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ya+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return D_(o,i.toString())}else if(typeof i!="string")throw Error(Ya+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,uW.test(i))D_(o,i);else throw Error(Ya+i)}if(a.prototype=we,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=_S,a.config=a.set=dW,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function dW(e){if(!e||typeof e!="object")throw Error(pn+"Object expected");var t,r,n,a=["precision",1,ls,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(cs(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ya+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ya+r+": "+n);return this}var Rm=_S(cW);Fr=new Rm(1);const it=Rm;var fW=e=>e,wS={},jS=e=>e===wS,N_=e=>function t(){return arguments.length===0||arguments.length===1&&jS(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},AS=(e,t)=>e===1?t:N_(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(o=>o!==wS).length;return i>=e?t(...n):AS(e-i,N_(function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];var d=n.map(f=>jS(f)?s.shift():f);return t(...d,...s)}))}),Ld=e=>AS(e.length,e),Vp=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},hW=Ld((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),pW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return fW;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((s,c)=>c(s),i(...arguments))}},Xp=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),SS=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((o,s)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[s])})||(t=a,r=e(...a)),r}};function CS(e){var t;return e===0?t=1:t=Math.floor(new it(e).abs().log(10).toNumber())+1,t}function OS(e,t,r){for(var n=new it(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}Ld((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});Ld((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Ld((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var PS=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},ES=(e,t,r)=>{if(e.lte(0))return new it(0);var n=CS(e.toNumber()),a=new it(10).pow(n),i=e.div(a),o=n!==1?.05:.1,s=new it(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=s.mul(a);return t?new it(c.toNumber()):new it(Math.ceil(c.toNumber()))},gW=(e,t,r)=>{var n=new it(1),a=new it(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new it(10).pow(CS(e)-1),a=new it(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new it(Math.floor(e)))}else e===0?a=new it(Math.floor((t-1)/2)):r||(a=new it(Math.floor(e)));var o=Math.floor((t-1)/2),s=pW(hW(c=>a.add(new it(c-o).mul(n)).toNumber()),Vp);return s(0,t)},TS=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new it(0),tickMin:new it(0),tickMax:new it(0)};var o=ES(new it(r).sub(t).div(n-1),a,i),s;t<=0&&r>=0?s=new it(0):(s=new it(t).add(r).div(2),s=s.sub(new it(s).mod(o)));var c=Math.ceil(s.sub(t).div(o).toNumber()),d=Math.ceil(new it(r).sub(s).div(o).toNumber()),f=c+d+1;return f>n?TS(t,r,n,a,i+1):(f<n&&(d=r>0?d+(n-f):d,c=r>0?c:c+(n-f)),{step:o,tickMin:s.sub(new it(c).mul(o)),tickMax:s.add(new it(d).mul(o))})};function mW(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[o,s]=PS([t,r]);if(o===-1/0||s===1/0){var c=s===1/0?[o,...Vp(0,n-1).map(()=>1/0)]:[...Vp(0,n-1).map(()=>-1/0),s];return t>r?Xp(c):c}if(o===s)return gW(o,n,a);var{step:d,tickMin:f,tickMax:p}=TS(o,s,i,a,0),g=OS(f,p.add(new it(.1).mul(d)),d);return t>r?Xp(g):g}function vW(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=PS([r,n]);if(i===-1/0||o===1/0)return[r,n];if(i===o)return[i];var s=Math.max(t,2),c=ES(new it(o).sub(i).div(s-1),a,0),d=[...OS(new it(i),new it(o),c),o];return a===!1&&(d=d.map(f=>Math.round(f))),r>n?Xp(d):d}var yW=SS(mW),xW=SS(vW),LS=e=>e.rootProps.maxBarSize,bW=e=>e.rootProps.barGap,kS=e=>e.rootProps.barCategoryGap,_W=e=>e.rootProps.barSize,Ll=e=>e.rootProps.stackOffset,Mm=e=>e.options.chartName,Dm=e=>e.rootProps.syncId,IS=e=>e.rootProps.syncMethod,$m=e=>e.options.eventEmitter,Fn={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},wr={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},kd=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},wW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Fn.angleAxisId,includeHidden:!1,name:void 0,reversed:Fn.reversed,scale:Fn.scale,tick:Fn.tick,tickCount:void 0,ticks:void 0,type:Fn.type,unit:void 0},jW={allowDataOverflow:wr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:wr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:wr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:wr.scale,tick:wr.tick,tickCount:wr.tickCount,ticks:void 0,type:wr.type,unit:void 0},AW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Fn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fn.scale,tick:Fn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},SW={allowDataOverflow:wr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:wr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:wr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:wr.scale,tick:wr.tick,tickCount:wr.tickCount,ticks:void 0,type:"category",unit:void 0},us=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?AW:wW,kl=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?SW:jW,Id=e=>e.polarOptions,Nm=Z([Di,$i,Dt],cA),RS=Z([Id,Nm],(e,t)=>{if(e!=null)return pr(e.innerRadius,t,0)}),MS=Z([Id,Nm],(e,t)=>{if(e!=null)return pr(e.outerRadius,t,t*.8)}),CW=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},DS=Z([Id],CW),OW=Z([us,DS],kd),$S=Z([Nm,RS,MS],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]}),PW=Z([kl,$S],kd),Il=Z([Ue,Id,RS,MS,Di,$i],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:s,startAngle:c,endAngle:d}=t;return{cx:pr(o,a,a/2),cy:pr(s,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:d,clockWise:!1}}}),yt=(e,t)=>t,Rl=(e,t,r)=>r;function B_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $u(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B_(Object(r),!0).forEach(function(n){EW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EW(e,t,r){return(t=TW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TW(e){var t=LW(e,"string");return typeof t=="symbol"?t:t+""}function LW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jp=[0,"auto"],Mr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Fi=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??Mr},Dr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Jp,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:bd},va=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??Dr},kW={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Bm=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??kW},Et=(e,t,r)=>{switch(t){case"xAxis":return Fi(e,r);case"yAxis":return va(e,r);case"zAxis":return Bm(e,r);case"angleAxis":return us(e,r);case"radiusAxis":return kl(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},IW=(e,t,r)=>{switch(t){case"xAxis":return Fi(e,r);case"yAxis":return va(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ds=(e,t,r)=>{switch(t){case"xAxis":return Fi(e,r);case"yAxis":return va(e,r);case"angleAxis":return us(e,r);case"radiusAxis":return kl(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},NS=e=>e.graphicalItems.countOfBars>0;function Fm(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Ml=e=>e.graphicalItems.cartesianItems,RW=Z([yt,Rl],Fm),zm=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Dl=Z([Ml,Et,RW],zm),BS=e=>e.filter(t=>t.stackId===void 0),MW=Z([Dl],BS),Um=e=>e.map(t=>t.data).filter(Boolean).flat(1),DW=Z([Dl],Um),Wm=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Rd=Z([DW,Td],Wm),Hm=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:at(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:at(a,n)}))):e.map(n=>({value:n})),Md=Z([Rd,Et,Dl],Hm);function FS(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function io(e){return e.filter(t=>Qn(t)||t instanceof Date).map(Number).filter(t=>Cr(t)===!1)}function $W(e,t,r){return!r||typeof t!="number"||Cr(t)?[]:r.length?io(r.flatMap(n=>{var a=at(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!Jt(i)||!Jt(o)))return[t-i,t+o]})):[]}var zS=(e,t,r)=>{var n={},a=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[o,s]=i,c=s.map(d=>d.dataKey);return[o,{stackedData:Kz(e,c,r),graphicalItems:s}]}))},gl=Z([Rd,Dl,Ll],zS),US=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if(r!=="zAxis"){var i=qz(e,n,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},NW=Z([gl,no,yt],US),WS=(e,t,r,n)=>r.length>0?e.flatMap(a=>r.flatMap(i=>{var o,s,c=(o=i.errorBars)===null||o===void 0?void 0:o.filter(f=>FS(n,f)),d=at(a,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:d,errorDomain:$W(a,d,c)}})).filter(Boolean):t?.dataKey!=null?e.map(a=>({value:at(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),BW=Z(Rd,Et,MW,yt,WS);function FW(e){var{value:t}=e;if(Qn(t)||t instanceof Date)return t}var zW=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=io(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},UW=(e,t,r)=>{var n=e.map(FW).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&K1(n))?DA(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},Km=e=>{var t;if(e==null||!("domain"in e))return Jp;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=io(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Jp},Zm=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),s=Math.max(...i);return[o,s]}},HS=e=>e.referenceElements.dots,fs=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),WW=Z([HS,yt,Rl],fs),KS=e=>e.referenceElements.areas,HW=Z([KS,yt,Rl],fs),ZS=e=>e.referenceElements.lines,KW=Z([ZS,yt,Rl],fs),GS=(e,t)=>{var r=io(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},ZW=Z(WW,yt,GS),YS=(e,t)=>{var r=io(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},GW=Z([HW,yt],YS),qS=(e,t)=>{var r=io(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},YW=Z(KW,yt,qS),qW=Z(ZW,YW,GW,(e,t,r)=>Zm(e,r,t)),VS=Z([Et],Km),Gm=(e,t,r,n,a)=>{var i=sW(t,e.allowDataOverflow);return i??lW(t,Zm(r,a,zW(n)),e.allowDataOverflow)},VW=Z([Et,VS,NW,BW,qW],Gm),XW=[0,1],Ym=(e,t,r,n,a,i,o)=>{if(!(e==null||r==null||r.length===0)){var{dataKey:s,type:c}=e,d=Mn(t,i);return d&&s==null?DA(0,r.length):c==="category"?UW(n,e,d):a==="expand"?XW:o}},qm=Z([Et,Ue,Rd,Md,Ll,yt,VW],Ym),XS=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var s="scale".concat(wl(i));return s in Vs?s:"point"}}},ya=Z([Et,Ue,NS,Mm,yt],XS);function JW(e){if(e!=null){if(e in Vs)return Vs[e]();var t="scale".concat(wl(e));if(t in Vs)return Vs[t]()}}function Dd(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=JW(t);if(a!=null){var i=a.domain(r).range(n);return Fz(i),i}}}var Vm=(e,t,r)=>{var n=Km(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&es(e))return yW(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&es(e))return xW(e,t.tickCount,t.allowDecimals)}},Xm=Z([qm,ds,ya],Vm),Jm=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&es(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],s=r[r.length-1];return[Math.min(a,i),Math.max(o,s)]}return t},QW=Z([Et,qm,Xm,yt],Jm),e4=Z(Md,Et,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(io(e.map(s=>s.value))).sort((s,c)=>s-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/a}}),JS=Z(e4,Ue,kS,Dt,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!Jt(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=pr(r,e*i),s=e*i/2;return s-o-(s-o)/i*o}return 0}),t4=(e,t)=>{var r=Fi(e,t);return r==null||typeof r.padding!="string"?0:JS(e,"xAxis",t,r.padding)},r4=(e,t)=>{var r=va(e,t);return r==null||typeof r.padding!="string"?0:JS(e,"yAxis",t,r.padding)},n4=Z(Fi,t4,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),i4=Z(va,r4,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),a4=Z([Dt,n4,wd,_d,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),o4=Z([Dt,Ue,i4,wd,_d,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),$l=(e,t,r,n)=>{var a;switch(t){case"xAxis":return a4(e,r,n);case"yAxis":return o4(e,r,n);case"zAxis":return(a=Bm(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return DS(e);case"radiusAxis":return $S(e,r);default:return}},QS=Z([Et,$l],kd),hs=Z([Et,ya,QW,QS],Dd);Z(Dl,yt,(e,t)=>e.flatMap(r=>{var n;return(n=r.errorBars)!==null&&n!==void 0?n:[]}).filter(r=>FS(t,r)));function eC(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var $d=(e,t)=>t,Nd=(e,t,r)=>r,s4=Z(nm,$d,Nd,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(eC)),l4=Z(im,$d,Nd,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(eC)),tC=(e,t)=>({width:e.width,height:t.height}),c4=(e,t)=>{var r=typeof t.width=="number"?t.width:bd;return{width:r,height:e.height}},rC=Z(Dt,Fi,tC),u4=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},d4=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},f4=Z($i,Dt,s4,$d,Nd,(e,t,r,n,a)=>{var i={},o;return r.forEach(s=>{var c=tC(t,s);o==null&&(o=u4(t,n,e));var d=n==="top"&&!a||n==="bottom"&&a;i[s.id]=o-Number(d)*c.height,o+=(d?-1:1)*c.height}),i}),h4=Z(Di,Dt,l4,$d,Nd,(e,t,r,n,a)=>{var i={},o;return r.forEach(s=>{var c=c4(t,s);o==null&&(o=d4(t,n,e));var d=n==="left"&&!a||n==="right"&&a;i[s.id]=o-Number(d)*c.width,o+=(d?-1:1)*c.width}),i}),p4=(e,t)=>{var r=Dt(e),n=Fi(e,t);if(n!=null){var a=f4(e,n.orientation,n.mirror),i=a[t];return i==null?{x:r.left,y:0}:{x:r.left,y:i}}},g4=(e,t)=>{var r=Dt(e),n=va(e,t);if(n!=null){var a=h4(e,n.orientation,n.mirror),i=a[t];return i==null?{x:0,y:r.top}:{x:i,y:r.top}}},nC=Z(Dt,va,(e,t)=>{var r=typeof t.width=="number"?t.width:bd;return{width:r,height:e.height}}),F_=(e,t,r)=>{switch(t){case"xAxis":return rC(e,r).width;case"yAxis":return nC(e,r).height;default:return}},iC=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,s=Mn(e,n),c=t.map(d=>d.value);if(o&&s&&i==="category"&&a&&K1(c))return c}},Nl=Z([Ue,Md,Et,yt],iC),Qm=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=Mn(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(s=>s.value)}},ev=Z([Ue,Md,ds,yt],Qm),z_=Z([Ue,IW,ya,hs,Nl,ev,$l,Xm,yt],(e,t,r,n,a,i,o,s,c)=>{if(t==null)return null;var d=Mn(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:d,niceTicks:s,range:o,realScaleType:r,scale:n}}),aC=(e,t,r,n,a,i,o,s,c)=>{if(!(t==null||n==null)){var d=Mn(e,c),{type:f,ticks:p,tickCount:g}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,x=f==="category"&&n.bandwidth?n.bandwidth()/m:0;x=c==="angleAxis"&&i!=null&&i.length>=2?zt(i[0]-i[1])*2*x:x;var b=p||a;if(b){var _=b.map((j,A)=>{var S=o?o.indexOf(j):j;return{index:A,coordinate:n(S)+x,value:j,offset:x}});return _.filter(j=>!Cr(j.coordinate))}return d&&s?s.map((j,A)=>({coordinate:n(j)+x,value:j,index:A,offset:x})):n.ticks?n.ticks(g).map(j=>({coordinate:n(j)+x,value:j,offset:x})):n.domain().map((j,A)=>({coordinate:n(j)+x,value:o?o[j]:j,index:A,offset:x}))}},oC=Z([Ue,ds,ya,hs,Xm,$l,Nl,ev,yt],aC),sC=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var s=Mn(e,o),{tickCount:c}=t,d=0;return d=o==="angleAxis"&&n?.length>=2?zt(n[0]-n[1])*2*d:d,s&&i?i.map((f,p)=>({coordinate:r(f)+d,value:f,index:p,offset:d})):r.ticks?r.ticks(c).map(f=>({coordinate:r(f)+d,value:f,offset:d})):r.domain().map((f,p)=>({coordinate:r(f)+d,value:a?a[f]:f,index:p,offset:d}))}},ri=Z([Ue,ds,hs,$l,Nl,ev,yt],sC),gn=Z(Et,hs,(e,t)=>{if(!(e==null||t==null))return $u($u({},e),{},{scale:t})}),m4=Z([Et,ya,qm,QS],Dd);Z((e,t,r)=>Bm(e,r),m4,(e,t)=>{if(!(e==null||t==null))return $u($u({},e),{},{scale:t})});var v4=Z([Ue,nm,im],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),lC=e=>e.options.defaultTooltipEventType,cC=e=>e.options.validateTooltipEventTypes;function uC(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function tv(e,t){var r=lC(e),n=cC(e);return uC(t,r,n)}function y4(e){return xe(t=>tv(t,e))}var dC=(e,t)=>{var r,n=Number(t);if(!(Cr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},x4=e=>e.tooltip.settings,na={active:!1,index:null,dataKey:void 0,coordinate:void 0},b4={itemInteraction:{click:na,hover:na},axisInteraction:{click:na,hover:na},keyboardInteraction:na,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},fC=mn({name:"tooltip",initialState:b4,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Si(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:_4,removeTooltipEntrySettings:w4,setTooltipSettingsState:j4,setActiveMouseOverItemIndex:hC,mouseLeaveItem:A4,mouseLeaveChart:pC,setActiveClickItemIndex:S4,setMouseOverAxisIndex:gC,setMouseClickAxisIndex:C4,setSyncInteraction:Qp,setKeyboardInteraction:eg}=fC.actions,O4=fC.reducer;function U_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U_(Object(r),!0).forEach(function(n){P4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P4(e,t,r){return(t=E4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E4(e){var t=T4(e,"string");return typeof t=="symbol"?t:t+""}function T4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L4(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function k4(e){return e.index!=null}var mC=(e,t,r,n)=>{if(t==null)return na;var a=L4(e,t,r);if(a==null)return na;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(k4(a)){if(i)return Zc(Zc({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Zc(Zc({},na),{},{coordinate:a.coordinate})},rv=(e,t)=>{var r=e?.index;if(r==null)return null;var n=Number(r);if(!Jt(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},vC=(e,t,r,n,a,i,o,s)=>{if(!(i==null||s==null)){var c=o[0],d=c==null?void 0:s(c.positions,i);if(d!=null)return d;var f=a?.[Number(i)];if(f)switch(r){case"horizontal":return{x:f.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:f.coordinate}}}},yC=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===a})},Bl=e=>e.options.tooltipPayloadSearcher,ps=e=>e.tooltip;function W_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function H_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(r),!0).forEach(function(n){I4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I4(e,t,r){return(t=R4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R4(e){var t=M4(e,"string");return typeof t=="symbol"?t:t+""}function M4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D4(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function $4(e,t){return e??t}var xC=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:s,computedData:c,dataStartIndex:d,dataEndIndex:f}=r,p=[];return e.reduce((g,m)=>{var x,{dataDefinedOnItem:b,settings:_}=m,j=$4(b,s),A=D4(j,d,f),S=(x=_?.dataKey)!==null&&x!==void 0?x:n?.dataKey,C=_?.nameKey,E;if(n!=null&&n.dataKey&&Array.isArray(A)&&!Array.isArray(A[0])&&o==="axis"?E=Z1(A,n.dataKey,a):E=i(A,t,c,C),Array.isArray(E))E.forEach(I=>{var U=H_(H_({},_),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});g.push(Ib({tooltipEntrySettings:U,dataKey:I.dataKey,payload:I.payload,value:at(I.payload,I.dataKey),name:I.name}))});else{var k;g.push(Ib({tooltipEntrySettings:_,dataKey:S,payload:E,value:at(E,S),name:(k=at(E,C))!==null&&k!==void 0?k:_?.name}))}return g},p)}},Ht=e=>{var t=Ue(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},gs=e=>e.tooltip.settings.axisId,Qt=e=>{var t=Ht(e),r=gs(e);return ds(e,t,r)},nv=Z([Qt,Ue,NS,Mm,Ht],XS),N4=Z([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),B4=Z([Ht,gs],Fm),Bd=Z([N4,Qt,B4],zm),F4=Z([Bd],Um),ao=Z([F4,no],Wm),iv=Z([ao,Qt,Bd],Hm),z4=Z([Qt],Km),U4=Z([ao,Bd,Ll],zS),W4=Z([U4,no,Ht],US),H4=Z([Bd],BS),K4=Z([ao,Qt,H4,Ht],WS),Z4=Z([HS,Ht,gs],fs),G4=Z([Z4,Ht],GS),Y4=Z([KS,Ht,gs],fs),q4=Z([Y4,Ht],YS),V4=Z([ZS,Ht,gs],fs),X4=Z([V4,Ht],qS),J4=Z([G4,X4,q4],Zm),Q4=Z([Qt,z4,W4,K4,J4],Gm),bC=Z([Qt,Ue,ao,iv,Ll,Ht,Q4],Ym),e8=Z([bC,Qt,nv],Vm),t8=Z([Qt,bC,e8,Ht],Jm),_C=e=>{var t=Ht(e),r=gs(e),n=!1;return $l(e,t,r,n)},wC=Z([Qt,_C],kd),jC=Z([Qt,nv,t8,wC],Dd),r8=Z([Ue,iv,Qt,Ht],iC),n8=Z([Ue,iv,Qt,Ht],Qm),i8=(e,t,r,n,a,i,o,s)=>{if(t){var{type:c}=t,d=Mn(e,s);if(n){var f=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=c==="category"&&n.bandwidth?n.bandwidth()/f:0;return p=s==="angleAxis"&&a!=null&&a?.length>=2?zt(a[0]-a[1])*2*p:p,d&&o?o.map((g,m)=>({coordinate:n(g)+p,value:g,index:m,offset:p})):n.domain().map((g,m)=>({coordinate:n(g)+p,value:i?i[g]:g,index:m,offset:p}))}}},zi=Z([Ue,Qt,nv,jC,_C,r8,n8,Ht],i8),av=Z([lC,cC,x4],(e,t,r)=>uC(r.shared,e,t)),AC=e=>e.tooltip.settings.trigger,ov=e=>e.tooltip.settings.defaultIndex,Fd=Z([ps,av,AC,ov],mC),fa=Z([Fd,ao],rv),SC=Z([zi,fa],dC),CC=Z([Fd],e=>{if(e)return e.dataKey}),OC=Z([ps,av,AC,ov],yC),a8=Z([Di,$i,Ue,Dt,zi,ov,OC,Bl],vC),o8=Z([Fd,a8],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),s8=Z([Fd],e=>e.active),l8=Z([OC,fa,no,Qt,SC,Bl,av],xC),c8=Z([l8],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function K_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Z_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K_(Object(r),!0).forEach(function(n){u8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u8(e,t,r){return(t=d8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d8(e){var t=f8(e,"string");return typeof t=="symbol"?t:t+""}function f8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h8=()=>xe(Qt),p8=()=>{var e=h8(),t=xe(zi),r=xe(jC);return Ti(Z_(Z_({},e),{},{scale:r}),t)},PC=()=>xe(Mm),sv=(e,t)=>t,EC=(e,t,r)=>r,lv=(e,t,r,n)=>n,g8=Z(zi,e=>hd(e,t=>t.coordinate)),cv=Z([ps,sv,EC,lv],mC),TC=Z([cv,ao],rv),m8=(e,t,r)=>{if(t!=null){var n=ps(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},LC=Z([ps,sv,EC,lv],yC),Nu=Z([Di,$i,Ue,Dt,zi,lv,LC,Bl],vC),v8=Z([cv,Nu],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),kC=Z(zi,TC,dC),y8=Z([LC,TC,no,Qt,kC,Bl,sv],xC),x8=Z([cv],e=>({isActive:e.active,activeIndex:e.index})),b8=(e,t,r,n,a,i,o,s)=>{if(!(!e||!t||!n||!a||!i)){var c=Vz(e.chartX,e.chartY,t,r,s);if(c){var d=Jz(c,t),f=Nz(d,o,i,n,a),p=Xz(t,i,f,c);return{activeIndex:String(f),activeCoordinate:p}}}};function tg(){return tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tg.apply(null,arguments)}function G_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G_(Object(r),!0).forEach(function(n){_8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _8(e,t,r){return(t=w8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w8(e){var t=j8(e,"string");return typeof t=="symbol"?t:t+""}function j8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A8(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:o,cursor:s,tooltipEventType:c,chartName:d}=e,f=t,p=r,g=n;if(!s||!f||d!=="ScatterChart"&&c!=="axis")return null;var m,x;if(d==="ScatterChart")m=f,x=q3;else if(d==="BarChart")m=V3(o,f,a,i),x=EA;else if(o==="radial"){var{cx:b,cy:_,radius:j,startAngle:A,endAngle:S}=TA(f);m={cx:b,cy:_,startAngle:A,endAngle:S,innerRadius:j,outerRadius:j},x=kA}else m={points:LU(o,f,a)},x=Fo;var C=typeof s=="object"&&"className"in s?s.className:void 0,E=Gc(Gc(Gc(Gc({stroke:"#ccc",pointerEvents:"none"},a),m),Se(s,!1)),{},{payload:p,payloadIndex:g,className:De("recharts-tooltip-cursor",C)});return y.isValidElement(s)?y.cloneElement(s,E):y.createElement(x,E)}function S8(e){var t=p8(),r=vA(),n=Cl(),a=PC();return y.createElement(A8,tg({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var IC=y.createContext(null),C8=()=>y.useContext(IC),RC={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function i(c,d,f,p,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new a(f,p||c,g),x=r?r+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],m]:c._events[x].push(m):(c._events[x]=m,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var d=[],f,p;if(this._eventsCount===0)return d;for(p in f=this._events)t.call(f,p)&&d.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},s.prototype.listeners=function(d){var f=r?r+d:d,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,m=p.length,x=new Array(m);g<m;g++)x[g]=p[g].fn;return x},s.prototype.listenerCount=function(d){var f=r?r+d:d,p=this._events[f];return p?p.fn?1:p.length:0},s.prototype.emit=function(d,f,p,g,m,x){var b=r?r+d:d;if(!this._events[b])return!1;var _=this._events[b],j=arguments.length,A,S;if(_.fn){switch(_.once&&this.removeListener(d,_.fn,void 0,!0),j){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,p),!0;case 4:return _.fn.call(_.context,f,p,g),!0;case 5:return _.fn.call(_.context,f,p,g,m),!0;case 6:return _.fn.call(_.context,f,p,g,m,x),!0}for(S=1,A=new Array(j-1);S<j;S++)A[S-1]=arguments[S];_.fn.apply(_.context,A)}else{var C=_.length,E;for(S=0;S<C;S++)switch(_[S].once&&this.removeListener(d,_[S].fn,void 0,!0),j){case 1:_[S].fn.call(_[S].context);break;case 2:_[S].fn.call(_[S].context,f);break;case 3:_[S].fn.call(_[S].context,f,p);break;case 4:_[S].fn.call(_[S].context,f,p,g);break;default:if(!A)for(E=1,A=new Array(j-1);E<j;E++)A[E-1]=arguments[E];_[S].fn.apply(_[S].context,A)}}return!0},s.prototype.on=function(d,f,p){return i(this,d,f,p,!1)},s.prototype.once=function(d,f,p){return i(this,d,f,p,!0)},s.prototype.removeListener=function(d,f,p,g){var m=r?r+d:d;if(!this._events[m])return this;if(!f)return o(this,m),this;var x=this._events[m];if(x.fn)x.fn===f&&(!g||x.once)&&(!p||x.context===p)&&o(this,m);else{for(var b=0,_=[],j=x.length;b<j;b++)(x[b].fn!==f||g&&!x[b].once||p&&x[b].context!==p)&&_.push(x[b]);_.length?this._events[m]=_.length===1?_[0]:_:o(this,m)}return this},s.prototype.removeAllListeners=function(d){var f;return d?(f=r?r+d:d,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(RC);var O8=RC.exports;const P8=Or(O8);var ml=new P8,rg="recharts.syncEvent.tooltip",Y_="recharts.syncEvent.brush";function ms(e,t){if(t){var r=Number.parseInt(t,10);if(!Cr(r))return e?.[r]}}var E8={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},MC=mn({name:"options",initialState:E8,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),T8=MC.reducer,{createEventEmitter:L8}=MC.actions;function k8(e){return e.tooltip.syncInteraction}var I8={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},DC=mn({name:"chartData",initialState:I8,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:q_,setDataStartEndIndexes:R8,setComputedData:F7}=DC.actions,M8=DC.reducer,$C=()=>{};function D8(){var e=xe(Dm),t=xe($m),r=ft(),n=xe(IS),a=xe(zi),i=Cl(),o=am(),s=xe(c=>c.rootProps.className);y.useEffect(()=>{if(e==null)return $C;var c=(d,f,p)=>{if(t!==p&&e===d){if(n==="index"){r(f);return}if(a!=null){var g;if(typeof n=="function"){var m={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},x=n(a,m);g=a[x]}else n==="value"&&(g=a.find(k=>String(k.value)===f.payload.label));var{coordinate:b}=f.payload;if(g==null||f.payload.active===!1||b==null||o==null){r(Qp({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:_,y:j}=b,A=Math.min(_,o.x+o.width),S=Math.min(j,o.y+o.height),C={x:i==="horizontal"?g.coordinate:A,y:i==="horizontal"?S:g.coordinate},E=Qp({active:f.payload.active,coordinate:C,dataKey:f.payload.dataKey,index:String(g.index),label:f.payload.label});r(E)}}};return ml.on(rg,c),()=>{ml.off(rg,c)}},[s,r,t,e,n,a,i,o])}function $8(){var e=xe(Dm),t=xe($m),r=ft();y.useEffect(()=>{if(e==null)return $C;var n=(a,i,o)=>{t!==o&&e===a&&r(R8(i))};return ml.on(Y_,n),()=>{ml.off(Y_,n)}},[r,t,e])}function N8(){var e=ft();y.useEffect(()=>{e(L8())},[e]),D8(),$8()}function B8(e,t,r,n,a,i){var o=xe(g=>m8(g,e,t)),s=xe($m),c=xe(Dm),d=xe(IS),f=xe(k8),p=f?.active;y.useEffect(()=>{if(!p&&c!=null&&s!=null){var g=Qp({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n});ml.emit(rg,c,g,s)}},[p,r,o,a,n,s,c,d,i])}function V_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function X_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V_(Object(r),!0).forEach(function(n){F8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F8(e,t,r){return(t=z8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z8(e){var t=U8(e,"string");return typeof t=="symbol"?t:t+""}function U8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W8(e){return e.dataKey}function H8(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(O3,t)}var J_=[],K8={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ni.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function xr(e){var t=Pr(e,K8),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:o,filterNull:s,isAnimationActive:c,offset:d,payloadUniqBy:f,position:p,reverseDirection:g,useTranslate3d:m,wrapperStyle:x,cursor:b,shared:_,trigger:j,defaultIndex:A,portal:S,axisId:C}=t,E=ft(),k=typeof A=="number"?String(A):A;y.useEffect(()=>{E(j4({shared:_,trigger:j,axisId:C,active:r,defaultIndex:k}))},[E,_,j,C,r,k]);var I=am(),U=_A(),V=y4(_),{activeIndex:re,isActive:te}=xe(pe=>x8(pe,V,j,k)),J=xe(pe=>y8(pe,V,j,k)),ne=xe(pe=>kC(pe,V,j,k)),fe=xe(pe=>v8(pe,V,j,k)),Q=J,G=C8(),B=r??te,[X,ae]=Nj([Q,B]),me=V==="axis"?ne:void 0;B8(V,j,fe,me,re,B);var $=S??G;if($==null)return null;var N=Q??J_;B||(N=J_),s&&N.length&&(N=Cj(Q.filter(pe=>pe.value!=null&&(pe.hide!==!0||t.includeHidden)),f,W8));var Y=N.length>0,se=y.createElement(R3,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:c,active:B,coordinate:fe,hasPayload:Y,offset:d,position:p,reverseDirection:g,useTranslate3d:m,viewBox:I,wrapperStyle:x,lastBoundingBox:X,innerRef:ae,hasPortalFromProps:!!S},H8(o,X_(X_({},t),{},{payload:N,label:me,active:B,coordinate:fe,accessibilityLayer:U})));return y.createElement(y.Fragment,null,Sg.createPortal(se,$),B&&y.createElement(S8,{cursor:b,tooltipEventType:V,coordinate:fe,payload:Q,index:re}))}var NC={},BC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=0,a={}){typeof a!="object"&&(a={});let i=null,o=null,s=null,c=0,d=null,f;const{leading:p=!1,trailing:g=!0,maxWait:m}=a,x="maxWait"in a,b=x?Math.max(Number(m)||0,n):0,_=I=>(i!==null&&(f=r.apply(o,i)),i=o=null,c=I,f),j=I=>(c=I,d=setTimeout(E,n),p&&i!==null?_(I):f),A=I=>(d=null,g&&i!==null?_(I):f),S=I=>{if(s===null)return!0;const U=I-s,V=U>=n||U<0,re=x&&I-c>=b;return V||re},C=I=>{const U=s===null?0:I-s,V=n-U,re=b-(I-c);return x?Math.min(V,re):V},E=()=>{const I=Date.now();if(S(I))return A(I);d=setTimeout(E,C(I))},k=function(...I){const U=Date.now(),V=S(U);if(i=I,o=this,s=U,V){if(d===null)return j(U);if(x)return clearTimeout(d),d=setTimeout(E,n),_(U)}return d===null&&(d=setTimeout(E,n)),f};return k.cancel=()=>{d!==null&&clearTimeout(d),c=0,s=i=o=d=null},k.flush=()=>d===null?f:A(Date.now()),k}e.debounce=t})(BC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BC;function r(n,a=0,i={}){const{leading:o=!0,trailing:s=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:s})}e.throttle=r})(NC);var Z8=NC.throttle;const G8=Or(Z8);var el=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(r),!0).forEach(function(n){Y8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y8(e,t,r){return(t=q8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q8(e){var t=V8(e,"string");return typeof t=="symbol"?t:t+""}function V8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nr=y.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a="100%",height:i="100%",minWidth:o=0,minHeight:s,maxHeight:c,children:d,debounce:f=0,id:p,className:g,onResize:m,style:x={}}=e,b=y.useRef(null),_=y.useRef();_.current=m,y.useImperativeHandle(t,()=>b.current);var[j,A]=y.useState({containerWidth:n.width,containerHeight:n.height}),S=y.useCallback((E,k)=>{A(I=>{var U=Math.round(E),V=Math.round(k);return I.containerWidth===U&&I.containerHeight===V?I:{containerWidth:U,containerHeight:V}})},[]);y.useEffect(()=>{var E=V=>{var re,{width:te,height:J}=V[0].contentRect;S(te,J),(re=_.current)===null||re===void 0||re.call(_,te,J)};f>0&&(E=G8(E,f,{trailing:!0,leading:!1}));var k=new ResizeObserver(E),{width:I,height:U}=b.current.getBoundingClientRect();return S(I,U),k.observe(b.current),()=>{k.disconnect()}},[S,f]);var C=y.useMemo(()=>{var{containerWidth:E,containerHeight:k}=j;if(E<0||k<0)return null;el(Da(a)||Da(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,i),el(!r||r>0,"The aspect(%s) must be greater than zero.",r);var I=Da(a)?E:a,U=Da(i)?k:i;return r&&r>0&&(I?U=I/r:U&&(I=U*r),c&&U>c&&(U=c)),el(I>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,U,a,i,o,s,r),y.Children.map(d,V=>y.cloneElement(V,{width:I,height:U,style:Zh({width:I,height:U},V.props.style)}))},[r,d,i,c,s,o,j,a]);return y.createElement("div",{id:p?"".concat(p):void 0,className:De("recharts-responsive-container",g),style:Zh(Zh({},x),{},{width:a,height:i,minWidth:o,minHeight:s,maxHeight:c}),ref:b},y.createElement("div",{style:{width:0,height:0,overflow:"visible"}},C))}),ha=e=>null;ha.displayName="Cell";function ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ng(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ew(Object(r),!0).forEach(function(n){X8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X8(e,t,r){return(t=J8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J8(e){var t=Q8(e,"string");return typeof t=="symbol"?t:t+""}function Q8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var To={widthCache:{},cacheCount:0},eH=2e3,tH={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tw="recharts_measurement_span";function rH(e){var t=ng({},e);return Object.keys(t).forEach(r=>{t[r]||delete t[r]}),t}var tl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ni.isSsr)return{width:0,height:0};var n=rH(r),a=JSON.stringify({text:t,copyStyle:n});if(To.widthCache[a])return To.widthCache[a];try{var i=document.getElementById(tw);i||(i=document.createElement("span"),i.setAttribute("id",tw),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=ng(ng({},tH),n);Object.assign(i.style,o),i.textContent="".concat(t);var s=i.getBoundingClientRect(),c={width:s.width,height:s.height};return To.widthCache[a]=c,++To.cacheCount>eH&&(To.cacheCount=0,To.widthCache={}),c}catch{return{width:0,height:0}}},rw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,iH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,FC={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},aH=Object.keys(FC),Io="NaN";function oH(e,t){return e*FC[t]}class br{static parse(t){var r,[,n,a]=(r=iH.exec(t))!==null&&r!==void 0?r:[];return new br(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Cr(t)&&(this.unit=""),r!==""&&!nH.test(r)&&(this.num=NaN,this.unit=""),aH.includes(r)&&(this.num=oH(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new br(NaN,""):new br(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new br(NaN,""):new br(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new br(NaN,""):new br(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new br(NaN,""):new br(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Cr(this.num)}}function zC(e){if(e.includes(Io))return Io;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=rw.exec(t))!==null&&r!==void 0?r:[],o=br.parse(n??""),s=br.parse(i??""),c=a==="*"?o.multiply(s):o.divide(s);if(c.isNaN())return Io;t=t.replace(rw,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,f,p,g]=(d=nw.exec(t))!==null&&d!==void 0?d:[],m=br.parse(f??""),x=br.parse(g??""),b=p==="+"?m.add(x):m.subtract(x);if(b.isNaN())return Io;t=t.replace(nw,b.toString())}return t}var iw=/\(([^()]*)\)/;function sH(e){for(var t=e,r;(r=iw.exec(t))!=null;){var[,n]=r;t=t.replace(iw,zC(n))}return t}function lH(e){var t=e.replace(/\s+/g,"");return t=sH(t),t=zC(t),t}function cH(e){try{return lH(e)}catch{return Io}}function Gh(e){var t=cH(e.slice(5,-1));return t===Io?"":t}var uH=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],dH=["dx","dy","angle","className","breakAll"];function ig(){return ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ig.apply(null,arguments)}function aw(e,t){if(e==null)return{};var r,n,a=fH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var UC=/[ \f\n\r\t\v\u2028\u2029]+/,WC=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];tt(t)||(r?a=t.toString().split(""):a=t.toString().split(UC));var i=a.map(s=>({word:s,width:tl(s,n).width})),o=r?0:tl(" ",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},hH=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:s,breakAll:c}=e,d=ye(i),f=o,p=function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return te.reduce((J,ne)=>{var{word:fe,width:Q}=ne,G=J[J.length-1];if(G&&(n==null||a||G.width+Q+r<Number(n)))G.words.push(fe),G.width+=Q+r;else{var B={words:[fe],width:Q};J.push(B)}return J},[])},g=p(t),m=re=>re.reduce((te,J)=>te.width>J.width?te:J);if(!d||a)return g;var x=g.length>i||m(g).width>Number(n);if(!x)return g;for(var b="…",_=re=>{var te=f.slice(0,re),J=WC({breakAll:c,style:s,children:te+b}).wordsWithComputedWidth,ne=p(J),fe=ne.length>i||m(ne).width>Number(n);return[fe,ne]},j=0,A=f.length-1,S=0,C;j<=A&&S<=f.length-1;){var E=Math.floor((j+A)/2),k=E-1,[I,U]=_(k),[V]=_(E);if(!I&&!V&&(j=E+1),I&&V&&(A=E-1),!I&&V){C=U;break}S++}return C||g},ow=e=>{var t=tt(e)?[]:e.toString().split(UC);return[{words:t}]},pH=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!Ni.isSsr){var s,c,d=WC({breakAll:i,children:n,style:a});if(d){var{wordsWithComputedWidth:f,spaceWidth:p}=d;s=f,c=p}else return ow(n);return hH({breakAll:i,children:n,maxLines:o,style:a},s,c,t,r)}return ow(n)},sw="#808080",vs=y.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:s="start",verticalAnchor:c="end",fill:d=sw}=e,f=aw(e,uH),p=y.useMemo(()=>pH({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:o,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,o,f.style,f.width]),{dx:g,dy:m,angle:x,className:b,breakAll:_}=f,j=aw(f,dH);if(!Qn(r)||!Qn(n))return null;var A=r+(ye(g)?g:0),S=n+(ye(m)?m:0),C;switch(c){case"start":C=Gh("calc(".concat(i,")"));break;case"middle":C=Gh("calc(".concat((p.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:C=Gh("calc(".concat(p.length-1," * -").concat(a,")"));break}var E=[];if(o){var k=p[0].width,{width:I}=f;E.push("scale(".concat(ye(I)?I/k:1,")"))}return x&&E.push("rotate(".concat(x,", ").concat(A,", ").concat(S,")")),E.length&&(j.transform=E.join(" ")),y.createElement("text",ig({},Se(j,!0),{ref:t,x:A,y:S,className:De("recharts-text",b),textAnchor:s,fill:d.includes("url")?sw:d}),p.map((U,V)=>{var re=U.words.join(_?"":" ");return y.createElement("tspan",{x:A,dy:V===0?C:a,key:"".concat(re,"-").concat(V)},re)}))});vs.displayName="Text";var gH=["offset"],mH=["labelRef"];function lw(e,t){if(e==null)return{};var r,n,a=vH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cw(Object(r),!0).forEach(function(n){yH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yH(e,t,r){return(t=xH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xH(e){var t=bH(e,"string");return typeof t=="symbol"?t:t+""}function bH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xi(){return xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xi.apply(null,arguments)}var _H=e=>{var{value:t,formatter:r}=e,n=tt(e.children)?t:e.children;return typeof r=="function"?r(n):n},uv=e=>e!=null&&typeof e=="function",wH=(e,t)=>{var r=zt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},jH=(e,t,r)=>{var{position:n,viewBox:a,offset:i,className:o}=e,{cx:s,cy:c,innerRadius:d,outerRadius:f,startAngle:p,endAngle:g,clockWise:m}=a,x=(d+f)/2,b=wH(p,g),_=b>=0?1:-1,j,A;n==="insideStart"?(j=p+_*i,A=m):n==="insideEnd"?(j=g-_*i,A=!m):n==="end"&&(j=g+_*i,A=m),A=b<=0?A:!A;var S=et(s,c,x,j),C=et(s,c,x,j+(A?1:-1)*359),E="M".concat(S.x,",").concat(S.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(A?0:1,`,
    `).concat(C.x,",").concat(C.y),k=tt(e.id)?da("recharts-radial-line-"):e.id;return y.createElement("text",xi({},r,{dominantBaseline:"central",className:De("recharts-radial-bar-label",o)}),y.createElement("defs",null,y.createElement("path",{id:k,d:E})),y.createElement("textPath",{xlinkHref:"#".concat(k)},t))},AH=e=>{var{viewBox:t,offset:r,position:n}=e,{cx:a,cy:i,innerRadius:o,outerRadius:s,startAngle:c,endAngle:d}=t,f=(c+d)/2;if(n==="outside"){var{x:p,y:g}=et(a,i,s+r,f);return{x:p,y:g,textAnchor:p>=a?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:a,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:a,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:a,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(o+s)/2,{x,y:b}=et(a,i,m,f);return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},SH=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,{x:i,y:o,width:s,height:c}=t,d=c>=0?1:-1,f=d*n,p=d>0?"end":"start",g=d>0?"start":"end",m=s>=0?1:-1,x=m*n,b=m>0?"end":"start",_=m>0?"start":"end";if(a==="top"){var j={x:i+s/2,y:o-d*n,textAnchor:"middle",verticalAnchor:p};return Tt(Tt({},j),r?{height:Math.max(o-r.y,0),width:s}:{})}if(a==="bottom"){var A={x:i+s/2,y:o+c+f,textAnchor:"middle",verticalAnchor:g};return Tt(Tt({},A),r?{height:Math.max(r.y+r.height-(o+c),0),width:s}:{})}if(a==="left"){var S={x:i-x,y:o+c/2,textAnchor:b,verticalAnchor:"middle"};return Tt(Tt({},S),r?{width:Math.max(S.x-r.x,0),height:c}:{})}if(a==="right"){var C={x:i+s+x,y:o+c/2,textAnchor:_,verticalAnchor:"middle"};return Tt(Tt({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:c}:{})}var E=r?{width:s,height:c}:{};return a==="insideLeft"?Tt({x:i+x,y:o+c/2,textAnchor:_,verticalAnchor:"middle"},E):a==="insideRight"?Tt({x:i+s-x,y:o+c/2,textAnchor:b,verticalAnchor:"middle"},E):a==="insideTop"?Tt({x:i+s/2,y:o+f,textAnchor:"middle",verticalAnchor:g},E):a==="insideBottom"?Tt({x:i+s/2,y:o+c-f,textAnchor:"middle",verticalAnchor:p},E):a==="insideTopLeft"?Tt({x:i+x,y:o+f,textAnchor:_,verticalAnchor:g},E):a==="insideTopRight"?Tt({x:i+s-x,y:o+f,textAnchor:b,verticalAnchor:g},E):a==="insideBottomLeft"?Tt({x:i+x,y:o+c-f,textAnchor:_,verticalAnchor:p},E):a==="insideBottomRight"?Tt({x:i+s-x,y:o+c-f,textAnchor:b,verticalAnchor:p},E):a&&typeof a=="object"&&(ye(a.x)||Da(a.x))&&(ye(a.y)||Da(a.y))?Tt({x:i+pr(a.x,s),y:o+pr(a.y,c),textAnchor:"end",verticalAnchor:"end"},E):Tt({x:i+s/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},E)},CH=e=>"cx"in e&&ye(e.cx);function jr(e){var{offset:t=5}=e,r=lw(e,gH),n=Tt({offset:t},r),{viewBox:a,position:i,value:o,children:s,content:c,className:d="",textBreakAll:f,labelRef:p}=n,g=am(),m=a||g;if(!m||tt(o)&&tt(s)&&!y.isValidElement(c)&&typeof c!="function")return null;if(y.isValidElement(c)){var{labelRef:x}=n,b=lw(n,mH);return y.cloneElement(c,b)}var _;if(typeof c=="function"){if(_=y.createElement(c,n),y.isValidElement(_))return _}else _=_H(n);var j=CH(m),A=Se(n,!0);if(j&&(i==="insideStart"||i==="insideEnd"||i==="end"))return jH(n,_,A);var S=j?AH(n):SH(n,m);return y.createElement(vs,xi({ref:p,className:De("recharts-label",d)},A,S,{breakAll:f}),_)}jr.displayName="Label";var HC=e=>{var{cx:t,cy:r,angle:n,startAngle:a,endAngle:i,r:o,radius:s,innerRadius:c,outerRadius:d,x:f,y:p,top:g,left:m,width:x,height:b,clockWise:_,labelViewBox:j}=e;if(j)return j;if(ye(x)&&ye(b)){if(ye(f)&&ye(p))return{x:f,y:p,width:x,height:b};if(ye(g)&&ye(m))return{x:g,y:m,width:x,height:b}}if(ye(f)&&ye(p))return{x:f,y:p,width:0,height:0};if(ye(t)&&ye(r))return{cx:t,cy:r,startAngle:a||n||0,endAngle:i||n||0,innerRadius:c||0,outerRadius:d||s||o||0,clockWise:_};if(e.viewBox)return e.viewBox},OH=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?y.createElement(jr,xi({key:"label-implicit"},n)):Qn(e)?y.createElement(jr,xi({key:"label-implicit",value:e},n)):y.isValidElement(e)?e.type===jr?y.cloneElement(e,Tt({key:"label-implicit"},n)):y.createElement(jr,xi({key:"label-implicit",content:e},n)):uv(e)?y.createElement(jr,xi({key:"label-implicit",content:e},n)):e&&typeof e=="object"?y.createElement(jr,xi({},e,{key:"label-implicit"},n)):null},PH=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:a,labelRef:i}=t,o=HC(t),s=jl(a,jr).map((d,f)=>y.cloneElement(d,{viewBox:r||o,key:"label-".concat(f)}));if(!n)return s;var c=OH(t.label,r||o,i);return[c,...s]};jr.parseViewBox=HC;jr.renderCallByParent=PH;var KC={},ZC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(ZC);var GC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(GC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZC,r=GC,n=sd;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(KC);var EH=KC.last;const YC=Or(EH);var TH=["valueAccessor"],LH=["data","dataKey","clockWise","id","textBreakAll"];function Bu(){return Bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bu.apply(null,arguments)}function uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uw(Object(r),!0).forEach(function(n){kH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kH(e,t,r){return(t=IH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IH(e){var t=RH(e,"string");return typeof t=="symbol"?t:t+""}function RH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fw(e,t){if(e==null)return{};var r,n,a=MH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function MH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var DH=e=>Array.isArray(e.value)?YC(e.value):e.value;function Jn(e){var{valueAccessor:t=DH}=e,r=fw(e,TH),{data:n,dataKey:a,clockWise:i,id:o,textBreakAll:s}=r,c=fw(r,LH);return!n||!n.length?null:y.createElement(Ve,{className:"recharts-label-list"},n.map((d,f)=>{var p=tt(a)?t(d,f):at(d&&d.payload,a),g=tt(o)?{}:{id:"".concat(o,"-").concat(f)};return y.createElement(jr,Bu({},Se(d,!0),c,g,{parentViewBox:d.parentViewBox,value:p,textBreakAll:s,viewBox:jr.parseViewBox(tt(i)?d:dw(dw({},d),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}Jn.displayName="LabelList";function $H(e,t){return e?e===!0?y.createElement(Jn,{key:"labelList-implicit",data:t}):y.isValidElement(e)||uv(e)?y.createElement(Jn,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?y.createElement(Jn,Bu({data:t},e,{key:"labelList-implicit"})):null:null}function NH(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,a=jl(n,Jn).map((o,s)=>y.cloneElement(o,{data:t,key:"labelList-".concat(s)}));if(!r)return a;var i=$H(e.label,t);return[i,...a]}Jn.renderCallByParent=NH;var BH=["points","className","baseLinePoints","connectNulls"];function Ro(){return Ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ro.apply(null,arguments)}function FH(e,t){if(e==null)return{};var r,n,a=zH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hw=e=>e&&e.x===+e.x&&e.y===+e.y,UH=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(n=>{hw(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),hw(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},rl=(e,t)=>{var r=UH(e);t&&(r=[r.reduce((a,i)=>[...a,...i],[])]);var n=r.map(a=>a.reduce((i,o,s)=>"".concat(i).concat(s===0?"M":"L").concat(o.x,",").concat(o.y),"")).join("");return r.length===1?"".concat(n,"Z"):n},WH=(e,t,r)=>{var n=rl(e,r);return"".concat(n.slice(-1)==="Z"?n.slice(0,-1):n,"L").concat(rl(t.reverse(),r).slice(1))},qC=e=>{var{points:t,className:r,baseLinePoints:n,connectNulls:a}=e,i=FH(e,BH);if(!t||!t.length)return null;var o=De("recharts-polygon",r);if(n&&n.length){var s=i.stroke&&i.stroke!=="none",c=WH(t,n,a);return y.createElement("g",{className:o},y.createElement("path",Ro({},Se(i,!0),{fill:c.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:c})),s?y.createElement("path",Ro({},Se(i,!0),{fill:"none",d:rl(t,a)})):null,s?y.createElement("path",Ro({},Se(i,!0),{fill:"none",d:rl(n,a)})):null)}var d=rl(t,a);return y.createElement("path",Ro({},Se(i,!0),{fill:d.slice(-1)==="Z"?i.fill:"none",className:o,d}))};function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ag.apply(null,arguments)}var Fl=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=De("recharts-dot",a);return t===+t&&r===+r&&n===+n?y.createElement("circle",ag({},Se(e,!1),Rg(e),{className:i,cx:t,cy:r,r:n})):null},dv=e=>e.graphicalItems.polarItems,HH=Z([yt,Rl],Fm),fv=Z([dv,Et,HH],zm),KH=Z([fv],Um),hv=Z([KH,Ed],Wm),VC=Z([hv,Et,fv],Hm),ZH=Z([hv,Et,fv],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,o=at(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:at(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),pw=()=>{},GH=Z([Et,VS,pw,ZH,pw],Gm),XC=Z([Et,Ue,hv,VC,Ll,yt,GH],Ym),JC=Z([XC,Et,ya],Vm),YH=Z([Et,XC,JC,yt],Jm),pv=(e,t,r)=>{switch(t){case"angleAxis":return us(e,r);case"radiusAxis":return kl(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},gv=(e,t,r)=>{switch(t){case"angleAxis":return OW(e,r);case"radiusAxis":return PW(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ys=Z([pv,ya,YH,gv],Dd),QC=Z([Ue,VC,ds,yt],Qm),xs=Z([Ue,pv,ya,ys,JC,gv,Nl,QC,yt],aC);Z([Ue,pv,ys,gv,Nl,QC,yt],sC);var qH=(e,t)=>xs(e,"angleAxis",t,!1),VH=Z([qH],e=>{if(e)return e.map(t=>t.coordinate)}),XH=(e,t)=>xs(e,"radiusAxis",t,!1),JH=Z([XH],e=>{if(e)return e.map(t=>t.coordinate)}),QH=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius"];function eK(e,t){if(e==null)return{};var r,n,a=tK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ri.apply(null,arguments)}function gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ts(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gw(Object(r),!0).forEach(function(n){rK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rK(e,t,r){return(t=nK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nK(e){var t=iK(e,"string");return typeof t=="symbol"?t:t+""}function iK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aK=(e,t,r,n)=>{var a="";return n.forEach((i,o)=>{var s=et(t,r,e,i);o?a+="L ".concat(s.x,",").concat(s.y):a+="M ".concat(s.x,",").concat(s.y)}),a+="Z",a},oK=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,polarAngles:i,radialLines:o}=e;if(!i||!i.length||!o)return null;var s=ts({stroke:"#ccc"},Se(e,!1));return y.createElement("g",{className:"recharts-polar-grid-angle"},i.map(c=>{var d=et(t,r,n,c),f=et(t,r,a,c);return y.createElement("line",Ri({},s,{key:"line-".concat(c),x1:d.x,y1:d.y,x2:f.x,y2:f.y}))}))},sK=e=>{var{cx:t,cy:r,radius:n,index:a}=e,i=ts(ts({stroke:"#ccc"},Se(e,!1)),{},{fill:"none"});return y.createElement("circle",Ri({},i,{className:De("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(a),cx:t,cy:r,r:n}))},lK=e=>{var{radius:t,index:r}=e,n=ts(ts({stroke:"#ccc"},Se(e,!1)),{},{fill:"none"});return y.createElement("path",Ri({},n,{className:De("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:aK(t,e.cx,e.cy,e.polarAngles)}))},cK=e=>{var{polarRadius:t,gridType:r}=e;return!t||!t.length?null:y.createElement("g",{className:"recharts-polar-grid-concentric"},t.map((n,a)=>{var i=a;return r==="circle"?y.createElement(sK,Ri({key:i},e,{radius:n,index:a})):y.createElement(lK,Ri({key:i},e,{radius:n,index:a}))}))},eO=e=>{var t,r,n,a,i,o,s,c,{gridType:d="polygon",radialLines:f=!0,angleAxisId:p=0,radiusAxisId:g=0,cx:m,cy:x,innerRadius:b,outerRadius:_}=e,j=eK(e,QH),A=xe(Il),S=ts({cx:(t=(r=A?.cx)!==null&&r!==void 0?r:m)!==null&&t!==void 0?t:0,cy:(n=(a=A?.cy)!==null&&a!==void 0?a:x)!==null&&n!==void 0?n:0,innerRadius:(i=(o=A?.innerRadius)!==null&&o!==void 0?o:b)!==null&&i!==void 0?i:0,outerRadius:(s=(c=A?.outerRadius)!==null&&c!==void 0?c:_)!==null&&s!==void 0?s:0},j),{polarAngles:C,polarRadius:E,cx:k,cy:I,innerRadius:U,outerRadius:V}=S,re=xe(fe=>VH(fe,p)),te=xe(fe=>JH(fe,g)),J=Array.isArray(C)?C:re,ne=Array.isArray(E)?E:te;return V<=0||J==null||ne==null?null:y.createElement("g",{className:"recharts-polar-grid"},y.createElement(oK,Ri({cx:k,cy:I,innerRadius:U,outerRadius:V,gridType:d,radialLines:f},S,{polarAngles:J,polarRadius:ne})),y.createElement(cK,Ri({cx:k,cy:I,innerRadius:U,outerRadius:V,gridType:d,radialLines:f},S,{polarAngles:J,polarRadius:ne})))};eO.displayName="PolarGrid";var tO={},rO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let a=r[0],i=n(a);for(let o=1;o<r.length;o++){const s=r[o],c=n(s);c>i&&(i=c,a=s)}return a}e.maxBy=t})(rO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rO,r=Al,n=ld;function a(i,o){if(i!=null)return t.maxBy(Array.from(i),n.iteratee(o??r.identity))}e.maxBy=a})(tO);var uK=tO.maxBy;const dK=Or(uK);var nO={},iO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let a=r[0],i=n(a);for(let o=1;o<r.length;o++){const s=r[o],c=n(s);c<i&&(i=c,a=s)}return a}e.minBy=t})(iO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iO,r=Al,n=ld;function a(i,o){if(i!=null)return t.minBy(Array.from(i),n.iteratee(o??r.identity))}e.minBy=a})(nO);var fK=nO.minBy;const hK=Or(fK);var pK={radiusAxis:{},angleAxis:{}},aO=mn({name:"polarAxis",initialState:pK,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:gK,removeRadiusAxis:mK,addAngleAxis:vK,removeAngleAxis:yK}=aO.actions,xK=aO.reducer,bK=["cx","cy","angle","axisLine"],_K=["angle","tickFormatter","stroke","tick"];function vl(){return vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vl.apply(null,arguments)}function mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mw(Object(r),!0).forEach(function(n){zd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zd(e,t,r){return(t=wK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wK(e){var t=jK(e,"string");return typeof t=="symbol"?t:t+""}function jK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oO(e,t){if(e==null)return{};var r,n,a=AK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function AK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sO="radiusAxis";function SK(e){var t=ft();return y.useEffect(()=>(t(gK(e)),()=>{t(mK(e))})),null}var CK=(e,t,r,n)=>{var{coordinate:a}=e;return et(r,n,a,t)},OK=e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle";break}return t},PK=(e,t,r,n)=>{var a=dK(n,o=>o.coordinate||0),i=hK(n,o=>o.coordinate||0);return{cx:t,cy:r,startAngle:e,endAngle:e,innerRadius:i.coordinate||0,outerRadius:a.coordinate||0}},EK=(e,t)=>{var{cx:r,cy:n,angle:a,axisLine:i}=e,o=oO(e,bK),s=t.reduce((p,g)=>[Math.min(p[0],g.coordinate),Math.max(p[1],g.coordinate)],[1/0,-1/0]),c=et(r,n,s[0],a),d=et(r,n,s[1],a),f=Zn(Zn(Zn({},Se(o,!1)),{},{fill:"none"},Se(i,!1)),{},{x1:c.x,y1:c.y,x2:d.x,y2:d.y});return y.createElement("line",vl({className:"recharts-polar-radius-axis-line"},f))},TK=(e,t,r)=>{var n;return y.isValidElement(e)?n=y.cloneElement(e,t):typeof e=="function"?n=e(t):n=y.createElement(vs,vl({},t,{className:"recharts-polar-radius-axis-tick-value"}),r),n},LK=(e,t)=>{var{angle:r,tickFormatter:n,stroke:a,tick:i}=e,o=oO(e,_K),s=OK(e.orientation),c=Se(o,!1),d=Se(i,!1),f=t.map((p,g)=>{var m=CK(p,e.angle,e.cx,e.cy),x=Zn(Zn(Zn(Zn({textAnchor:s,transform:"rotate(".concat(90-r,", ").concat(m.x,", ").concat(m.y,")")},c),{},{stroke:"none",fill:a},d),{},{index:g},m),{},{payload:p});return y.createElement(Ve,vl({className:De("recharts-polar-radius-axis-tick",uA(i)),key:"tick-".concat(p.coordinate)},eo(e,p,g)),TK(i,x,n?n(p.value,g):p.value))});return y.createElement(Ve,{className:"recharts-polar-radius-axis-ticks"},f)},kK=e=>{var{radiusAxisId:t}=e,r=xe(Il),n=xe(c=>ys(c,"radiusAxis",t)),a=xe(c=>xs(c,"radiusAxis",t,!1));if(r==null||!a||!a.length)return null;var i=Zn(Zn(Zn({},e),{},{scale:n},r),{},{radius:r.outerRadius}),{tick:o,axisLine:s}=i;return y.createElement(Ve,{className:De("recharts-polar-radius-axis",sO,i.className)},s&&EK(i,a),o&&LK(i,a),jr.renderCallByParent(i,PK(i.angle,i.cx,i.cy,a)))};class Ud extends y.PureComponent{render(){return y.createElement(y.Fragment,null,y.createElement(SK,{domain:this.props.domain,id:this.props.radiusAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:this.props.allowDuplicatedCategory,allowDataOverflow:this.props.allowDataOverflow,reversed:this.props.reversed,includeHidden:this.props.includeHidden,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick}),y.createElement(kK,this.props))}}zd(Ud,"displayName","PolarRadiusAxis");zd(Ud,"axisType",sO);zd(Ud,"defaultProps",wr);var IK=["children"];function Mi(){return Mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mi.apply(null,arguments)}function vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vw(Object(r),!0).forEach(function(n){Wd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wd(e,t,r){return(t=RK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RK(e){var t=MK(e,"string");return typeof t=="symbol"?t:t+""}function MK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DK(e,t){if(e==null)return{};var r,n,a=$K(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $K(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NK=Math.PI/180,yw=1e-5,lO="angleAxis";function BK(e){var t=ft(),r=y.useMemo(()=>{var{children:i}=e,o=DK(e,IK);return o},[e]),n=xe(i=>us(i,r.id)),a=r===n;return y.useEffect(()=>(t(vK(r)),()=>{t(yK(r))}),[t,r]),a?e.children:null}var FK=(e,t)=>{var{cx:r,cy:n,radius:a,orientation:i,tickSize:o}=t,s=o||8,c=et(r,n,a,e.coordinate),d=et(r,n,a+(i==="inner"?-1:1)*s,e.coordinate);return{x1:c.x,y1:c.y,x2:d.x,y2:d.y}},zK=(e,t)=>{var r=Math.cos(-e.coordinate*NK);return r>yw?t==="outer"?"start":"end":r<-yw?t==="outer"?"end":"start":"middle"},UK=e=>{var{cx:t,cy:r,radius:n,axisLineType:a,axisLine:i,ticks:o}=e;if(!i)return null;var s=zn(zn({},Se(e,!1)),{},{fill:"none"},Se(i,!1));if(a==="circle")return y.createElement(Fl,Mi({className:"recharts-polar-angle-axis-line"},s,{cx:t,cy:r,r:n}));var c=o.map(d=>et(t,r,n,d.coordinate));return y.createElement(qC,Mi({className:"recharts-polar-angle-axis-line"},s,{points:c}))},WK=e=>{var{tick:t,tickProps:r,value:n}=e;return t?y.isValidElement(t)?y.cloneElement(t,r):typeof t=="function"?t(r):y.createElement(vs,Mi({},r,{className:"recharts-polar-angle-axis-tick-value"}),n):null},HK=e=>{var{tick:t,tickLine:r,tickFormatter:n,stroke:a,ticks:i}=e,o=Se(e,!1),s=Se(t,!1),c=zn(zn({},o),{},{fill:"none"},Se(r,!1)),d=i.map((f,p)=>{var g=FK(f,e),m=zK(f,e.orientation),x=zn(zn(zn({textAnchor:m},o),{},{stroke:"none",fill:a},s),{},{index:p,payload:f,x:g.x2,y:g.y2});return y.createElement(Ve,Mi({className:De("recharts-polar-angle-axis-tick",uA(t)),key:"tick-".concat(f.coordinate)},eo(e,f,p)),r&&y.createElement("line",Mi({className:"recharts-polar-angle-axis-tick-line"},c,g)),y.createElement(WK,{tick:t,tickProps:x,value:n?n(f.value,p):f.value}))});return y.createElement(Ve,{className:"recharts-polar-angle-axis-ticks"},d)},KK=e=>{var{angleAxisId:t}=e,r=xe(Il),n=xe(s=>ys(s,"angleAxis",t)),a=Ut(),i=xe(s=>xs(s,"angleAxis",t,a));if(r==null||!i||!i.length)return null;var o=zn(zn(zn({},e),{},{scale:n},r),{},{radius:r.outerRadius});return y.createElement(Ve,{className:De("recharts-polar-angle-axis",lO,o.className)},y.createElement(UK,Mi({},o,{ticks:i})),y.createElement(HK,Mi({},o,{ticks:i})))};class Hd extends y.PureComponent{render(){return this.props.radius<=0?null:y.createElement(BK,{id:this.props.angleAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:this.props.reversed,includeHidden:!1,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick,domain:this.props.domain},y.createElement(KK,this.props))}}Wd(Hd,"displayName","PolarAngleAxis");Wd(Hd,"axisType",lO);Wd(Hd,"defaultProps",Fn);function xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xw(Object(r),!0).forEach(function(n){ZK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZK(e,t,r){return(t=GK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GK(e){var t=YK(e,"string");return typeof t=="symbol"?t:t+""}function YK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mv=(e,t)=>t,qK=[],vv=(e,t,r)=>r?.length===0?qK:r,cO=Z([Ed,mv,vv],(e,t,r)=>{var{chartData:n}=e,a;if(t?.data!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>bw(bw({},t.presentationProps),i.props))),a!=null)return a}),VK=Z([cO,mv,vv],(e,t,r)=>{if(e!=null)return e.map((n,a)=>{var i,o=at(n,t.nameKey,t.name),s;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?s=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?s=n.fill:s=t.fill,{value:ni(o,t.dataKey),color:s,payload:n,type:t.legendType}})}),XK=Z([dv,mv],(e,t)=>{if(e.some(r=>r.type==="pie"&&t.dataKey===r.dataKey&&t.data===r.data))return t}),JK=Z([cO,XK,vv,Dt],(e,t,r,n)=>{if(!(t==null||e==null))return BZ({offset:n,pieSettings:t,displayedData:e,cells:r})}),QK={countOfBars:0,cartesianItems:[],polarItems:[]},uO=mn({name:"graphicalItems",initialState:QK,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,a=Si(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},removeCartesianGraphicalItem(e,t){var r=Si(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Si(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addBar:eZ,removeBar:tZ,addCartesianGraphicalItem:rZ,replaceCartesianGraphicalItem:nZ,removeCartesianGraphicalItem:iZ,addPolarGraphicalItem:aZ,removePolarGraphicalItem:oZ}=uO.actions,sZ=uO.reducer;function _w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ww(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_w(Object(r),!0).forEach(function(n){lZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lZ(e,t,r){return(t=cZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cZ(e){var t=uZ(e,"string");return typeof t=="symbol"?t:t+""}function uZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dZ(e){var t=ft(),r=y.useRef(null);return y.useEffect(()=>{var n=ww(ww({},e),{},{stackId:rm(e.stackId)});r.current===null?t(rZ(n)):r.current!==n&&t(nZ({prev:r.current,next:n})),r.current=n},[t,e]),y.useEffect(()=>()=>{r.current&&(t(iZ(r.current)),r.current=null)},[t]),null}function dO(e){var t=ft();return y.useEffect(()=>(t(aZ(e)),()=>{t(oZ(e))}),[t,e]),null}var fO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(fO);var fZ=fO.isPlainObject;const hZ=Or(fZ);function Fu(){return Fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fu.apply(null,arguments)}var jw=(e,t,r,n,a)=>{var i=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+a),o+="L ".concat(e+r-i/2-n,",").concat(t+a),o+="L ".concat(e,",").concat(t," Z"),o},pZ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gZ=e=>{var t=Pr(e,pZ),r=y.useRef(),[n,a]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&a(_)}catch{}},[]);var{x:i,y:o,upperWidth:s,lowerWidth:c,height:d,className:f}=t,{animationEasing:p,animationDuration:g,animationBegin:m,isUpdateAnimationActive:x}=t;if(i!==+i||o!==+o||s!==+s||c!==+c||d!==+d||s===0&&c===0||d===0)return null;var b=De("recharts-trapezoid",f);return x?y.createElement(ei,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:d,x:i,y:o},to:{upperWidth:s,lowerWidth:c,height:d,x:i,y:o},duration:g,animationEasing:p,isActive:x},_=>{var{upperWidth:j,lowerWidth:A,height:S,x:C,y:E}=_;return y.createElement(ei,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:g,easing:p},y.createElement("path",Fu({},Se(t,!0),{className:b,d:jw(C,E,j,A,S),ref:r})))}):y.createElement("g",null,y.createElement("path",Fu({},Se(t,!0),{className:b,d:jw(i,o,s,c,d)})))},mZ=["option","shapeType","propTransformer","activeClassName","isActive"];function vZ(e,t){if(e==null)return{};var r,n,a=yZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aw(Object(r),!0).forEach(function(n){xZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xZ(e,t,r){return(t=bZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bZ(e){var t=_Z(e,"string");return typeof t=="symbol"?t:t+""}function _Z(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wZ(e,t){return zu(zu({},t),e)}function jZ(e,t){return e==="symbols"}function Sw(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return y.createElement(EA,r);case"trapezoid":return y.createElement(gZ,r);case"sector":return y.createElement(kA,r);case"symbols":if(jZ(t))return y.createElement(Bg,r);break;default:return null}}function AZ(e){return y.isValidElement(e)?e.props:e}function hO(e){var{option:t,shapeType:r,propTransformer:n=wZ,activeClassName:a="recharts-active-shape",isActive:i}=e,o=vZ(e,mZ),s;if(y.isValidElement(t))s=y.cloneElement(t,zu(zu({},o),AZ(t)));else if(typeof t=="function")s=t(o);else if(hZ(t)&&typeof t!="boolean"){var c=n(t,o);s=y.createElement(Sw,{shapeType:r,elementProps:c})}else{var d=o;s=y.createElement(Sw,{shapeType:r,elementProps:d})}return i?y.createElement(Ve,{className:a},s):s}var yv=(e,t)=>{var r=ft();return(n,a)=>i=>{e?.(n,a,i),r(hC({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},xv=e=>{var t=ft();return(r,n)=>a=>{e?.(r,n,a),t(A4())}},bv=(e,t)=>{var r=ft();return(n,a)=>i=>{e?.(n,a,i),r(S4({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function zl(e){var{fn:t,args:r}=e,n=ft(),a=Ut();return y.useEffect(()=>{if(!a){var i=t(r);return n(_4(i)),()=>{n(w4(i))}}},[t,r,n,a]),null}var pO=()=>{};function _v(e){var{legendPayload:t}=e,r=ft(),n=Ut();return y.useEffect(()=>n?pO:(r(xA(t)),()=>{r(bA(t))}),[r,n,t]),null}function gO(e){var{legendPayload:t}=e,r=ft(),n=xe(Ue);return y.useEffect(()=>n!=="centric"&&n!=="radial"?pO:(r(xA(t)),()=>{r(bA(t))}),[r,n,t]),null}function Ul(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=y.useRef(da(t)),n=y.useRef(e);return n.current!==e&&(r.current=da(t),n.current=e),r.current}var SZ=["onMouseEnter","onClick","onMouseLeave"];function CZ(e,t){if(e==null)return{};var r,n,a=OZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function OZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cw(Object(r),!0).forEach(function(n){Kd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kd(e,t,r){return(t=PZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PZ(e){var t=EZ(e,"string");return typeof t=="symbol"?t:t+""}function EZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qa(){return Qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qa.apply(null,arguments)}function TZ(e){var t=y.useMemo(()=>Se(e,!1),[e]),r=y.useMemo(()=>jl(e.children,ha),[e.children]),n=y.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:t}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,t]),a=xe(i=>VK(i,n,r));return y.createElement(gO,{legendPayload:a})}function LZ(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:o,name:s,hide:c,tooltipType:d}=e;return{dataDefinedOnItem:n?.map(f=>f.tooltipPayload),positions:n?.map(f=>f.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:ni(s,t),hide:c,type:d,color:o,unit:""}}}var kZ=(e,t)=>e>t?"start":e<t?"end":"middle",IZ=(e,t,r)=>typeof t=="function"?t(e):pr(t,r,r*.8),RZ=(e,t,r)=>{var{top:n,left:a,width:i,height:o}=t,s=cA(i,o),c=a+pr(e.cx,i,i/2),d=n+pr(e.cy,o,o/2),f=pr(e.innerRadius,s,0),p=IZ(r,e.outerRadius,s),g=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:c,cy:d,innerRadius:f,outerRadius:p,maxRadius:g}},MZ=(e,t)=>{var r=zt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},DZ=(e,t)=>{if(y.isValidElement(e))return y.cloneElement(e,t);if(typeof e=="function")return e(t);var r=De("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return y.createElement(Fo,Qa({},t,{type:"linear",className:r}))},$Z=(e,t,r)=>{if(y.isValidElement(e))return y.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),y.isValidElement(n)))return n;var a=De("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return y.createElement(vs,Qa({},t,{alignmentBaseline:"middle",className:a}),n)};function NZ(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:o}=r;if(!n||!a||!t)return null;var s=Se(r,!1),c=Se(a,!1),d=Se(i,!1),f=typeof a=="object"&&"offsetRadius"in a&&a.offsetRadius||20,p=t.map((g,m)=>{var x=(g.startAngle+g.endAngle)/2,b=et(g.cx,g.cy,g.outerRadius+f,x),_=At(At(At(At({},s),g),{},{stroke:"none"},c),{},{index:m,textAnchor:kZ(b.x,g.cx)},b),j=At(At(At(At({},s),g),{},{fill:"none",stroke:g.fill},d),{},{index:m,points:[et(g.cx,g.cy,g.outerRadius,x),b],key:"line"});return y.createElement(Ve,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(m)},i&&DZ(i,j),$Z(a,_,at(g,o)))});return y.createElement(Ve,{className:"recharts-pie-labels"},p)}function mO(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,showLabels:i}=e,o=xe(fa),{onMouseEnter:s,onClick:c,onMouseLeave:d}=a,f=CZ(a,SZ),p=yv(s,a.dataKey),g=xv(d),m=bv(c,a.dataKey);return t==null?null:y.createElement(y.Fragment,null,t.map((x,b)=>{if(x?.startAngle===0&&x?.endAngle===0&&t.length!==1)return null;var _=r&&String(b)===o,j=o?n:null,A=_?r:j,S=At(At({},x),{},{stroke:x.stroke,tabIndex:-1,[pA]:b,[gA]:a.dataKey});return y.createElement(Ve,Qa({tabIndex:-1,className:"recharts-pie-sector"},eo(f,x,b),{onMouseEnter:p(x,b),onMouseLeave:g(x,b),onClick:m(x,b),key:"sector-".concat(x?.startAngle,"-").concat(x?.endAngle,"-").concat(x.midAngle,"-").concat(b)}),y.createElement(hO,Qa({option:A,isActive:_,shapeType:"sector"},S)))}),y.createElement(NZ,{sectors:t,props:a,showLabels:i}))}function BZ(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:o,startAngle:s,endAngle:c,dataKey:d,nameKey:f,tooltipType:p}=r,g=Math.abs(r.minAngle),m=MZ(s,c),x=Math.abs(m),b=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,_=n.filter(k=>at(k,d,0)!==0).length,j=(x>=360?_:_-1)*b,A=x-_*g-j,S=n.reduce((k,I)=>{var U=at(I,d,0);return k+(ye(U)?U:0)},0),C;if(S>0){var E;C=n.map((k,I)=>{var U=at(k,d,0),V=at(k,f,I),re=RZ(r,i,k),te=(ye(U)?U:0)/S,J,ne=At(At({},k),a&&a[I]&&a[I].props);I?J=E.endAngle+zt(m)*b*(U!==0?1:0):J=s;var fe=J+zt(m)*((U!==0?g:0)+te*A),Q=(J+fe)/2,G=(re.innerRadius+re.outerRadius)/2,B=[{name:V,value:U,payload:ne,dataKey:d,type:p}],X=et(re.cx,re.cy,G,Q);return E=At(At(At(At({},r.presentationProps),{},{percent:te,cornerRadius:o,name:V,tooltipPayload:B,midAngle:Q,middleRadius:G,tooltipPosition:X},ne),re),{},{value:at(k,d),startAngle:J,endAngle:fe,payload:ne,paddingAngle:zt(m)*b}),E})}return C}function FZ(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:s,activeShape:c,inactiveShape:d,onAnimationStart:f,onAnimationEnd:p}=t,g=Ul(t,"recharts-pie-"),m=r.current,[x,b]=y.useState(!0),_=y.useCallback(()=>{typeof p=="function"&&p(),b(!1)},[p]),j=y.useCallback(()=>{typeof f=="function"&&f(),b(!0)},[f]);return y.createElement(ei,{begin:i,duration:o,isActive:a,easing:s,from:{t:0},to:{t:1},onAnimationStart:j,onAnimationEnd:_,key:g},A=>{var{t:S}=A,C=[],E=n&&n[0],k=E.startAngle;return n.forEach((I,U)=>{var V=m&&m[U],re=U>0?ua(I,"paddingAngle",0):0;if(V){var te=Xt(V.endAngle-V.startAngle,I.endAngle-I.startAngle),J=At(At({},I),{},{startAngle:k+re,endAngle:k+te(S)+re});C.push(J),k=J.endAngle}else{var{endAngle:ne,startAngle:fe}=I,Q=Xt(0,ne-fe),G=Q(S),B=At(At({},I),{},{startAngle:k+re,endAngle:k+G+re});C.push(B),k=B.endAngle}}),r.current=C,y.createElement(Ve,null,y.createElement(mO,{sectors:C,activeShape:c,inactiveShape:d,allOtherPieProps:t,showLabels:!x}))})}function zZ(e){var{sectors:t,isAnimationActive:r,activeShape:n,inactiveShape:a}=e,i=y.useRef(null),o=i.current;return r&&t&&t.length&&(!o||o!==t)?y.createElement(FZ,{props:e,previousSectorsRef:i}):y.createElement(mO,{sectors:t,activeShape:n,inactiveShape:a,allOtherPieProps:e,showLabels:!0})}function UZ(e){var{hide:t,className:r,rootTabIndex:n}=e,a=De("recharts-pie",r);return t?null:y.createElement(Ve,{tabIndex:n,className:a},y.createElement(zZ,e))}var vO={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ni.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function WZ(e){var t=Pr(e,vO),r=y.useMemo(()=>jl(e.children,ha),[e.children]),n=Se(t,!1),a=y.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:n}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,n]),i=xe(o=>JK(o,a,r));return y.createElement(y.Fragment,null,y.createElement(zl,{fn:LZ,args:At(At({},t),{},{sectors:i})}),y.createElement(UZ,Qa({},t,{sectors:i})))}class rs extends y.PureComponent{constructor(){super(...arguments),Kd(this,"id",da("recharts-pie-"))}render(){return y.createElement(y.Fragment,null,y.createElement(dO,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),y.createElement(TZ,this.props),y.createElement(WZ,this.props),this.props.children)}}Kd(rs,"displayName","Pie");Kd(rs,"defaultProps",vO);var HZ=Z([Dt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),KZ=Z([HZ,Di,$i],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),ZZ=e=>{var t=Ut();return xe(r=>gn(r,"xAxis",e,t))},GZ=e=>{var t=Ut();return xe(r=>gn(r,"yAxis",e,t))},Zd=()=>xe(KZ),YZ=()=>xe(c8);function Ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ow(Object(r),!0).forEach(function(n){qZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qZ(e,t,r){return(t=VZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VZ(e){var t=XZ(e,"string");return typeof t=="symbol"?t:t+""}function XZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JZ=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var o=Pw(Pw({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Se(a,!1)),Rg(a)),s;return y.isValidElement(a)?s=y.cloneElement(a,o):typeof a=="function"?s=a(o):s=y.createElement(Fl,o),y.createElement(Ve,{className:"recharts-active-dot"},s)};function Uu(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=xe(fa),o=YZ();if(t==null||o==null)return null;var s=t.find(c=>o.includes(c.payload));return tt(s)?null:JZ({point:s,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var QZ=e=>y.createElement(dO,e);function Ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ew(Object(r),!0).forEach(function(n){eG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eG(e,t,r){return(t=tG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tG(e){var t=rG(e,"string");return typeof t=="symbol"?t:t+""}function rG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yO=(e,t)=>ys(e,"radiusAxis",t),nG=Z([yO],e=>{if(e!=null)return{scale:e}}),iG=Z([kl,yO],(e,t)=>{if(!(e==null||t==null))return Wu(Wu({},e),{},{scale:t})}),aG=(e,t,r,n)=>xs(e,"radiusAxis",t,n),xO=(e,t,r)=>us(e,r),bO=(e,t,r)=>ys(e,"angleAxis",r),oG=Z([xO,bO],(e,t)=>{if(!(e==null||t==null))return Wu(Wu({},e),{},{scale:t})}),sG=(e,t,r,n)=>xs(e,"angleAxis",r,n),lG=Z([xO,bO,Il],(e,t,r)=>{if(!(r==null||t==null))return{scale:t,type:e.type,dataKey:e.dataKey,cx:r.cx,cy:r.cy}}),cG=(e,t,r,n,a)=>a,uG=Z([Ue,iG,aG,oG,sG],(e,t,r,n,a)=>Mn(e,"radiusAxis")?Ti(t,r,!1):Ti(n,a,!1)),dG=Z([dv,cG],(e,t)=>{if(e.some(r=>r.type==="radar"&&t===r.dataKey))return t}),fG=Z([nG,lG,Ed,dG,uG],(e,t,r,n,a)=>{var{chartData:i,dataStartIndex:o,dataEndIndex:s}=r;if(!(e==null||t==null||i==null||a==null||n==null)){var c=i.slice(o,s+1);return yG({radiusAxis:e,angleAxis:t,displayedData:c,dataKey:n,bandSize:a})}});function Tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tw(Object(r),!0).forEach(function(n){wv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wv(e,t,r){return(t=hG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hG(e){var t=pG(e,"string");return typeof t=="symbol"?t:t+""}function pG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yl(){return yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yl.apply(null,arguments)}function jv(e,t){return e&&e!=="none"?e:t}var gG=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:jv(n,a),value:ni(r,t),payload:e}]};function mG(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,tooltipType:s}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,nameKey:void 0,dataKey:t,name:ni(i,t),hide:o,type:s,color:jv(r,a),unit:""}}}function vG(e,t){var r;return y.isValidElement(e)?r=y.cloneElement(e,t):typeof e=="function"?r=e(t):r=y.createElement(Fl,yl({},t,{className:De("recharts-radar-dot",typeof e!="boolean"?e.className:"")})),r}function yG(e){var{radiusAxis:t,angleAxis:r,displayedData:n,dataKey:a,bandSize:i}=e,{cx:o,cy:s}=r,c=!1,d=[],f=r.type!=="number"?i??0:0;n.forEach((g,m)=>{var x=at(g,r.dataKey,m),b=at(g,a),_=r.scale(x)+f,j=Array.isArray(b)?YC(b):b,A=tt(j)?void 0:t.scale(j);Array.isArray(b)&&b.length>=2&&(c=!0),d.push(fr(fr({},et(o,s,A,_)),{},{name:x,value:b,cx:o,cy:s,radius:A,angle:_,payload:g}))});var p=[];return c&&d.forEach(g=>{if(Array.isArray(g.value)){var m=g.value[0],x=tt(m)?void 0:t.scale(m);p.push(fr(fr({},g),{},{radius:x},et(o,s,x,g.angle)))}else p.push(g)}),{points:d,isRange:c,baseLinePoints:p}}function xG(e){var{points:t,props:r}=e,{dot:n,dataKey:a}=r;if(!n)return null;var i=Se(r,!1),o=Se(n,!0),s=t.map((c,d)=>{var f=fr(fr(fr({key:"dot-".concat(d),r:3},i),o),{},{dataKey:a,cx:c.x,cy:c.y,index:d,payload:c});return vG(n,f)});return y.createElement(Ve,{className:"recharts-radar-dots"},s)}function _O(e){var{points:t,props:r,showLabels:n}=e;if(t==null)return null;var{shape:a,isRange:i,baseLinePoints:o,connectNulls:s}=r,c=p=>{var{onMouseEnter:g}=r;g&&g(r,p)},d=p=>{var{onMouseLeave:g}=r;g&&g(r,p)},f;return y.isValidElement(a)?f=y.cloneElement(a,fr(fr({},r),{},{points:t})):typeof a=="function"?f=a(fr(fr({},r),{},{points:t})):f=y.createElement(qC,yl({},Se(r,!0),{onMouseEnter:c,onMouseLeave:d,points:t,baseLinePoints:i?o:null,connectNulls:s})),y.createElement(Ve,{className:"recharts-radar-polygon"},f,y.createElement(xG,{props:r,points:t}),n&&Jn.renderCallByParent(r,t))}function bG(e){var{props:t,previousPointsRef:r}=e,{points:n,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:s,onAnimationEnd:c,onAnimationStart:d}=t,f=r.current,p=Ul(t,"recharts-radar-"),[g,m]=y.useState(!0),x=y.useCallback(()=>{typeof c=="function"&&c(),m(!1)},[c]),b=y.useCallback(()=>{typeof d=="function"&&d(),m(!0)},[d]);return y.createElement(ei,{begin:i,duration:o,isActive:a,easing:s,from:{t:0},to:{t:1},key:"radar-".concat(p),onAnimationEnd:x,onAnimationStart:b},_=>{var{t:j}=_,A=f&&f.length/n.length,S=j===1?n:n.map((C,E)=>{var k=f&&f[Math.floor(E*A)];if(k){var I=Xt(k.x,C.x),U=Xt(k.y,C.y);return fr(fr({},C),{},{x:I(j),y:U(j)})}var V=Xt(C.cx,C.x),re=Xt(C.cy,C.y);return fr(fr({},C),{},{x:V(j),y:re(j)})});return j>0&&(r.current=S),y.createElement(_O,{points:S,props:t,showLabels:!g})})}function _G(e){var{points:t,isAnimationActive:r,isRange:n}=e,a=y.useRef(void 0),i=a.current;return r&&t&&t.length&&!n&&(!i||i!==t)?y.createElement(bG,{props:e,previousPointsRef:a}):y.createElement(_O,{points:t,props:e,showLabels:!0})}var wG={angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Ni.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"};class jG extends y.PureComponent{render(){var{hide:t,className:r,points:n}=this.props;if(t)return null;var a=De("recharts-radar",r);return y.createElement(y.Fragment,null,y.createElement(Ve,{className:a},y.createElement(_G,this.props)),y.createElement(Uu,{points:n,mainColor:jv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}function AG(e){var t=Ut(),r=xe(n=>fG(n,e.radiusAxisId,e.angleAxisId,t,e.dataKey));return y.createElement(jG,yl({},e,{points:r?.points,baseLinePoints:r?.baseLinePoints,isRange:r?.isRange}))}class Av extends y.PureComponent{render(){return y.createElement(y.Fragment,null,y.createElement(QZ,{data:void 0,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:this.props.angleAxisId,radiusAxisId:this.props.radiusAxisId,stackId:void 0,barSize:void 0,type:"radar"}),y.createElement(gO,{legendPayload:gG(this.props)}),y.createElement(zl,{fn:mG,args:this.props}),y.createElement(AG,this.props))}}wv(Av,"displayName","Radar");wv(Av,"defaultProps",wG);var SG=()=>{var e=ft();return y.useEffect(()=>(e(eZ()),()=>{e(tZ())})),null},CG=["children"];function OG(e,t){if(e==null)return{};var r,n,a=PG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function PG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Lw=()=>{},wO=y.createContext({addErrorBar:Lw,removeErrorBar:Lw}),EG={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},jO=y.createContext(EG);function AO(e){var{children:t}=e,r=OG(e,CG);return y.createElement(jO.Provider,{value:r},t)}var TG=()=>y.useContext(jO),Sv=e=>{var{children:t,xAxisId:r,yAxisId:n,zAxisId:a,dataKey:i,data:o,stackId:s,hide:c,type:d,barSize:f}=e,[p,g]=y.useState([]),m=y.useCallback(_=>{g(j=>[...j,_])},[g]),x=y.useCallback(_=>{g(j=>j.filter(A=>A!==_))},[g]),b=Ut();return y.createElement(wO.Provider,{value:{addErrorBar:m,removeErrorBar:x}},y.createElement(dZ,{type:d,data:o,xAxisId:r,yAxisId:n,zAxisId:a,dataKey:i,errorBars:p,stackId:s,hide:c,barSize:f,isPanorama:b}),t)};function LG(e){var{addErrorBar:t,removeErrorBar:r}=y.useContext(wO);return y.useEffect(()=>(t(e),()=>{r(e)}),[t,r,e]),null}var kG=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function SO(e,t,r){return(t=IG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IG(e){var t=RG(e,"string");return typeof t=="symbol"?t:t+""}function RG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xl(){return xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xl.apply(null,arguments)}function MG(e,t){if(e==null)return{};var r,n,a=DG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function DG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $G(e){var{direction:t,width:r,dataKey:n,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:s}=e,c=MG(e,kG),d=Se(c,!1),{data:f,dataPointFormatter:p,xAxisId:g,yAxisId:m,errorBarOffset:x}=TG(),b=ZZ(g),_=GZ(m);if(b?.scale==null||_?.scale==null||f==null||t==="x"&&b.type!=="number")return null;var j=f.map(A=>{var{x:S,y:C,value:E,errorVal:k}=p(A,n,t);if(!k)return null;var I=[],U,V;if(Array.isArray(k)?[U,V]=k:U=V=k,t==="x"){var{scale:re}=b,te=C+x,J=te+r,ne=te-r,fe=re(E-U),Q=re(E+V);I.push({x1:Q,y1:J,x2:Q,y2:ne}),I.push({x1:fe,y1:te,x2:Q,y2:te}),I.push({x1:fe,y1:J,x2:fe,y2:ne})}else if(t==="y"){var{scale:G}=_,B=S+x,X=B-r,ae=B+r,me=G(E-U),$=G(E+V);I.push({x1:X,y1:$,x2:ae,y2:$}),I.push({x1:B,y1:me,x2:B,y2:$}),I.push({x1:X,y1:me,x2:ae,y2:me})}var N="".concat(S+x,"px ").concat(C+x,"px");return y.createElement(Ve,xl({className:"recharts-errorBar",key:"bar-".concat(I.map(Y=>"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)))},d),I.map(Y=>{var se=a?{transformOrigin:"".concat(Y.x1-5,"px")}:void 0;return y.createElement(ei,{from:{transform:"scaleY(0)",transformOrigin:N},to:{transform:"scaleY(1)",transformOrigin:N},begin:i,easing:s,isActive:a,duration:o,key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2),style:{transformOrigin:N}},y.createElement("line",xl({},Y,{style:se})))}))});return y.createElement(Ve,{className:"recharts-errorBars"},j)}var CO=y.createContext(void 0);function NG(e){var t=y.useContext(CO);return e??t??"x"}function OO(e){var{direction:t,children:r}=e;return y.createElement(CO.Provider,{value:t},r)}var PO={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function BG(e){var t=NG(e.direction),{width:r,isAnimationActive:n,animationBegin:a,animationDuration:i,animationEasing:o}=Pr(e,PO);return y.createElement(y.Fragment,null,y.createElement(LG,{dataKey:e.dataKey,direction:t}),y.createElement($G,xl({},e,{direction:t,width:r,isAnimationActive:n,animationBegin:a,animationDuration:i,animationEasing:o})))}class EO extends y.Component{render(){return y.createElement(BG,this.props)}}SO(EO,"defaultProps",PO);SO(EO,"displayName","ErrorBar");var FG="Invariant failed";function zG(e,t){throw new Error(FG)}var UG=["x","y"];function og(){return og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},og.apply(null,arguments)}function kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kw(Object(r),!0).forEach(function(n){WG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WG(e,t,r){return(t=HG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HG(e){var t=KG(e,"string");return typeof t=="symbol"?t:t+""}function KG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZG(e,t){if(e==null)return{};var r,n,a=GG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function GG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function YG(e,t){var{x:r,y:n}=e,a=ZG(e,UG),i="".concat(r),o=parseInt(i,10),s="".concat(n),c=parseInt(s,10),d="".concat(t.height||a.height),f=parseInt(d,10),p="".concat(t.width||a.width),g=parseInt(p,10);return Zs(Zs(Zs(Zs(Zs({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:g,name:t.name,radius:t.radius})}function TO(e){return y.createElement(hO,og({shapeType:"rectangle",propTransformer:YG,activeClassName:"recharts-active-bar"},e))}var qG=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(ye(t))return t;var i=ye(n)||tt(n);return i?t(n,a):(i||zG(),r)}};function Gd(e,t){var r,n,a=xe(d=>Fi(d,e)),i=xe(d=>va(d,t)),o=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Mr.allowDataOverflow,s=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Dr.allowDataOverflow,c=o||s;return{needClip:c,needClipX:o,needClipY:s}}function Cv(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=Zd(),{needClipX:i,needClipY:o,needClip:s}=Gd(t,r);if(!s)return null;var{x:c,y:d,width:f,height:p}=a;return y.createElement("clipPath",{id:"clipPath-".concat(n)},y.createElement("rect",{x:i?c:c-f/2,y:o?d:d-p/2,width:i?f:f*2,height:o?p:p*2}))}var VG=["onMouseEnter","onMouseLeave","onClick"],XG=["value","background","tooltipPosition"],JG=["onMouseEnter","onClick","onMouseLeave"];function bl(){return bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bl.apply(null,arguments)}function Iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iw(Object(r),!0).forEach(function(n){Yd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yd(e,t,r){return(t=QG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QG(e){var t=eY(e,"string");return typeof t=="symbol"?t:t+""}function eY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sg(e,t){if(e==null)return{};var r,n,a=tY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rY=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:ni(r,t),payload:e}]};function nY(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,unit:s}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:ni(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:s}}}function iY(e){var t=xe(fa),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:s,onClick:c}=i,d=sg(i,VG),f=yv(o,n),p=xv(s),g=bv(c,n);if(!a||r==null)return null;var m=Se(a,!1);return y.createElement(y.Fragment,null,r.map((x,b)=>{var{value:_,background:j,tooltipPosition:A}=x,S=sg(x,XG);if(!j)return null;var C=f(x,b),E=p(x,b),k=g(x,b),I=ar(ar(ar(ar(ar({option:a,isActive:String(b)===t},S),{},{fill:"#eee"},j),m),eo(d,x,b)),{},{onMouseEnter:C,onMouseLeave:E,onClick:k,dataKey:n,index:b,className:"recharts-bar-background-rectangle"});return y.createElement(TO,bl({key:"background-bar-".concat(b)},I))}))}function LO(e){var{data:t,props:r,showLabels:n}=e,a=Se(r,!1),{shape:i,dataKey:o,activeBar:s}=r,c=xe(fa),d=xe(CC),{onMouseEnter:f,onClick:p,onMouseLeave:g}=r,m=sg(r,JG),x=yv(f,o),b=xv(g),_=bv(p,o);return t?y.createElement(y.Fragment,null,t.map((j,A)=>{var S=s&&String(A)===c&&(d==null||o===d),C=S?s:i,E=ar(ar(ar({},a),j),{},{isActive:S,option:C,index:A,dataKey:o});return y.createElement(Ve,bl({className:"recharts-bar-rectangle"},eo(m,j,A),{onMouseEnter:x(j,A),onMouseLeave:b(j,A),onClick:_(j,A),key:"rectangle-".concat(j?.x,"-").concat(j?.y,"-").concat(j?.value,"-").concat(A)}),y.createElement(TO,E))}),n&&Jn.renderCallByParent(r,t)):null}function aY(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:c,onAnimationEnd:d,onAnimationStart:f}=t,p=r.current,g=Ul(t,"recharts-bar-"),[m,x]=y.useState(!1),b=y.useCallback(()=>{typeof d=="function"&&d(),x(!1)},[d]),_=y.useCallback(()=>{typeof f=="function"&&f(),x(!0)},[f]);return y.createElement(ei,{begin:o,duration:s,isActive:i,easing:c,from:{t:0},to:{t:1},onAnimationEnd:b,onAnimationStart:_,key:g},j=>{var{t:A}=j,S=A===1?n:n.map((C,E)=>{var k=p&&p[E];if(k){var I=Xt(k.x,C.x),U=Xt(k.y,C.y),V=Xt(k.width,C.width),re=Xt(k.height,C.height);return ar(ar({},C),{},{x:I(A),y:U(A),width:V(A),height:re(A)})}if(a==="horizontal"){var te=Xt(0,C.height),J=te(A);return ar(ar({},C),{},{y:C.y+C.height-J,height:J})}var ne=Xt(0,C.width),fe=ne(A);return ar(ar({},C),{},{width:fe})});return A>0&&(r.current=S),y.createElement(Ve,null,y.createElement(LO,{props:t,data:S,showLabels:!m}))})}function oY(e){var{data:t,isAnimationActive:r}=e,n=y.useRef(null);return r&&t&&t.length&&(n.current==null||n.current!==t)?y.createElement(aY,{previousRectanglesRef:n,props:e}):y.createElement(LO,{props:e,data:t,showLabels:!0})}var kO=0,sY=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:at(e,t)}};class lY extends y.PureComponent{constructor(){super(...arguments),Yd(this,"id",da("recharts-bar-"))}render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:s,background:c,id:d,layout:f}=this.props;if(t)return null;var p=De("recharts-bar",a),g=tt(d)?this.id:d;return y.createElement(Ve,{className:p},s&&y.createElement("defs",null,y.createElement(Cv,{clipPathId:g,xAxisId:i,yAxisId:o})),y.createElement(Ve,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(g,")"):null},y.createElement(iY,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),y.createElement(oY,this.props)),y.createElement(OO,{direction:f==="horizontal"?"y":"x"},this.props.children))}}var IO={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ni.isSsr,legendType:"rect",minPointSize:kO,xAxisId:0,yAxisId:0};function cY(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:s,animationDuration:c,animationEasing:d,isAnimationActive:f}=Pr(e,IO),{needClip:p}=Gd(t,r),g=Cl(),m=Ut(),x=y.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:i,stackId:rm(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,i,e.stackId]),b=jl(e.children,ha),_=xe(S=>$Y(S,t,r,m,x,b));if(g!=="vertical"&&g!=="horizontal")return null;var j,A=_?.[0];return A==null||A.height==null||A.width==null?j=0:j=g==="vertical"?A.height/2:A.width/2,y.createElement(AO,{xAxisId:t,yAxisId:r,data:_,dataPointFormatter:sY,errorBarOffset:j},y.createElement(lY,bl({},e,{layout:g,needClip:p,data:_,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:s,animationDuration:c,animationEasing:d,isAnimationActive:f})))}function uY(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:s,xAxisTicks:c,yAxisTicks:d,stackedData:f,displayedData:p,offset:g,cells:m}=e,x=t==="horizontal"?s:o,b=f?x.scale.domain():null,_=Zz({numericAxis:x});return p.map((j,A)=>{var S,C,E,k,I,U;f?S=zz(f[A],b):(S=at(j,r),Array.isArray(S)||(S=[_,S]));var V=qG(n,kO)(S[1],A);if(t==="horizontal"){var re,[te,J]=[s.scale(S[0]),s.scale(S[1])];C=Tb({axis:o,ticks:c,bandSize:i,offset:a.offset,entry:j,index:A}),E=(re=J??te)!==null&&re!==void 0?re:void 0,k=a.size;var ne=te-J;if(I=Cr(ne)?0:ne,U={x:C,y:g.top,width:k,height:g.height},Math.abs(V)>0&&Math.abs(I)<Math.abs(V)){var fe=zt(I||V)*(Math.abs(V)-Math.abs(I));E-=fe,I+=fe}}else{var[Q,G]=[o.scale(S[0]),o.scale(S[1])];if(C=Q,E=Tb({axis:s,ticks:d,bandSize:i,offset:a.offset,entry:j,index:A}),k=G-Q,I=a.size,U={x:g.left,y:E,width:g.width,height:I},Math.abs(V)>0&&Math.abs(k)<Math.abs(V)){var B=zt(k||V)*(Math.abs(V)-Math.abs(k));k+=B}}var X=ar(ar({},j),{},{x:C,y:E,width:k,height:I,value:f?S:S[1],payload:j,background:U,tooltipPosition:{x:C+k/2,y:E+I/2}},m&&m[A]&&m[A].props);return X})}class bi extends y.PureComponent{render(){return y.createElement(Sv,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},y.createElement(SG,null),y.createElement(_v,{legendPayload:rY(this.props)}),y.createElement(zl,{fn:nY,args:this.props}),y.createElement(cY,this.props))}}Yd(bi,"displayName","Bar");Yd(bi,"defaultProps",IO);function Rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rw(Object(r),!0).forEach(function(n){dY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dY(e,t,r){return(t=fY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fY(e){var t=hY(e,"string");return typeof t=="symbol"?t:t+""}function hY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pY=(e,t)=>t,gY=(e,t,r)=>r,mY=(e,t,r,n)=>n,Ov=(e,t,r,n,a)=>a,vY=(e,t,r,n,a)=>a.maxBarSize,yY=(e,t,r,n,a,i)=>i,Mw=(e,t,r)=>{var n=r??e;if(!tt(n))return pr(n,t,0)},xY=Z([Ue,Ml,pY,gY,mY],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),bY=(e,t,r,n)=>{var a=Ue(e);return a==="horizontal"?gl(e,"yAxis",r,n):gl(e,"xAxis",t,n)},_Y=(e,t,r)=>{var n=Ue(e);return n==="horizontal"?F_(e,"xAxis",t):F_(e,"yAxis",r)};function wY(e){return e.stackId!=null&&e.dataKey!=null}var jY=(e,t,r)=>{var n={},a=e.filter(wY),i=e.filter(d=>d.stackId==null),o=a.reduce((d,f)=>(d[f.stackId]||(d[f.stackId]=[]),d[f.stackId].push(f),d),n),s=Object.entries(o).map(d=>{var[f,p]=d,g=p.map(x=>x.dataKey),m=Mw(t,r,p[0].barSize);return{stackId:f,dataKeys:g,barSize:m}}),c=i.map(d=>{var f=[d.dataKey].filter(g=>g!=null),p=Mw(t,r,d.barSize);return{stackId:void 0,dataKeys:f,barSize:p}});return[...s,...c]},AY=Z([xY,_W,_Y],jY),SY=(e,t,r,n,a)=>{var i,o,s=Ue(e),c=LS(e),{maxBarSize:d}=a,f=tt(d)?c:d,p,g;return s==="horizontal"?(p=gn(e,"xAxis",t,n),g=ri(e,"xAxis",t,n)):(p=gn(e,"yAxis",r,n),g=ri(e,"yAxis",r,n)),(i=(o=Ti(p,g,!0))!==null&&o!==void 0?o:f)!==null&&i!==void 0?i:0},RO=(e,t,r,n)=>{var a=Ue(e),i,o;return a==="horizontal"?(i=gn(e,"xAxis",t,n),o=ri(e,"xAxis",t,n)):(i=gn(e,"yAxis",r,n),o=ri(e,"yAxis",r,n)),Ti(i,o)};function CY(e,t,r,n,a){var i=n.length;if(!(i<1)){var o=pr(e,r,0,!0),s,c=[];if(Jt(n[0].barSize)){var d=!1,f=r/i,p=n.reduce((j,A)=>j+(A.barSize||0),0);p+=(i-1)*o,p>=r&&(p-=(i-1)*o,o=0),p>=r&&f>0&&(d=!0,f*=.9,p=i*f);var g=(r-p)/2>>0,m={offset:g-o,size:0};s=n.reduce((j,A)=>{var S,C={stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:m.offset+m.size+o,size:d?f:(S=A.barSize)!==null&&S!==void 0?S:0}},E=[...j,C];return m=E[E.length-1].position,E},c)}else{var x=pr(t,r,0,!0);r-2*x-(i-1)*o<=0&&(o=0);var b=(r-2*x-(i-1)*o)/i;b>1&&(b>>=0);var _=Jt(a)?Math.min(b,a):b;s=n.reduce((j,A,S)=>[...j,{stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:x+(b+o)*S+(b-_)/2,size:_}}],c)}return s}}var OY=(e,t,r,n,a,i,o)=>{var s=tt(o)?t:o,c=CY(r,n,a!==i?a:i,e,s);return a!==i&&c!=null&&(c=c.map(d=>Yc(Yc({},d),{},{position:Yc(Yc({},d.position),{},{offset:d.position.offset-a/2})}))),c},PY=Z([AY,LS,bW,kS,SY,RO,vY],OY),EY=(e,t,r,n)=>gn(e,"xAxis",t,n),TY=(e,t,r,n)=>gn(e,"yAxis",r,n),LY=(e,t,r,n)=>ri(e,"xAxis",t,n),kY=(e,t,r,n)=>ri(e,"yAxis",r,n),IY=Z([PY,Ov],(e,t)=>{if(e!=null){var r=e.find(n=>n.stackId===t.stackId&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),RY=(e,t)=>{if(!(!e||t?.dataKey==null)){var{stackId:r}=t;if(r!=null){var n=e[r];if(n){var{stackedData:a}=n;if(a){var i=a.find(o=>o.key===t.dataKey);return i}}}}},MY=Z([Ml,Ov],(e,t)=>{if(e.some(r=>r.type==="bar"&&t.dataKey===r.dataKey&&t.stackId===r.stackId&&t.stackId===r.stackId))return t}),DY=Z([bY,Ov],RY),$Y=Z([Dt,EY,TY,LY,kY,IY,Ue,Td,RO,DY,MY,yY],(e,t,r,n,a,i,o,s,c,d,f,p)=>{var{chartData:g,dataStartIndex:m,dataEndIndex:x}=s;if(!(f==null||i==null||o!=="horizontal"&&o!=="vertical"||t==null||r==null||n==null||a==null||c==null)){var{data:b}=f,_;if(b!=null&&b.length>0?_=b:_=g?.slice(m,x+1),_!=null)return uY({layout:o,barSettings:f,pos:i,bandSize:c,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,stackedData:d,displayedData:_,offset:e,cells:p})}}),MO=e=>{var{chartData:t}=e,r=ft(),n=Ut();return y.useEffect(()=>n?()=>{}:(r(q_(t)),()=>{r(q_(void 0))}),[t,r,n]),null},Dw={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},DO=mn({name:"brush",initialState:Dw,reducers:{setBrushSettings(e,t){return t.payload==null?Dw:t.payload}}}),{setBrushSettings:z7}=DO.actions,NY=DO.reducer;function BY(e,t,r){return(t=FY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FY(e){var t=zY(e,"string");return typeof t=="symbol"?t:t+""}function zY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Pv{static create(t){return new Pv(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}BY(Pv,"EPS",1e-4);function UY(e){return(e%180+180)%180}var WY=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=UY(a),o=i*Math.PI/180,s=Math.atan(n/r),c=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},HY={dots:[],areas:[],lines:[]},$O=mn({name:"referenceElements",initialState:HY,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Si(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Si(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Si(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:U7,removeDot:W7,addArea:H7,removeArea:K7,addLine:Z7,removeLine:G7}=$O.actions,KY=$O.reducer,ZY=y.createContext(void 0),GY=e=>{var{children:t}=e,[r]=y.useState("".concat(da("recharts"),"-clip")),n=Zd();if(n==null)return null;var{x:a,y:i,width:o,height:s}=n;return y.createElement(ZY.Provider,{value:r},y.createElement("defs",null,y.createElement("clipPath",{id:r},y.createElement("rect",{x:a,y:i,height:s,width:o}))),t)};function Yh(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function NO(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function YY(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return WY(n,r)}function qY(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:s}=e;return t===1?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}function Hu(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function VY(e,t){return NO(e,t+1)}function XY(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:s}=t,c=0,d=1,f=o,p=function(){var x=n?.[c];if(x===void 0)return{v:NO(n,d)};var b=c,_,j=()=>(_===void 0&&(_=r(x,b)),_),A=x.coordinate,S=c===0||Hu(e,A,j,f,s);S||(c=0,f=o,d+=1),S&&(f=A+e*(j()/2+a),c+=d)},g;d<=i.length;)if(g=p(),g)return g.v;return[]}function $w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$w(Object(r),!0).forEach(function(n){JY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JY(e,t,r){return(t=QY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QY(e){var t=eq(e,"string");return typeof t=="symbol"?t:t+""}function eq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tq(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:s}=t,{end:c}=t,d=function(g){var m=i[g],x,b=()=>(x===void 0&&(x=r(m,g)),x);if(g===o-1){var _=e*(m.coordinate+e*b()/2-c);i[g]=m=ir(ir({},m),{},{tickCoord:_>0?m.coordinate-_*e:m.coordinate})}else i[g]=m=ir(ir({},m),{},{tickCoord:m.coordinate});var j=Hu(e,m.tickCoord,b,s,c);j&&(c=m.tickCoord-e*(b()/2+a),i[g]=ir(ir({},m),{},{isShow:!0}))},f=o-1;f>=0;f--)d(f);return i}function rq(e,t,r,n,a,i){var o=(n||[]).slice(),s=o.length,{start:c,end:d}=t;if(i){var f=n[s-1],p=r(f,s-1),g=e*(f.coordinate+e*p/2-d);o[s-1]=f=ir(ir({},f),{},{tickCoord:g>0?f.coordinate-g*e:f.coordinate});var m=Hu(e,f.tickCoord,()=>p,c,d);m&&(d=f.tickCoord-e*(p/2+a),o[s-1]=ir(ir({},f),{},{isShow:!0}))}for(var x=i?s-1:s,b=function(A){var S=o[A],C,E=()=>(C===void 0&&(C=r(S,A)),C);if(A===0){var k=e*(S.coordinate-e*E()/2-c);o[A]=S=ir(ir({},S),{},{tickCoord:k<0?S.coordinate-k*e:S.coordinate})}else o[A]=S=ir(ir({},S),{},{tickCoord:S.coordinate});var I=Hu(e,S.tickCoord,E,c,d);I&&(c=S.tickCoord+e*(E()/2+a),o[A]=ir(ir({},S),{},{isShow:!0}))},_=0;_<x;_++)b(_);return o}function Ev(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:s,interval:c,tickFormatter:d,unit:f,angle:p}=e;if(!a||!a.length||!n)return[];if(ye(c)||Ni.isSsr){var g;return(g=VY(a,ye(c)?c:0))!==null&&g!==void 0?g:[]}var m=[],x=s==="top"||s==="bottom"?"width":"height",b=f&&x==="width"?tl(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=(S,C)=>{var E=typeof d=="function"?d(S.value,C):S.value;return x==="width"?YY(tl(E,{fontSize:t,letterSpacing:r}),b,p):tl(E,{fontSize:t,letterSpacing:r})[x]},j=a.length>=2?zt(a[1].coordinate-a[0].coordinate):1,A=qY(i,j,x);return c==="equidistantPreserveStart"?XY(j,A,_,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=rq(j,A,_,a,o,c==="preserveStartEnd"):m=tq(j,A,_,a,o),m.filter(S=>S.isShow))}var nq=["viewBox"],iq=["viewBox"];function Mo(){return Mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mo.apply(null,arguments)}function Nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nw(Object(r),!0).forEach(function(n){Tv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bw(e,t){if(e==null)return{};var r,n,a=aq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Tv(e,t,r){return(t=oq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oq(e){var t=sq(e,"string");return typeof t=="symbol"?t:t+""}function sq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class xa extends y.Component{constructor(t){super(t),this.tickRefs=y.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,a=Bw(t,nq),i=this.props,{viewBox:o}=i,s=Bw(i,iq);return!Yh(n,o)||!Yh(a,s)||!Yh(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:a,height:i,orientation:o,tickSize:s,mirror:c,tickMargin:d}=this.props,f,p,g,m,x,b,_=c?-1:1,j=t.tickSize||s,A=ye(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":f=p=t.coordinate,m=n+ +!c*i,g=m-_*j,b=g-_*d,x=A;break;case"left":g=m=t.coordinate,p=r+ +!c*a,f=p-_*j,x=f-_*d,b=A;break;case"right":g=m=t.coordinate,p=r+ +c*a,f=p+_*j,x=f+_*d,b=A;break;default:f=p=t.coordinate,m=n+ +c*i,g=m+_*j,b=g+_*d,x=A;break}return{line:{x1:f,y1:g,x2:p,y2:m},tick:{x,y:b}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:s}=this.props,c=Rt(Rt(Rt({},Se(this.props,!1)),Se(s,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);c=Rt(Rt({},c),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);c=Rt(Rt({},c),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return y.createElement("line",Mo({},c,{className:De("recharts-cartesian-axis-line",ua(s,"className"))}))}static renderTickItem(t,r,n){var a,i=De(r.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))a=y.cloneElement(t,Rt(Rt({},r),{},{className:i}));else if(typeof t=="function")a=t(Rt(Rt({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=De(o,t.className)),a=y.createElement(vs,Mo({},r,{className:o}),n)}return a}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:a,stroke:i,tick:o,tickFormatter:s,unit:c}=this.props,d=Ev(Rt(Rt({},this.props),{},{ticks:n}),t,r),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),g=Se(this.props,!1),m=Se(o,!1),x=Rt(Rt({},g),{},{fill:"none"},Se(a,!1)),b=d.map((_,j)=>{var{line:A,tick:S}=this.getTickLineCoord(_),C=Rt(Rt(Rt(Rt({textAnchor:f,verticalAnchor:p},g),{},{stroke:"none",fill:i},m),S),{},{index:j,payload:_,visibleTicksCount:d.length,tickFormatter:s});return y.createElement(Ve,Mo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},eo(this.props,_,j)),a&&y.createElement("line",Mo({},x,A,{className:De("recharts-cartesian-axis-tick-line",ua(a,"className"))})),o&&xa.renderTickItem(o,C,"".concat(typeof s=="function"?s(_.value,j):_.value).concat(c||"")))});return b.length>0?y.createElement("g",{className:"recharts-cartesian-axis-ticks"},b):null}render(){var{axisLine:t,width:r,height:n,className:a,hide:i}=this.props;if(i)return null;var{ticks:o}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:y.createElement(Ve,{className:De("recharts-cartesian-axis",a),ref:s=>{if(s){var c=s.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var d=c[0];if(d){var f=window.getComputedStyle(d).fontSize,p=window.getComputedStyle(d).letterSpacing;(f!==this.state.fontSize||p!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(d).fontSize,letterSpacing:window.getComputedStyle(d).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),jr.renderCallByParent(this.props))}}Tv(xa,"displayName","CartesianAxis");Tv(xa,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var lq=["x1","y1","x2","y2","key"],cq=["offset"],uq=["xAxisId","yAxisId"],dq=["xAxisId","yAxisId"];function Fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fw(Object(r),!0).forEach(function(n){fq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fq(e,t,r){return(t=hq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hq(e){var t=pq(e,"string");return typeof t=="symbol"?t:t+""}function pq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fa(){return Fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fa.apply(null,arguments)}function Ku(e,t){if(e==null)return{};var r,n,a=gq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mq=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:s}=e;return y.createElement("rect",{x:n,y:a,ry:s,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function BO(e,t){var r;if(y.isValidElement(e))r=y.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:o,key:s}=t,c=Ku(t,lq),d=Se(c,!1),{offset:f}=d,p=Ku(d,cq);r=y.createElement("line",Fa({},p,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:s}))}return r}function vq(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=Ku(e,uq),c=a.map((d,f)=>{var p=or(or({},s),{},{x1:t,y1:d,x2:t+r,y2:d,key:"line-".concat(f),index:f});return BO(n,p)});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function yq(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=Ku(e,dq),c=a.map((d,f)=>{var p=or(or({},s),{},{x1:d,y1:t,x2:d,y2:t+r,key:"line-".concat(f),index:f});return BO(n,p)});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function xq(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:s,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var d=s.map(p=>Math.round(p+a-a)).sort((p,g)=>p-g);a!==d[0]&&d.unshift(0);var f=d.map((p,g)=>{var m=!d[g+1],x=m?a+o-p:d[g+1]-p;if(x<=0)return null;var b=g%t.length;return y.createElement("rect",{key:"react-".concat(g),y:p,x:n,height:x,width:i,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function bq(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:s,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var d=c.map(p=>Math.round(p+a-a)).sort((p,g)=>p-g);a!==d[0]&&d.unshift(0);var f=d.map((p,g)=>{var m=!d[g+1],x=m?a+o-p:d[g+1]-p;if(x<=0)return null;var b=g%r.length;return y.createElement("rect",{key:"react-".concat(g),x:p,y:i,width:x,height:s,stroke:"none",fill:r[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var _q=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return dA(Ev(or(or(or({},xa.defaultProps),r),{},{ticks:fA(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},wq=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return dA(Ev(or(or(or({},xa.defaultProps),r),{},{ticks:fA(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},jq={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function On(e){var t=om(),r=sm(),n=vA(),a=or(or({},Pr(e,jq)),{},{x:ye(e.x)?e.x:n.left,y:ye(e.y)?e.y:n.top,width:ye(e.width)?e.width:n.width,height:ye(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:s,y:c,width:d,height:f,syncWithTicks:p,horizontalValues:g,verticalValues:m}=a,x=Ut(),b=xe(V=>z_(V,"xAxis",i,x)),_=xe(V=>z_(V,"yAxis",o,x));if(!ye(d)||d<=0||!ye(f)||f<=0||!ye(s)||s!==+s||!ye(c)||c!==+c)return null;var j=a.verticalCoordinatesGenerator||_q,A=a.horizontalCoordinatesGenerator||wq,{horizontalPoints:S,verticalPoints:C}=a;if((!S||!S.length)&&typeof A=="function"){var E=g&&g.length,k=A({yAxis:_?or(or({},_),{},{ticks:E?g:_.ticks}):void 0,width:t,height:r,offset:n},E?!0:p);el(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(S=k)}if((!C||!C.length)&&typeof j=="function"){var I=m&&m.length,U=j({xAxis:b?or(or({},b),{},{ticks:I?m:b.ticks}):void 0,width:t,height:r,offset:n},I?!0:p);el(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(C=U)}return y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(mq,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),y.createElement(xq,Fa({},a,{horizontalPoints:S})),y.createElement(bq,Fa({},a,{verticalPoints:C})),y.createElement(vq,Fa({},a,{offset:n,horizontalPoints:S,xAxis:b,yAxis:_})),y.createElement(yq,Fa({},a,{offset:n,verticalPoints:C,xAxis:b,yAxis:_})))}On.displayName="CartesianGrid";var FO=(e,t,r,n)=>gn(e,"xAxis",t,n),zO=(e,t,r,n)=>ri(e,"xAxis",t,n),UO=(e,t,r,n)=>gn(e,"yAxis",r,n),WO=(e,t,r,n)=>ri(e,"yAxis",r,n),Aq=Z([Ue,FO,UO,zO,WO],(e,t,r,n,a)=>Mn(e,"xAxis")?Ti(t,n,!1):Ti(r,a,!1)),Sq=(e,t,r,n,a)=>a,Cq=Z([Ml,Sq],(e,t)=>{if(e.some(r=>r.type==="line"&&t.dataKey===r.dataKey&&t.data===r.data))return t}),Oq=Z([Ue,FO,UO,zO,WO,Cq,Aq,Td],(e,t,r,n,a,i,o,s)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:f}=s;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null)){var{dataKey:p,data:g}=i,m;if(g!=null&&g.length>0?m=g:m=c?.slice(d,f+1),m!=null)return Zq({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:p,bandSize:o,displayedData:m})}}),Pq=["type","layout","connectNulls","needClip"],Eq=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function HO(e,t){if(e==null)return{};var r,n,a=Tq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zw(Object(r),!0).forEach(function(n){qd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qd(e,t,r){return(t=Lq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lq(e){var t=kq(e,"string");return typeof t=="symbol"?t:t+""}function kq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ns.apply(null,arguments)}var Iq=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:ni(r,t),payload:e}]};function Rq(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:s,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:ni(o,t),hide:s,type:e.tooltipType,color:e.stroke,unit:c}}}var KO=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Mq(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var Dq=(e,t,r)=>{var n=r.reduce((p,g)=>p+g);if(!n)return KO(t,e);for(var a=Math.floor(e/n),i=e%n,o=t-e,s=[],c=0,d=0;c<r.length;d+=r[c],++c)if(d+r[c]>i){s=[...r.slice(0,c),i-d];break}var f=s.length%2===0?[0,o]:[o];return[...Mq(r,a),...s,...f].map(p=>"".concat(p,"px")).join(", ")};function $q(e,t){var r;if(y.isValidElement(e))r=y.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=De("recharts-line-dot",typeof e!="boolean"?e.className:"");r=y.createElement(Fl,ns({},t,{className:n}))}return r}function Nq(e,t){return e==null?!1:t?!0:e.length===1}function Bq(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:o}=n;if(!Nq(r,a))return null;var s=nd(a),c=Se(n,!1),d=Se(a,!0),f=r.map((g,m)=>{var x=Pn(Pn(Pn({key:"dot-".concat(m),r:3},c),d),{},{index:m,cx:g.x,cy:g.y,dataKey:i,value:g.value,payload:g.payload,points:r});return $q(a,x)}),p={clipPath:o?"url(#clipPath-".concat(s?"":"dots-").concat(t,")"):null};return y.createElement(Ve,ns({className:"recharts-line-dots",key:"dots"},p),f)}function lg(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i,showLabels:o}=e,{type:s,layout:c,connectNulls:d,needClip:f}=i,p=HO(i,Pq),g=Pn(Pn({},Se(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):null,points:n,type:s,layout:c,connectNulls:d,strokeDasharray:a??i.strokeDasharray});return y.createElement(y.Fragment,null,n?.length>1&&y.createElement(Fo,ns({},g,{pathRef:r})),y.createElement(Bq,{points:n,clipPathId:t,props:i}),o&&Jn.renderCallByParent(i,n))}function Fq(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function zq(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:s,isAnimationActive:c,animationBegin:d,animationDuration:f,animationEasing:p,animateNewValues:g,width:m,height:x,onAnimationEnd:b,onAnimationStart:_}=r,j=a.current,A=Ul(r,"recharts-line-"),[S,C]=y.useState(!1),E=y.useCallback(()=>{typeof b=="function"&&b(),C(!1)},[b]),k=y.useCallback(()=>{typeof _=="function"&&_(),C(!0)},[_]),I=Fq(n.current),U=i.current;return y.createElement(ei,{begin:d,duration:f,isActive:c,easing:p,from:{t:0},to:{t:1},onAnimationEnd:E,onAnimationStart:k,key:A},V=>{var{t:re}=V,te=Xt(U,I+U),J=Math.min(te(re),I),ne;if(s){var fe="".concat(s).split(/[,\s]+/gim).map(B=>parseFloat(B));ne=Dq(J,I,fe)}else ne=KO(I,J);if(j){var Q=j.length/o.length,G=re===1?o:o.map((B,X)=>{var ae=Math.floor(X*Q);if(j[ae]){var me=j[ae],$=Xt(me.x,B.x),N=Xt(me.y,B.y);return Pn(Pn({},B),{},{x:$(re),y:N(re)})}if(g){var Y=Xt(m*2,B.x),se=Xt(x/2,B.y);return Pn(Pn({},B),{},{x:Y(re),y:se(re)})}return Pn(Pn({},B),{},{x:B.x,y:B.y})});return a.current=G,y.createElement(lg,{props:r,points:G,clipPathId:t,pathRef:n,showLabels:!S,strokeDasharray:ne})}return re>0&&I>0&&(a.current=o,i.current=J),y.createElement(lg,{props:r,points:o,clipPathId:t,pathRef:n,showLabels:!S,strokeDasharray:ne})})}function Uq(e){var{clipPathId:t,props:r}=e,{points:n,isAnimationActive:a}=r,i=y.useRef(null),o=y.useRef(0),s=y.useRef(null),c=i.current;return a&&n&&n.length&&c!==n?y.createElement(zq,{props:r,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:o,pathRef:s}):y.createElement(lg,{props:r,points:n,clipPathId:t,pathRef:s,showLabels:!0})}var Wq=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:at(e.payload,t)});class Hq extends y.Component{constructor(){super(...arguments),qd(this,"id",da("recharts-line-"))}render(){var t,{hide:r,dot:n,points:a,className:i,xAxisId:o,yAxisId:s,top:c,left:d,width:f,height:p,id:g,needClip:m,layout:x}=this.props;if(r)return null;var b=De("recharts-line",i),_=tt(g)?this.id:g,{r:j=3,strokeWidth:A=2}=(t=Se(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},S=nd(n),C=j*2+A;return y.createElement(y.Fragment,null,y.createElement(Ve,{className:b},m&&y.createElement("defs",null,y.createElement(Cv,{clipPathId:_,xAxisId:o,yAxisId:s}),!S&&y.createElement("clipPath",{id:"clipPath-dots-".concat(_)},y.createElement("rect",{x:d-C/2,y:c-C/2,width:f+C,height:p+C}))),y.createElement(Uq,{props:this.props,clipPathId:_}),y.createElement(OO,{direction:x==="horizontal"?"y":"x"},y.createElement(AO,{xAxisId:o,yAxisId:s,data:a,dataPointFormatter:Wq,errorBarOffset:0},this.props.children))),y.createElement(Uu,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var ZO={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Ni.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Kq(e){var t=Pr(e,ZO),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:s,dot:c,hide:d,isAnimationActive:f,label:p,legendType:g,xAxisId:m,yAxisId:x}=t,b=HO(t,Eq),{needClip:_}=Gd(m,x),{height:j,width:A,x:S,y:C}=Zd(),E=Cl(),k=Ut(),I=y.useMemo(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),U=xe(V=>Oq(V,m,x,k,I));return E!=="horizontal"&&E!=="vertical"?null:y.createElement(Hq,ns({},b,{connectNulls:s,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:f,hide:d,label:p,legendType:g,xAxisId:m,yAxisId:x,points:U,layout:E,height:j,width:A,left:S,top:C,needClip:_}))}function Zq(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:s,displayedData:c}=e;return c.map((d,f)=>{var p=at(d,o);return t==="horizontal"?{x:ju({axis:r,ticks:a,bandSize:s,entry:d,index:f}),y:tt(p)?null:n.scale(p),value:p,payload:d}:{x:tt(p)?null:r.scale(p),y:ju({axis:n,ticks:i,bandSize:s,entry:d,index:f}),value:p,payload:d}})}class Vd extends y.PureComponent{render(){return y.createElement(Sv,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},y.createElement(_v,{legendPayload:Iq(this.props)}),y.createElement(zl,{fn:Rq,args:this.props}),y.createElement(Kq,this.props))}}qd(Vd,"displayName","Line");qd(Vd,"defaultProps",ZO);var GO=(e,t,r,n)=>gn(e,"xAxis",t,n),YO=(e,t,r,n)=>ri(e,"xAxis",t,n),qO=(e,t,r,n)=>gn(e,"yAxis",r,n),VO=(e,t,r,n)=>ri(e,"yAxis",r,n),Gq=Z([Ue,GO,qO,YO,VO],(e,t,r,n,a)=>Mn(e,"xAxis")?Ti(t,n,!1):Ti(r,a,!1)),Yq=(e,t,r,n,a)=>{var i,o=Ue(e),s=Mn(o,"xAxis"),c;if(s?c=gl(e,"yAxis",r,n):c=gl(e,"xAxis",t,n),c!=null){var{dataKey:d,stackId:f}=a;if(f!=null){var p=(i=c[f])===null||i===void 0?void 0:i.stackedData;return p?.find(g=>g.key===d)}}},qq=(e,t,r,n,a)=>a,Vq=Z([Ml,qq],(e,t)=>{if(e.some(r=>r.type==="area"&&t.dataKey===r.dataKey&&rm(t.stackId)===r.stackId&&t.data===r.data))return t}),Xq=Z([Ue,GO,qO,YO,VO,Yq,Td,Gq,Vq],(e,t,r,n,a,i,o,s,c)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:p}=o;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||s==null)){var{data:g}=c,m;if(g&&g.length>0?m=g:m=d?.slice(f,p+1),m!=null){var x=void 0;return m9({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:f,areaSettings:c,stackedData:i,displayedData:m,chartBaseValue:x,bandSize:s})}}}),Jq=["layout","type","stroke","connectNulls","isRange"],Qq=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function XO(e,t){if(e==null)return{};var r,n,a=e9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function e9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uw(Object(r),!0).forEach(function(n){Xd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xd(e,t,r){return(t=t9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t9(e){var t=r9(e,"string");return typeof t=="symbol"?t:t+""}function r9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function la(){return la=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},la.apply(null,arguments)}function Zu(e,t){return e&&e!=="none"?e:t}var n9=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:Zu(n,a),value:ni(r,t),payload:e}]};function i9(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:s,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:ni(o,t),hide:s,type:e.tooltipType,color:Zu(n,i),unit:c}}}var a9=(e,t)=>{var r;if(y.isValidElement(e))r=y.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=De("recharts-area-dot",typeof e!="boolean"?e.className:"");r=y.createElement(Fl,la({},t,{className:n}))}return r};function o9(e,t){return e==null?!1:t?!0:e.length===1}function s9(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:i,dataKey:o}=n;if(!o9(r,i))return null;var s=nd(i),c=Se(n,!1),d=Se(i,!0),f=r.map((g,m)=>{var x=za(za(za({key:"dot-".concat(m),r:3},c),d),{},{index:m,cx:g.x,cy:g.y,dataKey:o,value:g.value,payload:g.payload,points:r});return a9(i,x)}),p={clipPath:a?"url(#clipPath-".concat(s?"":"dots-").concat(t,")"):void 0};return y.createElement(Ve,la({className:"recharts-area-dots"},p),f)}function cg(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:i,showLabels:o}=e,{layout:s,type:c,stroke:d,connectNulls:f,isRange:p}=i,g=XO(i,Jq);return y.createElement(y.Fragment,null,t?.length>1&&y.createElement(Ve,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},y.createElement(Fo,la({},Se(g,!0),{points:t,connectNulls:f,type:c,baseLine:r,layout:s,stroke:"none",className:"recharts-area-area"})),d!=="none"&&y.createElement(Fo,la({},Se(i,!1),{className:"recharts-area-curve",layout:s,type:c,connectNulls:f,fill:"none",points:t})),d!=="none"&&p&&y.createElement(Fo,la({},Se(i,!1),{className:"recharts-area-curve",layout:s,type:c,connectNulls:f,fill:"none",points:r}))),y.createElement(s9,{points:t,props:i,clipPathId:a}),o&&Jn.renderCallByParent(i,t))}function l9(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].y,o=n[n.length-1].y;if(!Jt(i)||!Jt(o))return null;var s=t*Math.abs(i-o),c=Math.max(...n.map(d=>d.x||0));return ye(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(d=>d.x||0),c)),ye(c)?y.createElement("rect",{x:0,y:i<o?i:i-s,width:c+(a?parseInt("".concat(a),10):1),height:Math.floor(s)}):null}function c9(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].x,o=n[n.length-1].x;if(!Jt(i)||!Jt(o))return null;var s=t*Math.abs(i-o),c=Math.max(...n.map(d=>d.y||0));return ye(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(d=>d.y||0),c)),ye(c)?y.createElement("rect",{x:i<o?i:i-s,y:0,width:s,height:Math.floor(c+(a?parseInt("".concat(a),10):1))}):null}function u9(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:i}=e;return r==="vertical"?y.createElement(l9,{alpha:t,points:n,baseLine:a,strokeWidth:i}):y.createElement(c9,{alpha:t,points:n,baseLine:a,strokeWidth:i})}function d9(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i}=e,{points:o,baseLine:s,isAnimationActive:c,animationBegin:d,animationDuration:f,animationEasing:p,onAnimationStart:g,onAnimationEnd:m}=n,x=Ul(n,"recharts-area-"),[b,_]=y.useState(!0),j=y.useCallback(()=>{typeof m=="function"&&m(),_(!1)},[m]),A=y.useCallback(()=>{typeof g=="function"&&g(),_(!0)},[g]),S=a.current,C=i.current;return y.createElement(ei,{begin:d,duration:f,isActive:c,easing:p,from:{t:0},to:{t:1},onAnimationEnd:j,onAnimationStart:A,key:x},E=>{var{t:k}=E;if(S){var I=S.length/o.length,U=k===1?o:o.map((re,te)=>{var J=Math.floor(te*I);if(S[J]){var ne=S[J];return za(za({},re),{},{x:Po(ne.x,re.x,k),y:Po(ne.y,re.y,k)})}return re}),V;return ye(s)?V=Po(C,s,k):tt(s)||Cr(s)?V=Po(C,0,k):V=s.map((re,te)=>{var J=Math.floor(te*I);if(Array.isArray(C)&&C[J]){var ne=C[J];return za(za({},re),{},{x:Po(ne.x,re.x,k),y:Po(ne.y,re.y,k)})}return re}),k>0&&(a.current=U,i.current=V),y.createElement(cg,{points:U,baseLine:V,needClip:t,clipPathId:r,props:n,showLabels:!b})}return k>0&&(a.current=o,i.current=s),y.createElement(Ve,null,y.createElement("defs",null,y.createElement("clipPath",{id:"animationClipPath-".concat(r)},y.createElement(u9,{alpha:k,points:o,baseLine:s,layout:n.layout,strokeWidth:n.strokeWidth}))),y.createElement(Ve,{clipPath:"url(#animationClipPath-".concat(r,")")},y.createElement(cg,{points:o,baseLine:s,needClip:t,clipPathId:r,props:n,showLabels:!0})))})}function f9(e){var{needClip:t,clipPathId:r,props:n}=e,{points:a,baseLine:i,isAnimationActive:o}=n,s=y.useRef(null),c=y.useRef(),d=s.current,f=c.current;return o&&a&&a.length&&(d!==a||f!==i)?y.createElement(d9,{needClip:t,clipPathId:r,props:n,previousPointsRef:s,previousBaselineRef:c}):y.createElement(cg,{points:a,baseLine:i,needClip:t,clipPathId:r,props:n,showLabels:!0})}class h9 extends y.PureComponent{constructor(){super(...arguments),Xd(this,"id",da("recharts-area-"))}render(){var t,{hide:r,dot:n,points:a,className:i,top:o,left:s,needClip:c,xAxisId:d,yAxisId:f,width:p,height:g,id:m,baseLine:x}=this.props;if(r)return null;var b=De("recharts-area",i),_=tt(m)?this.id:m,{r:j=3,strokeWidth:A=2}=(t=Se(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},S=nd(n),C=j*2+A;return y.createElement(y.Fragment,null,y.createElement(Ve,{className:b},c&&y.createElement("defs",null,y.createElement(Cv,{clipPathId:_,xAxisId:d,yAxisId:f}),!S&&y.createElement("clipPath",{id:"clipPath-dots-".concat(_)},y.createElement("rect",{x:s-C/2,y:o-C/2,width:p+C,height:g+C}))),y.createElement(f9,{needClip:c,clipPathId:_,props:this.props})),y.createElement(Uu,{points:a,mainColor:Zu(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(x)&&y.createElement(Uu,{points:x,mainColor:Zu(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var JO={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Ni.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function p9(e){var t,r=Pr(e,JO),{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:s,dot:c,fill:d,fillOpacity:f,hide:p,isAnimationActive:g,legendType:m,stroke:x,xAxisId:b,yAxisId:_}=r,j=XO(r,Qq),A=Cl(),S=PC(),{needClip:C}=Gd(b,_),E=Ut(),k=y.useMemo(()=>({baseValue:e.baseValue,stackId:e.stackId,connectNulls:s,data:e.data,dataKey:e.dataKey}),[e.baseValue,e.stackId,s,e.data,e.dataKey]),{points:I,isRange:U,baseLine:V}=(t=xe(fe=>Xq(fe,b,_,E,k)))!==null&&t!==void 0?t:{},{height:re,width:te,x:J,y:ne}=Zd();return A!=="horizontal"&&A!=="vertical"||S!=="AreaChart"&&S!=="ComposedChart"?null:y.createElement(h9,la({},j,{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:o,baseLine:V,connectNulls:s,dot:c,fill:d,fillOpacity:f,height:re,hide:p,layout:A,isAnimationActive:g,isRange:U,legendType:m,needClip:C,points:I,stroke:x,width:te,left:J,top:ne,xAxisId:b,yAxisId:_}))}var g9=(e,t,r,n,a)=>{var i=r??t;if(ye(i))return i;var o=e==="horizontal"?a:n,s=o.scale.domain();if(o.type==="number"){var c=Math.max(s[0],s[1]),d=Math.min(s[0],s[1]);return i==="dataMin"?d:i==="dataMax"||c<0?c:Math.max(Math.min(s[0],s[1]),0)}return i==="dataMin"?s[0]:i==="dataMax"?s[1]:s[0]};function m9(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:i,chartBaseValue:o,xAxis:s,yAxis:c,displayedData:d,dataStartIndex:f,xAxisTicks:p,yAxisTicks:g,bandSize:m}=e,x=a&&a.length,b=g9(i,o,r,s,c),_=i==="horizontal",j=!1,A=d.map((C,E)=>{var k;x?k=a[f+E]:(k=at(C,n),Array.isArray(k)?j=!0:k=[b,k]);var I=k[1]==null||x&&!t&&at(C,n)==null;return _?{x:ju({axis:s,ticks:p,bandSize:m,entry:C,index:E}),y:I?null:c.scale(k[1]),value:k,payload:C}:{x:I?null:s.scale(k[1]),y:ju({axis:c,ticks:g,bandSize:m,entry:C,index:E}),value:k,payload:C}}),S;return x||j?S=A.map(C=>{var E=Array.isArray(C.value)?C.value[0]:null;return _?{x:C.x,y:E!=null&&C.y!=null?c.scale(E):null}:{x:E!=null?s.scale(E):null,y:C.y}}):S=_?c.scale(b):s.scale(b),{points:A,baseLine:S,isRange:j}}class Gu extends y.PureComponent{render(){return y.createElement(Sv,{type:"area",data:this.props.data,dataKey:this.props.dataKey,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,stackId:this.props.stackId,hide:this.props.hide,barSize:void 0},y.createElement(_v,{legendPayload:n9(this.props)}),y.createElement(zl,{fn:i9,args:this.props}),y.createElement(p9,this.props))}}Xd(Gu,"displayName","Area");Xd(Gu,"defaultProps",JO);function Ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ww(Object(r),!0).forEach(function(n){v9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v9(e,t,r){return(t=y9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y9(e){var t=x9(e,"string");return typeof t=="symbol"?t:t+""}function x9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b9={xAxis:{},yAxis:{},zAxis:{}},QO=mn({name:"cartesianAxis",initialState:b9,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=Hw(Hw({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:_9,removeXAxis:w9,addYAxis:j9,removeYAxis:A9,addZAxis:Y7,removeZAxis:q7,updateYAxisWidth:S9}=QO.actions,C9=QO.reducer,O9=["children"],P9=["dangerouslySetInnerHTML","ticks"];function eP(e,t,r){return(t=E9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E9(e){var t=T9(e,"string");return typeof t=="symbol"?t:t+""}function T9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ug(){return ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ug.apply(null,arguments)}function tP(e,t){if(e==null)return{};var r,n,a=L9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function L9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function k9(e){var t=ft(),r=y.useMemo(()=>{var{children:i}=e,o=tP(e,O9);return o},[e]),n=xe(i=>Fi(i,r.id)),a=r===n;return y.useEffect(()=>(t(_9(r)),()=>{t(w9(r))}),[r,t]),a?e.children:null}var I9=e=>{var{xAxisId:t,className:r}=e,n=xe(mA),a=Ut(),i="xAxis",o=xe(m=>hs(m,i,t,a)),s=xe(m=>oC(m,i,t,a)),c=xe(m=>rC(m,t)),d=xe(m=>p4(m,t));if(c==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:p}=e,g=tP(e,P9);return y.createElement(xa,ug({},g,{scale:o,x:d.x,y:d.y,width:c.width,height:c.height,className:De("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:s}))},R9=e=>{var t,r,n,a,i;return y.createElement(k9,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},y.createElement(I9,e))};class sn extends y.Component{render(){return y.createElement(R9,this.props)}}eP(sn,"displayName","XAxis");eP(sn,"defaultProps",{allowDataOverflow:Mr.allowDataOverflow,allowDecimals:Mr.allowDecimals,allowDuplicatedCategory:Mr.allowDuplicatedCategory,height:Mr.height,hide:!1,mirror:Mr.mirror,orientation:Mr.orientation,padding:Mr.padding,reversed:Mr.reversed,scale:Mr.scale,tickCount:Mr.tickCount,type:Mr.type,xAxisId:0});var M9=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(f=>{if(f){var p=f.getBoundingClientRect();p.width>o&&(o=p.width)}});var s=r?r.getBoundingClientRect().width:0,c=a+i,d=o+c+s+(r?n:0);return Math.round(d)}return 0},D9=["dangerouslySetInnerHTML","ticks"];function rP(e,t,r){return(t=$9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $9(e){var t=N9(e,"string");return typeof t=="symbol"?t:t+""}function N9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dg(){return dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dg.apply(null,arguments)}function B9(e,t){if(e==null)return{};var r,n,a=F9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function F9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function z9(e){var t=ft();return y.useEffect(()=>(t(j9(e)),()=>{t(A9(e))}),[e,t]),null}var U9=e=>{var t,{yAxisId:r,className:n,width:a,label:i}=e,o=y.useRef(null),s=y.useRef(null),c=xe(mA),d=Ut(),f=ft(),p="yAxis",g=xe(S=>hs(S,p,r,d)),m=xe(S=>nC(S,r)),x=xe(S=>g4(S,r)),b=xe(S=>oC(S,p,r,d));if(y.useLayoutEffect(()=>{var S;if(!(a!=="auto"||!m||uv(i)||y.isValidElement(i))){var C=o.current,E=C==null||(S=C.tickRefs)===null||S===void 0?void 0:S.current,{tickSize:k,tickMargin:I}=C.props,U=M9({ticks:E,label:s.current,labelGapWithTick:5,tickSize:k,tickMargin:I});Math.round(m.width)!==Math.round(U)&&f(S9({id:r,width:U}))}},[o,o==null||(t=o.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,m?.width,m,f,i,r,a]),m==null||x==null)return null;var{dangerouslySetInnerHTML:_,ticks:j}=e,A=B9(e,D9);return y.createElement(xa,dg({},A,{ref:o,labelRef:s,scale:g,x:x.x,y:x.y,width:m.width,height:m.height,className:De("recharts-".concat(p," ").concat(p),n),viewBox:c,ticks:b}))},W9=e=>{var t,r,n,a,i;return y.createElement(y.Fragment,null,y.createElement(z9,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),y.createElement(U9,e))},H9={allowDataOverflow:Dr.allowDataOverflow,allowDecimals:Dr.allowDecimals,allowDuplicatedCategory:Dr.allowDuplicatedCategory,hide:!1,mirror:Dr.mirror,orientation:Dr.orientation,padding:Dr.padding,reversed:Dr.reversed,scale:Dr.scale,tickCount:Dr.tickCount,type:Dr.type,width:Dr.width,yAxisId:0};class $r extends y.Component{render(){return y.createElement(W9,this.props)}}rP($r,"displayName","YAxis");rP($r,"defaultProps",H9);var K9={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wl=y;function Z9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var G9=typeof Object.is=="function"?Object.is:Z9,Y9=Wl.useSyncExternalStore,q9=Wl.useRef,V9=Wl.useEffect,X9=Wl.useMemo,J9=Wl.useDebugValue;K9.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=q9(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=X9(function(){function c(m){if(!d){if(d=!0,f=m,m=n(m),a!==void 0&&o.hasValue){var x=o.value;if(a(x,m))return p=x}return p=m}if(x=p,G9(f,m))return x;var b=n(m);return a!==void 0&&a(x,b)?(f=m,x):(f=m,p=b)}var d=!1,f,p,g=r===void 0?null:r;return[function(){return c(t())},g===null?void 0:function(){return c(g())}]},[t,r,n,a]);var s=Y9(e,i[0],i[1]);return V9(function(){o.hasValue=!0,o.value=s},[s]),J9(s),s};function Q9(e){e()}function eV(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Q9(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var Kw={notify(){},get:()=>[]};function tV(e,t){let r,n=Kw,a=0,i=!1;function o(b){f();const _=n.subscribe(b);let j=!1;return()=>{j||(j=!0,_(),p())}}function s(){n.notify()}function c(){x.onStateChange&&x.onStateChange()}function d(){return i}function f(){a++,r||(r=e.subscribe(c),n=eV())}function p(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=Kw)}function g(){i||(i=!0,f())}function m(){i&&(i=!1,p())}const x={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:c,isSubscribed:d,trySubscribe:g,tryUnsubscribe:m,getListeners:()=>n};return x}var rV=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nV=rV(),iV=()=>typeof navigator<"u"&&navigator.product==="ReactNative",aV=iV(),oV=()=>nV||aV?y.useLayoutEffect:y.useEffect,sV=oV(),lV=Symbol.for("react-redux-context"),cV=typeof globalThis<"u"?globalThis:{};function uV(){if(!y.createContext)return{};const e=cV[lV]??=new Map;let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var dV=uV();function fV(e){const{children:t,context:r,serverState:n,store:a}=e,i=y.useMemo(()=>{const c=tV(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),o=y.useMemo(()=>a.getState(),[a]);sV(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const s=r||dV;return y.createElement(s.Provider,{value:i},t)}var hV=fV,pV=(e,t)=>t,Lv=Z([pV,Ue,Il,Ht,wC,zi,g8,Dt],b8),kv=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},nP=hn("mouseClick"),iP=Sl();iP.startListening({actionCreator:nP,effect:(e,t)=>{var r=e.payload,n=Lv(t.getState(),kv(r));n?.activeIndex!=null&&t.dispatch(C4({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var fg=hn("mouseMove"),aP=Sl();aP.startListening({actionCreator:fg,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=tv(n,n.tooltip.settings.shared),i=Lv(n,kv(r));a==="axis"&&(i?.activeIndex!=null?t.dispatch(gC({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(pC()))}});function gV(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var Zw={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},oP=mn({name:"rootProps",initialState:Zw,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:Zw.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),mV=oP.reducer,{updateOptions:vV}=oP.actions,sP=mn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:yV}=sP.actions,xV=sP.reducer,lP=hn("keyDown"),cP=hn("focus"),Iv=Sl();Iv.startListening({actionCreator:lP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(rv(a,ao(r))),s=zi(r);if(i==="Enter"){var c=Nu(r,"axis","hover",String(a.index));t.dispatch(eg({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var d=v4(r),f=d==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,g=o+p*f;if(!(s==null||g>=s.length||g<0)){var m=Nu(r,"axis","hover",String(g));t.dispatch(eg({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});Iv.startListening({actionCreator:cP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=Nu(r,"axis","hover",String(i));t.dispatch(eg({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var an=hn("externalEvent"),uP=Sl();uP.startListening({actionCreator:an,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:o8(r),activeDataKey:CC(r),activeIndex:fa(r),activeLabel:SC(r),activeTooltipIndex:fa(r),isTooltipActive:s8(r)};e.payload.handler(n,e.payload.reactEvent)}}});var bV=Z([ps],e=>e.tooltipItemPayloads),_V=Z([bV,Bl,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(s=>s.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),dP=hn("touchMove"),fP=Sl();fP.startListening({actionCreator:dP,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=tv(n,n.tooltip.settings.shared);if(a==="axis"){var i=Lv(n,kv({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));i?.activeIndex!=null&&t.dispatch(gC({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var o,s=r.touches[0],c=document.elementFromPoint(s.clientX,s.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(pA),f=(o=c.getAttribute(gA))!==null&&o!==void 0?o:void 0,p=_V(t.getState(),d,f);t.dispatch(hC({activeDataKey:f,activeIndex:d,activeCoordinate:p}))}}});var wV=Fj({brush:NY,cartesianAxis:C9,chartData:M8,graphicalItems:sZ,layout:Sz,legend:d3,options:T8,polarAxis:xK,polarOptions:xV,referenceElements:KY,rootProps:mV,tooltip:O4}),jV=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return VF({reducer:wV,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([iP.middleware,aP.middleware,Iv.middleware,uP.middleware,fP.middleware]),devTools:{serialize:{replacer:gV},name:"recharts-".concat(r)}})};function hP(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Ut(),i=y.useRef(null);if(a)return r;i.current==null&&(i.current=jV(t,n));var o=Yg;return y.createElement(hV,{context:o,store:i.current},r)}function pP(e){var{layout:t,width:r,height:n,margin:a}=e,i=ft(),o=Ut();return y.useEffect(()=>{o||(i(wz(t)),i(jz({width:r,height:n})),i(_z(a)))},[i,o,t,r,n,a]),null}function gP(e){var t=ft();return y.useEffect(()=>{t(vV(e))},[t,e]),null}var AV=["children"];function SV(e,t){if(e==null)return{};var r,n,a=CV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function CV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yu.apply(null,arguments)}var OV={width:"100%",height:"100%"},PV=y.forwardRef((e,t)=>{var r=om(),n=sm(),a=_A();if(!Vo(r)||!Vo(n))return null;var{children:i,otherAttributes:o,title:s,desc:c}=e,d,f;return typeof o.tabIndex=="number"?d=o.tabIndex:d=a?0:void 0,typeof o.role=="string"?f=o.role:f=a?"application":void 0,y.createElement(Mg,Yu({},o,{title:s,desc:c,role:f,tabIndex:d,width:r,height:n,style:OV,ref:t}),i)}),EV=e=>{var{children:t}=e,r=xe(wd);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return y.createElement(Mg,{width:n,height:a,x:o,y:i},t)},Gw=y.forwardRef((e,t)=>{var{children:r}=e,n=SV(e,AV),a=Ut();return a?y.createElement(EV,null,r):y.createElement(PV,Yu({ref:t},n),r)});function TV(){var e=ft(),[t,r]=y.useState(null),n=xe(Qz);return y.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Jt(i)&&i!==n&&e(Az(i))}},[t,e,n]),r}function Yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(r),!0).forEach(function(n){kV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kV(e,t,r){return(t=IV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IV(e){var t=RV(e,"string");return typeof t=="symbol"?t:t+""}function RV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MV=y.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:s,onMouseDown:c,onMouseEnter:d,onMouseLeave:f,onMouseMove:p,onMouseUp:g,onTouchEnd:m,onTouchMove:x,onTouchStart:b,style:_,width:j}=e,A=ft(),[S,C]=y.useState(null),[E,k]=y.useState(null);N8();var I=TV(),U=y.useCallback(N=>{I(N),typeof t=="function"&&t(N),C(N),k(N)},[I,t,C,k]),V=y.useCallback(N=>{A(nP(N)),A(an({handler:i,reactEvent:N}))},[A,i]),re=y.useCallback(N=>{A(fg(N)),A(an({handler:d,reactEvent:N}))},[A,d]),te=y.useCallback(N=>{A(pC()),A(an({handler:f,reactEvent:N}))},[A,f]),J=y.useCallback(N=>{A(fg(N)),A(an({handler:p,reactEvent:N}))},[A,p]),ne=y.useCallback(()=>{A(cP())},[A]),fe=y.useCallback(N=>{A(lP(N.key))},[A]),Q=y.useCallback(N=>{A(an({handler:o,reactEvent:N}))},[A,o]),G=y.useCallback(N=>{A(an({handler:s,reactEvent:N}))},[A,s]),B=y.useCallback(N=>{A(an({handler:c,reactEvent:N}))},[A,c]),X=y.useCallback(N=>{A(an({handler:g,reactEvent:N}))},[A,g]),ae=y.useCallback(N=>{A(an({handler:b,reactEvent:N}))},[A,b]),me=y.useCallback(N=>{A(dP(N)),A(an({handler:x,reactEvent:N}))},[A,x]),$=y.useCallback(N=>{A(an({handler:m,reactEvent:N}))},[A,m]);return y.createElement(IC.Provider,{value:S},y.createElement(Y1.Provider,{value:E},y.createElement("div",{className:De("recharts-wrapper",n),style:LV({position:"relative",cursor:"default",width:j,height:a},_),onClick:V,onContextMenu:Q,onDoubleClick:G,onFocus:ne,onKeyDown:fe,onMouseDown:B,onMouseEnter:re,onMouseLeave:te,onMouseMove:J,onMouseUp:X,onTouchEnd:$,onTouchMove:me,onTouchStart:ae,ref:U},r)))}),DV=["children","className","width","height","style","compact","title","desc"];function $V(e,t){if(e==null)return{};var r,n,a=NV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function NV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mP=y.forwardRef((e,t)=>{var{children:r,className:n,width:a,height:i,style:o,compact:s,title:c,desc:d}=e,f=$V(e,DV),p=Se(f,!1);return s?y.createElement(Gw,{otherAttributes:p,title:c,desc:d},r):y.createElement(MV,{className:n,style:o,width:a,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(Gw,{otherAttributes:p,title:c,desc:d,ref:t},y.createElement(GY,null,r)))}),BV=["width","height"];function hg(){return hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hg.apply(null,arguments)}function FV(e,t){if(e==null)return{};var r,n,a=zV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var UV={top:5,right:5,bottom:5,left:5},WV={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:UV,reverseStackOrder:!1,syncMethod:"index"},Jd=y.forwardRef(function(t,r){var n,a=Pr(t.categoricalChartProps,WV),{width:i,height:o}=a,s=FV(a,BV);if(!Vo(i)||!Vo(o))return null;var{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,categoricalChartProps:g}=t,m={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,eventEmitter:void 0};return y.createElement(hP,{preloadedState:{options:m},reduxStoreName:(n=g.id)!==null&&n!==void 0?n:c},y.createElement(MO,{chartData:g.data}),y.createElement(pP,{width:i,height:o,layout:a.layout,margin:a.margin}),y.createElement(gP,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),y.createElement(mP,hg({},s,{width:i,height:o,ref:r})))}),HV=["axis"],vP=y.forwardRef((e,t)=>y.createElement(Jd,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:HV,tooltipPayloadSearcher:ms,categoricalChartProps:e,ref:t})),KV=["axis","item"],Do=y.forwardRef((e,t)=>y.createElement(Jd,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:KV,tooltipPayloadSearcher:ms,categoricalChartProps:e,ref:t}));function ZV(e){var t=ft();return y.useEffect(()=>{t(yV(e))},[t,e]),null}var GV=["width","height","layout"];function pg(){return pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pg.apply(null,arguments)}function YV(e,t){if(e==null)return{};var r,n,a=qV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var VV={top:5,right:5,bottom:5,left:5},XV={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:VV,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},yP=y.forwardRef(function(t,r){var n,a=Pr(t.categoricalChartProps,XV),{width:i,height:o,layout:s}=a,c=YV(a,GV);if(!Vo(i)||!Vo(o))return null;var{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:p,tooltipPayloadSearcher:g}=t,m={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:p,tooltipPayloadSearcher:g,eventEmitter:void 0};return y.createElement(hP,{preloadedState:{options:m},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:d},y.createElement(MO,{chartData:a.data}),y.createElement(pP,{width:i,height:o,layout:s,margin:a.margin}),y.createElement(gP,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),y.createElement(ZV,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),y.createElement(mP,pg({width:i,height:o},c,{ref:r})))}),JV=["item"],QV={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},qu=y.forwardRef((e,t)=>{var r=Pr(e,QV);return y.createElement(yP,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:JV,tooltipPayloadSearcher:ms,categoricalChartProps:r,ref:t})}),e7=["axis"],t7={layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},r7=y.forwardRef((e,t)=>{var r=Pr(e,t7);return y.createElement(yP,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:e7,tooltipPayloadSearcher:ms,categoricalChartProps:r,ref:t})}),n7=["axis"],i7=y.forwardRef((e,t)=>y.createElement(Jd,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:n7,tooltipPayloadSearcher:ms,categoricalChartProps:e,ref:t})),a7=["axis"],o7=y.forwardRef((e,t)=>y.createElement(Jd,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:a7,tooltipPayloadSearcher:ms,categoricalChartProps:e,ref:t}));const s7=()=>{const[e,t]=y.useState(null),[r,n]=y.useState(!0),[a,i]=y.useState(null),o=os(),s=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D","#FFC658"];y.useEffect(()=>{(async()=>{try{n(!0),console.log("🔬 Loading precomputed research analytics...");const x="/archi-site/".replace(/\/$/,""),b=await fetch(`${x}/data/analytics/base.json`);if(!b.ok)throw new Error(`Failed to load analytics: ${b.status} ${b.statusText}`);const _=await b.json();console.log("📊 Precomputed analytics loaded:",_);const j={awards:[],architects:_.architectPopularity.slice(0,50).map((A,S)=>({name:A.architect,projectCount:A.count,yearSpan:{start:0,end:0},awards:[],categories:[],prefectures:[]})),temporalAnalysis:_.yearDistribution.filter(A=>A.year%10===0).map(A=>({decade:`${Math.floor(A.year/10)*10}年代`,projectCount:A.count,dominantCategories:Object.entries(A.categories||{}).sort(([,S],[,C])=>C-S).slice(0,3).map(([S])=>S),notableArchitects:[],awards:[]})),regionalAnalysis:_.prefectureDistribution.map(A=>({prefecture:A.prefecture,projectCount:A.count,timeSpan:{start:0,end:0},dominantCategories:[],notableArchitects:[],awards:[]})),buildingTypeEvolution:_.categoryDistribution.map(A=>({category:A.category,totalCount:A.count})),professionalNetworks:[]};t(j),console.log("📊 Transformed analytics ready:",j)}catch(x){console.error("❌ Failed to load research analytics:",x),i("研究データの読み込みに失敗しました")}finally{n(!1)}})()},[]);const c=m=>{o(`/architecture?architect=${encodeURIComponent(m)}`)},d=m=>{o(`/architecture?tag=${encodeURIComponent(m)}`)},f=m=>{o(`/architecture?category=${encodeURIComponent(m)}`)},p=m=>{o(`/architecture?prefecture=${encodeURIComponent(m)}`)},g=m=>{const x=m.replace("年代","");o(`/architecture?year=${encodeURIComponent(x)}`)};return r?u.jsx("div",{className:"container mx-auto px-4 py-8",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"inline-block animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"}),u.jsx("p",{className:"mt-4 text-lg",children:"研究データを分析中..."}),u.jsx("p",{className:"text-sm text-gray-600",children:"14,467件の建築記録を解析しています"})]})}):a||!e?u.jsx("div",{className:"container mx-auto px-4 py-8",children:u.jsx(Qr,{children:u.jsxs(en,{className:"text-center py-8",children:[u.jsx("p",{className:"text-red-600 mb-4",children:a||"データの読み込みに失敗しました"}),u.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"再読み込み"})]})})}):u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold mb-2",children:"📊 日本建築データベース研究"}),u.jsx("p",{className:"text-gray-600 mb-2",children:"14,467件の建築記録を分析 | 140年間の建築史（1882-2012+）"}),u.jsx("p",{className:"text-sm text-blue-600",children:"※ 各項目をクリックすると、建築作品一覧で詳細な検索結果をご覧いただけます"})]}),u.jsxs($N,{defaultValue:"overview",className:"w-full",children:[u.jsxs(NN,{className:"grid w-full grid-cols-6",children:[u.jsx(Co,{value:"overview",children:"概要"}),u.jsx(Co,{value:"awards",children:"受賞分析"}),u.jsx(Co,{value:"architects",children:"建築家"}),u.jsx(Co,{value:"timeline",children:"時代変遷"}),u.jsx(Co,{value:"regions",children:"地域分析"}),u.jsx(Co,{value:"networks",children:"プロネットワーク"})]}),u.jsxs(Oo,{value:"overview",className:"space-y-6",children:[u.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[u.jsxs(Qr,{children:[u.jsxs(jn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(An,{className:"text-sm font-medium",children:"総建築記録数"}),u.jsx("span",{className:"text-2xl",children:"🏗️"})]}),u.jsxs(en,{children:[u.jsx("div",{className:"text-2xl font-bold",children:"14,467"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"1882年〜2012年+"})]})]}),u.jsxs(Qr,{children:[u.jsxs(jn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(An,{className:"text-sm font-medium",children:"受賞作品数"}),u.jsx("span",{className:"text-2xl",children:"🏆"})]}),u.jsxs(en,{children:[u.jsx("div",{className:"text-2xl font-bold",children:e.awards.reduce((m,x)=>m+x.count,0)}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.awards.length,"種類の賞"]})]})]}),u.jsxs(Qr,{children:[u.jsxs(jn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(An,{className:"text-sm font-medium",children:"建築家数"}),u.jsx("span",{className:"text-2xl",children:"👨‍💼"})]}),u.jsxs(en,{children:[u.jsx("div",{className:"text-2xl font-bold",children:e.architects.length}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"2作品以上の建築家"})]})]}),u.jsxs(Qr,{children:[u.jsxs(jn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(An,{className:"text-sm font-medium",children:"建物種別数"}),u.jsx("span",{className:"text-2xl",children:"🏛️"})]}),u.jsxs(en,{children:[u.jsx("div",{className:"text-2xl font-bold",children:e.buildingTypeEvolution.length}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"5件以上のカテゴリ"})]})]})]}),u.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[u.jsxs(Qr,{children:[u.jsx(jn,{children:u.jsx(An,{children:"時代別建築数"})}),u.jsx(en,{children:u.jsx(Nr,{width:"100%",height:300,children:u.jsxs(Do,{data:e.temporalAnalysis,children:[u.jsx(On,{strokeDasharray:"3 3"}),u.jsx(sn,{dataKey:"decade"}),u.jsx($r,{}),u.jsx(xr,{}),u.jsx(bi,{dataKey:"projectCount",fill:"#8884d8",cursor:"pointer",onClick:m=>g(m.decade)})]})})})]}),u.jsxs(Qr,{children:[u.jsx(jn,{children:u.jsx(An,{children:"建物種別分布 (Top 10)"})}),u.jsx(en,{children:u.jsx(Nr,{width:"100%",height:300,children:u.jsxs(qu,{children:[u.jsx(rs,{data:e.buildingTypeEvolution.slice(0,10),cx:"50%",cy:"50%",labelLine:!1,label:({category:m,totalCount:x})=>`${m} (${x})`,outerRadius:80,fill:"#8884d8",dataKey:"totalCount",cursor:"pointer",onClick:m=>{m&&m.category&&f(m.category)},children:e.buildingTypeEvolution.slice(0,10).map((m,x)=>u.jsx(ha,{fill:s[x%s.length],style:{cursor:"pointer"}},`cell-${x}`))}),u.jsx(xr,{})]})})})]})]})]}),u.jsx(Oo,{value:"awards",className:"space-y-6",children:u.jsxs(Qr,{children:[u.jsxs(jn,{children:[u.jsx(An,{children:"🏆 建築賞分析"}),u.jsx("p",{className:"text-sm text-gray-600",children:"日本の建築賞受賞作品の傾向分析"})]}),u.jsx(en,{children:u.jsx("div",{className:"grid gap-4",children:e.awards.map((m,x)=>u.jsxs("div",{className:"border rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{className:"font-semibold text-lg cursor-pointer hover:text-blue-600",onClick:()=>d(m.name),children:m.name}),u.jsxs(Sn,{variant:"secondary",children:[m.count,"作品"]})]}),u.jsxs("div",{className:"grid gap-2",children:[m.recipients.slice(0,5).map((b,_)=>u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"cursor-pointer hover:text-blue-600",onClick:()=>c(b.architect),children:b.architect}),u.jsx("span",{className:"text-gray-600",children:b.title}),u.jsx("span",{className:"text-gray-500",children:b.year})]},_)),m.recipients.length>5&&u.jsxs("div",{className:"text-sm text-gray-500",children:["他 ",m.recipients.length-5," 作品..."]})]})]},x))})})]})}),u.jsx(Oo,{value:"architects",className:"space-y-6",children:u.jsxs(Qr,{children:[u.jsxs(jn,{children:[u.jsx(An,{children:"👨‍💼 建築家ポートフォリオ分析"}),u.jsx("p",{className:"text-sm text-gray-600",children:"作品数、活動期間、専門分野、受賞歴の分析"})]}),u.jsx(en,{children:u.jsx("div",{className:"grid gap-4",children:e.architects.slice(0,20).map((m,x)=>u.jsxs("div",{className:"border rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{className:"font-semibold text-lg cursor-pointer hover:text-blue-600",onClick:()=>c(m.name),children:m.name}),u.jsxs(Sn,{variant:"outline",children:[m.projectCount,"作品"]})]}),u.jsxs("div",{className:"grid gap-2 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-medium",children:"活動期間:"}),u.jsx("span",{children:m.yearSpan.start>0?`${m.yearSpan.start}年〜${m.yearSpan.end}年`:"不明"})]}),m.awards.length>0&&u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"font-medium",children:"受賞:"}),u.jsx("div",{className:"flex flex-wrap gap-1",children:m.awards.map((b,_)=>u.jsx(Sn,{variant:"secondary",className:"text-xs cursor-pointer hover:bg-yellow-200",onClick:()=>d(b),children:b},_))})]}),u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"font-medium",children:"専門分野:"}),u.jsxs("div",{className:"flex flex-wrap gap-1",children:[m.categories.slice(0,5).map((b,_)=>u.jsx(Sn,{variant:"outline",className:"text-xs cursor-pointer hover:bg-gray-100",onClick:()=>f(b),children:b},_)),m.categories.length>5&&u.jsxs("span",{className:"text-xs text-gray-500",children:["+",m.categories.length-5]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-medium",children:"活動地域:"}),u.jsxs("div",{className:"flex flex-wrap gap-1",children:[m.prefectures.slice(0,3).map((b,_)=>u.jsx("span",{className:"text-sm px-2 py-0.5 bg-gray-100 rounded cursor-pointer hover:bg-gray-200",onClick:()=>p(b),children:b},_)),m.prefectures.length>3&&u.jsxs("span",{className:"text-gray-500",children:["他",m.prefectures.length-3,"都道府県"]})]})]})]})]},x))})})]})}),u.jsx(Oo,{value:"timeline",className:"space-y-6",children:u.jsxs(Qr,{children:[u.jsxs(jn,{children:[u.jsx(An,{children:"📅 建築史時代変遷"}),u.jsx("p",{className:"text-sm text-gray-600",children:"時代ごとの建築傾向と主要建築家の分析"})]}),u.jsxs(en,{children:[u.jsx("div",{className:"mb-6",children:u.jsx(Nr,{width:"100%",height:400,children:u.jsxs(vP,{data:e.temporalAnalysis,onClick:m=>{m&&m.activeLabel&&g(m.activeLabel)},children:[u.jsx(On,{strokeDasharray:"3 3"}),u.jsx(sn,{dataKey:"decade"}),u.jsx($r,{}),u.jsx(xr,{}),u.jsx(aa,{}),u.jsx(Vd,{type:"monotone",dataKey:"projectCount",stroke:"#8884d8",strokeWidth:2,cursor:"pointer",activeDot:{r:8,cursor:"pointer"}})]})})}),u.jsx("div",{className:"grid gap-4",children:e.temporalAnalysis.map((m,x)=>u.jsxs("div",{className:"border rounded-lg p-4",children:[u.jsx("h3",{className:"font-semibold text-lg mb-3 cursor-pointer hover:text-blue-600",onClick:()=>g(m.decade),children:m.decade}),u.jsxs("div",{className:"grid gap-2 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-medium",children:"建築数:"}),u.jsxs(Sn,{variant:"outline",children:[m.projectCount,"件"]})]}),u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"font-medium",children:"主要建物種別:"}),u.jsx("div",{className:"flex flex-wrap gap-1",children:m.dominantCategories.map((b,_)=>u.jsx(Sn,{variant:"secondary",className:"text-xs cursor-pointer hover:bg-gray-300",onClick:()=>f(b),children:b},_))})]}),u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"font-medium",children:"代表的建築家:"}),u.jsx("div",{className:"flex flex-wrap gap-1",children:m.notableArchitects.map((b,_)=>u.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 rounded cursor-pointer hover:bg-blue-200",onClick:()=>c(b),children:b},_))})]}),m.awards.length>0&&u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"font-medium",children:"主な受賞:"}),u.jsx("div",{className:"flex flex-wrap gap-1",children:m.awards.slice(0,3).map((b,_)=>u.jsx(Sn,{variant:"secondary",className:"text-xs cursor-pointer hover:bg-yellow-200",onClick:()=>d(b),children:b},_))})]})]})]},x))})]})]})}),u.jsx(Oo,{value:"regions",className:"space-y-6",children:u.jsxs(Qr,{children:[u.jsxs(jn,{children:[u.jsx(An,{children:"🗺️ 地域別建築分析"}),u.jsx("p",{className:"text-sm text-gray-600",children:"都道府県ごとの建築傾向と特色"})]}),u.jsx(en,{children:u.jsx("div",{className:"grid gap-4",children:e.regionalAnalysis.map((m,x)=>u.jsxs("div",{className:"border rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{className:"font-semibold text-lg cursor-pointer hover:text-blue-600",onClick:()=>p(m.prefecture),children:m.prefecture}),u.jsxs(Sn,{variant:"outline",children:[m.projectCount,"件"]})]}),u.jsxs("div",{className:"grid gap-2 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-medium",children:"建設期間:"}),u.jsx("span",{children:m.timeSpan.start>0?`${m.timeSpan.start}年〜${m.timeSpan.end}年`:"不明"})]}),u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"font-medium",children:"主要建物種別:"}),u.jsx("div",{className:"flex flex-wrap gap-1",children:m.dominantCategories.map((b,_)=>u.jsx(Sn,{variant:"secondary",className:"text-xs cursor-pointer hover:bg-gray-300",onClick:()=>f(b),children:b},_))})]}),u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"font-medium",children:"主要建築家:"}),u.jsx("div",{className:"flex flex-wrap gap-1",children:m.notableArchitects.map((b,_)=>u.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 rounded cursor-pointer hover:bg-blue-200",onClick:()=>c(b),children:b},_))})]}),m.awards.length>0&&u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"font-medium",children:"主な受賞:"}),u.jsx("div",{className:"flex flex-wrap gap-1",children:m.awards.slice(0,3).map((b,_)=>u.jsx(Sn,{variant:"secondary",className:"text-xs cursor-pointer hover:bg-yellow-200",onClick:()=>d(b),children:b},_))})]})]})]},x))})})]})}),u.jsx(Oo,{value:"networks",className:"space-y-6",children:u.jsxs(Qr,{children:[u.jsxs(jn,{children:[u.jsx(An,{children:"🤝 プロフェッショナルネットワーク"}),u.jsx("p",{className:"text-sm text-gray-600",children:"建築家と構造設計者、施工者等の協働関係"})]}),u.jsx(en,{children:u.jsx("div",{className:"grid gap-4",children:e.professionalNetworks.slice(0,15).map((m,x)=>u.jsxs("div",{className:"border rounded-lg p-4",children:[u.jsx("h3",{className:"font-semibold text-lg mb-3 cursor-pointer hover:text-blue-600",onClick:()=>c(m.architect),children:m.architect}),u.jsxs("div",{className:"grid gap-3 text-sm",children:[m.connections.frequent_collaborators.length>0&&u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"主要協働者:"}),u.jsx("div",{className:"mt-1 space-y-1",children:m.connections.frequent_collaborators.slice(0,5).map((b,_)=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:b.name}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Sn,{variant:"outline",className:"text-xs",children:b.role==="structural_designer"?"構造設計":b.role==="landscape_designer"?"造園設計":"施工"}),u.jsxs("span",{className:"text-xs text-gray-500",children:[b.count,"回"]})]})]},_))})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"構造設計者:"}),u.jsxs("div",{className:"mt-1",children:[m.connections.structural_designers.length,"名"]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"造園設計者:"}),u.jsxs("div",{className:"mt-1",children:[m.connections.landscape_designers.length,"名"]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"施工会社:"}),u.jsxs("div",{className:"mt-1",children:[m.connections.contractors.length,"社"]})]})]})]})]},x))})})]})})]})]})},l7=()=>{try{const e=window?.location?.hostname||"";return/github\.io$/.test(e)}catch(e){return console.error("環境チェックエラー:",e),!1}},c7=async()=>{try{const t=l7();console.log("アプリケーション環境: 本番"),console.log(`GitHub Pages環境: ${t?"はい":"いいえ"}`);try{const n=await fetch(t?"./db/database-info.json":"/db/database-info.json");if(n.ok){const a=await n.json();console.log("データベース情報:"),console.log(`- ファイル: ${a.database}`),console.log(`- 更新日時: ${a.date}`),console.log(`- サイズ: ${(a.size/1024/1024).toFixed(2)} MB`),console.log(`- チャンク: ${a.chunks} (${a.chunkSize/1024}KB)のチャンク`),console.log(`- テーブル数: ${a.tables.length}`),console.log(`- インデックス数: ${a.indexes.length}`)}else console.warn("データベースメタデータが見つかりません:",n.status)}catch(r){console.warn("データベースメタデータ読み込みエラー:",r)}}catch(e){console.error("データベース設定ログエラー:",e)}};async function hi(e,t){const r=performance.now();try{const n=await t(),a=performance.now()-r;return a>100?console.warn(`クエリパフォーマンス警告 [${e}]: ${a.toFixed(2)}ms`):console.log(`クエリ実行 [${e}]: ${a.toFixed(2)}ms`),n}catch(n){const a=performance.now()-r;throw console.error(`クエリエラー [${e}]: ${a.toFixed(2)}ms`,n),n}}const u7=()=>{const[e,t]=y.useState(yp()),[r,n]=y.useState(null),[a,i]=y.useState(!0);return y.useEffect(()=>{const o=async()=>{try{i(!0),n(null),await Eg(),i(!1)}catch(d){n(d),i(!1)}},s=()=>{const d=yp();d!==e&&(t(d),d===Cn.READY?(i(!1),n(null)):d===Cn.ERROR?i(!1):d===Cn.INITIALIZING&&i(!0))};e===Cn.NOT_INITIALIZED&&o(),s();const c=setInterval(s,1e3);return()=>clearInterval(c)},[e]),{status:e,isReady:e===Cn.READY,isInitializing:e===Cn.INITIALIZING||a,isError:e===Cn.ERROR||!!r,isLoading:a,error:r,errorDetails:r?.message,architecture:{getById:o=>hi(`getArchitectureById(${o})`,()=>ON(o)),getAll:(o=1,s=12,c="",d="ZAW_NAME",f="asc",p={})=>hi("getAllArchitectures",()=>EN(o,s,c,d,f,p)),getByArchitect:o=>hi(`getArchitecturesByArchitect(${o})`,()=>PN(o)),getTags:()=>hi("getAllTags",()=>TN()),getPrefectureCounts:()=>hi("getPrefectureCounts",()=>LN()),getForMap:(o,s={})=>hi("getArchitectureForMap",()=>kN(o,s))},architect:{getById:o=>hi(`getArchitectById(${o})`,()=>F1(o)),getAll:(o=1,s=12,c="",d=[],f="ZAR_NAME",p="asc",g={})=>hi("getAllArchitects",()=>z1(o,s,c,d,f,p,g)),getTags:()=>hi("getArchitectTags",()=>U1())}}},d7=({onExportData:e,enableRealTimeUpdates:t=!1})=>{const[r,n]=y.useState("all"),[a,i]=y.useState("all"),[o,s]=y.useState("all"),[c,d]=y.useState("bar"),[f,p]=y.useState(!1),[g,m]=y.useState(null),[x,b]=y.useState(null),[_,j]=y.useState(!0),[A,S]=y.useState(null),[C,E]=y.useState(0),[k,I]=y.useState(null),[U,V]=y.useState(null),[re,te]=y.useState(null),J=async()=>{const X="/archi-site/".replace(/\/$/,""),ae=await fetch(`${X}/data/analytics/index.json`);if(!ae.ok)throw new Error(`Failed to load analytics index: ${ae.status} ${ae.statusText}`);return await ae.json()},ne=async(X="all",ae="all",me="all")=>{const $="/archi-site/".replace(/\/$/,"");let N=`${$}/data/analytics/`;if(ae!=="all"){const Ce=ae.replace(/[^a-zA-Z0-9]/g,"_");N+=`by-prefecture/${Ce}.json`}else if(me!=="all"){const Ce=me.replace(/[^a-zA-Z0-9]/g,"_");N+=`by-category/${Ce}.json`}else X!=="all"?N+=`${X}.json`:N+="base.json";const Y=await fetch(N);if(!Y.ok){if(N.includes("by-prefecture")||N.includes("by-category")||X!=="all"){console.warn(`Specific analytics not found (${N}), falling back to base analytics`);const Ce=await fetch(`${$}/data/analytics/base.json`);if(!Ce.ok)throw new Error(`Failed to load analytics: ${Ce.status}`);return await Ce.json()}throw new Error(`Failed to load analytics: ${Y.status} ${Y.statusText}`)}const se=await Y.json(),pe=JSON.stringify(se);return te(pe.length),se},fe=async()=>{const X=performance.now();j(!0),S(null),E(0);try{E(20);const ae=await J();b(ae),E(40),E(60);const me=await ne(r,a,o);E(80),m(me),I(new Date(me.metadata.computedAt)),E(100);const $=performance.now();V($-X),console.log(`📊 Analytics loaded in ${($-X).toFixed(2)}ms`),console.log(`📁 Data size: ${(re||0/1024).toFixed(1)}KB`)}catch(ae){console.error("Failed to load analytics:",ae),S(ae instanceof Error?ae.message:"Failed to load analytics data")}finally{j(!1),E(0)}};y.useEffect(()=>{fe()},[r,a,o]);const Q=y.useMemo(()=>g||null,[g,r,a,o]),G=X=>{if(e)e(X);else if(g&&X==="json"){const ae=JSON.stringify(g,null,2),me=new Blob([ae],{type:"application/json"}),$=URL.createObjectURL(me),N=document.createElement("a");N.href=$,N.download=`architecture-analytics-${r}.json`,N.click(),URL.revokeObjectURL($)}},B=({active:X,payload:ae,label:me})=>X&&ae&&ae.length?u.jsxs(ke,{sx:{p:2,border:"1px solid #ccc"},children:[u.jsx(R,{variant:"body2",children:`${me}`}),ae.map(($,N)=>u.jsx(R,{variant:"body2",style:{color:$.color},children:`${$.dataKey}: ${$.value}${f?"%":""}`},N))]}):null;return _?u.jsx(D,{sx:{p:3},children:u.jsxs(ke,{sx:{p:4,textAlign:"center"},children:[u.jsx(R,{variant:"h5",gutterBottom:!0,children:"研究データを読み込み中..."}),u.jsx(R,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"プリコンピュートされた分析データを高速読み込み中"}),u.jsx(yi,{variant:"determinate",value:C,sx:{mb:2,height:8,borderRadius:4}}),u.jsxs(D,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:2},children:[u.jsx(In,{size:20}),u.jsx(R,{variant:"body2",children:C<40?"インデックス読み込み中...":C<80?"データ読み込み中...":"最終処理中..."})]})]})}):A?u.jsxs(D,{sx:{p:3},children:[u.jsxs(kn,{severity:"error",sx:{mb:2},children:[u.jsx(R,{variant:"h6",children:"データ読み込みエラー"}),u.jsx(R,{variant:"body2",children:A})]}),u.jsx(Pe,{variant:"contained",onClick:fe,startIcon:u.jsx(Ho,{}),children:"再試行"})]}):Q?u.jsxs(D,{sx:{p:3},children:[u.jsxs(D,{sx:{mb:4},children:[u.jsxs(D,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[u.jsxs(D,{children:[u.jsx(R,{variant:"h4",gutterBottom:!0,children:"建築データ分析ダッシュボード（最適化版）"}),u.jsxs(R,{variant:"body2",color:"text.secondary",children:["プリコンピュート済み高速分析 | 最終更新: ",k?.toLocaleString()]})]}),u.jsxs(D,{sx:{display:"flex",gap:1},children:[u.jsx(_t,{title:"データを再読み込み",children:u.jsx(wt,{onClick:fe,children:u.jsx(Ho,{})})}),u.jsx(Pe,{startIcon:u.jsx(nl,{}),variant:"outlined",onClick:()=>G("json"),size:"small",children:"エクスポート"})]})]}),(U||re)&&u.jsx(ke,{sx:{p:2,mb:2,bgcolor:"success.light",color:"success.contrastText"},children:u.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:3},children:[u.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1},children:[u.jsx(LM,{fontSize:"small"}),u.jsxs(R,{variant:"body2",children:["読み込み時間: ",U?.toFixed(0),"ms"]})]}),re&&u.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1},children:[u.jsx(kM,{fontSize:"small"}),u.jsxs(R,{variant:"body2",children:["データサイズ: ",(re/1024).toFixed(1),"KB"]})]}),u.jsx(R,{variant:"body2",children:"🚀 従来比 10-50倍高速化"})]})})]}),u.jsxs(ke,{sx:{p:2,mb:3},children:[u.jsx(R,{variant:"h6",gutterBottom:!0,children:"フィルター設定"}),u.jsxs(ue,{container:!0,spacing:2,alignItems:"center",children:[u.jsx(ue,{item:!0,xs:12,sm:3,children:u.jsxs(Gn,{fullWidth:!0,size:"small",children:[u.jsx(Yn,{children:"期間"}),u.jsxs(qn,{value:r,onChange:X=>n(X.target.value),label:"期間",children:[u.jsx(Qe,{value:"all",children:"全期間"}),u.jsx(Qe,{value:"5years",children:"過去5年"}),u.jsx(Qe,{value:"10years",children:"過去10年"}),u.jsx(Qe,{value:"20years",children:"過去20年"})]})]})}),u.jsx(ue,{item:!0,xs:12,sm:3,children:u.jsxs(Gn,{fullWidth:!0,size:"small",children:[u.jsx(Yn,{children:"都道府県"}),u.jsxs(qn,{value:a,onChange:X=>i(X.target.value),label:"都道府県",children:[u.jsx(Qe,{value:"all",children:"全て"}),x?.availablePrefectures?.map(X=>u.jsx(Qe,{value:X,children:X},X))]})]})}),u.jsx(ue,{item:!0,xs:12,sm:3,children:u.jsxs(Gn,{fullWidth:!0,size:"small",children:[u.jsx(Yn,{children:"カテゴリ"}),u.jsxs(qn,{value:o,onChange:X=>s(X.target.value),label:"カテゴリ",children:[u.jsx(Qe,{value:"all",children:"全て"}),x?.availableCategories?.map(X=>u.jsx(Qe,{value:X,children:X},X))]})]})}),u.jsx(ue,{item:!0,xs:12,sm:3,children:u.jsx(Un,{control:u.jsx(oa,{checked:f,onChange:X=>p(X.target.checked)}),label:"パーセント表示"})})]})]}),u.jsxs(ue,{container:!0,spacing:3,sx:{mb:3},children:[u.jsx(ue,{item:!0,xs:12,sm:6,md:3,children:u.jsx(St,{children:u.jsxs(Ct,{children:[u.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1},children:[u.jsx(xg,{color:"primary"}),u.jsx(R,{variant:"h6",children:"総建築物数"})]}),u.jsx(R,{variant:"h4",color:"primary",children:Q.totalRecords.toLocaleString()}),u.jsxs(R,{variant:"body2",color:"text.secondary",children:["データベース全体: ",x?.totalRecords?.toLocaleString()||"N/A"]})]})})}),u.jsx(ue,{item:!0,xs:12,sm:6,md:3,children:u.jsx(St,{children:u.jsxs(Ct,{children:[u.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1},children:[u.jsx(Wo,{color:"success"}),u.jsx(R,{variant:"h6",children:"成長率"})]}),u.jsxs(R,{variant:"h4",color:"success.main",children:[Q.trendAnalysis.growthRate.toFixed(1),"%"]}),u.jsxs(R,{variant:"body2",color:"text.secondary",children:["ピーク年: ",Q.trendAnalysis.peakYear]})]})})}),u.jsx(ue,{item:!0,xs:12,sm:6,md:3,children:u.jsx(St,{children:u.jsxs(Ct,{children:[u.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1},children:[u.jsx(IM,{color:"warning"}),u.jsx(R,{variant:"h6",children:"多様性指数"})]}),u.jsx(R,{variant:"h4",color:"warning.main",children:Q.trendAnalysis.diversityIndex.toFixed(2)}),u.jsx(R,{variant:"body2",color:"text.secondary",children:"カテゴリの多様性"})]})})}),u.jsx(ue,{item:!0,xs:12,sm:6,md:3,children:u.jsx(St,{children:u.jsxs(Ct,{children:[u.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1},children:[u.jsx(Vn,{color:"info"}),u.jsx(R,{variant:"h6",children:"建築家数"})]}),u.jsx(R,{variant:"h4",color:"info.main",children:Q.architectPopularity.length}),u.jsxs(R,{variant:"body2",color:"text.secondary",children:["人気カテゴリ: ",Q.trendAnalysis.mostPopularCategory]})]})})})]}),u.jsxs(ue,{container:!0,spacing:3,children:[u.jsx(ue,{item:!0,xs:12,lg:8,children:u.jsxs(pi,{defaultExpanded:!0,children:[u.jsx(gi,{expandIcon:u.jsx(mi,{}),children:u.jsx(R,{variant:"h6",children:"年代別分布"})}),u.jsxs(vi,{children:[u.jsx(D,{sx:{height:400},children:u.jsx(Nr,{width:"100%",height:"100%",children:c==="bar"?u.jsxs(Do,{data:Q.yearDistribution,children:[u.jsx(On,{strokeDasharray:"3 3"}),u.jsx(sn,{dataKey:"year"}),u.jsx($r,{}),u.jsx(xr,{content:u.jsx(B,{})}),u.jsx(aa,{}),u.jsx(bi,{dataKey:"count",fill:"#8884d8"})]}):c==="line"?u.jsxs(vP,{data:Q.yearDistribution,children:[u.jsx(On,{strokeDasharray:"3 3"}),u.jsx(sn,{dataKey:"year"}),u.jsx($r,{}),u.jsx(xr,{content:u.jsx(B,{})}),u.jsx(aa,{}),u.jsx(Vd,{type:"monotone",dataKey:"count",stroke:"#8884d8",strokeWidth:2})]}):u.jsxs(i7,{data:Q.yearDistribution,children:[u.jsx(On,{strokeDasharray:"3 3"}),u.jsx(sn,{dataKey:"year"}),u.jsx($r,{}),u.jsx(xr,{content:u.jsx(B,{})}),u.jsx(aa,{}),u.jsx(Gu,{type:"monotone",dataKey:"count",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]})})}),u.jsxs(D,{sx:{mt:2,display:"flex",gap:1},children:[u.jsx(Pe,{variant:c==="bar"?"contained":"outlined",onClick:()=>d("bar"),size:"small",children:"棒グラフ"}),u.jsx(Pe,{variant:c==="line"?"contained":"outlined",onClick:()=>d("line"),size:"small",children:"線グラフ"}),u.jsx(Pe,{variant:c==="area"?"contained":"outlined",onClick:()=>d("area"),size:"small",children:"エリアグラフ"})]})]})]})}),u.jsx(ue,{item:!0,xs:12,lg:4,children:u.jsxs(pi,{defaultExpanded:!0,children:[u.jsx(gi,{expandIcon:u.jsx(mi,{}),children:u.jsx(R,{variant:"h6",children:"カテゴリ分布"})}),u.jsx(vi,{children:u.jsx(D,{sx:{height:400},children:u.jsx(Nr,{width:"100%",height:"100%",children:u.jsxs(qu,{children:[u.jsx(rs,{data:Q.categoryDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({category:X,percentage:ae})=>`${X}: ${ae.toFixed(1)}%`,outerRadius:120,fill:"#8884d8",dataKey:"count",children:Q.categoryDistribution.map((X,ae)=>u.jsx(ha,{fill:X.color},`cell-${ae}`))}),u.jsx(xr,{})]})})})})]})}),u.jsx(ue,{item:!0,xs:12,lg:6,children:u.jsxs(pi,{defaultExpanded:!0,children:[u.jsx(gi,{expandIcon:u.jsx(mi,{}),children:u.jsx(R,{variant:"h6",children:"都道府県別分布（上位15位）"})}),u.jsx(vi,{children:u.jsx(D,{sx:{height:400},children:u.jsx(Nr,{width:"100%",height:"100%",children:u.jsxs(Do,{data:Q.prefectureDistribution,layout:"horizontal",margin:{left:80},children:[u.jsx(On,{strokeDasharray:"3 3"}),u.jsx(sn,{type:"number"}),u.jsx($r,{dataKey:"prefecture",type:"category",width:80}),u.jsx(xr,{content:u.jsx(B,{})}),u.jsx(bi,{dataKey:"count",fill:"#82ca9d"})]})})})})]})}),u.jsx(ue,{item:!0,xs:12,lg:6,children:u.jsxs(pi,{defaultExpanded:!0,children:[u.jsx(gi,{expandIcon:u.jsx(mi,{}),children:u.jsx(R,{variant:"h6",children:"累積建築数の推移"})}),u.jsx(vi,{children:u.jsx(D,{sx:{height:400},children:u.jsx(Nr,{width:"100%",height:"100%",children:u.jsxs(o7,{data:Q.timelineData,children:[u.jsx(On,{strokeDasharray:"3 3"}),u.jsx(sn,{dataKey:"year"}),u.jsx($r,{yAxisId:"left"}),u.jsx($r,{yAxisId:"right",orientation:"right"}),u.jsx(xr,{content:u.jsx(B,{})}),u.jsx(aa,{}),u.jsx(Gu,{yAxisId:"left",type:"monotone",dataKey:"cumulative",fill:"#8884d8",fillOpacity:.6,stroke:"#8884d8"}),u.jsx(bi,{yAxisId:"right",dataKey:"new",fill:"#82ca9d"})]})})})})]})}),u.jsx(ue,{item:!0,xs:12,children:u.jsxs(pi,{children:[u.jsx(gi,{expandIcon:u.jsx(mi,{}),children:u.jsx(R,{variant:"h6",children:"建築家別作品数（上位20位）"})}),u.jsx(vi,{children:u.jsx(D,{sx:{height:500},children:u.jsx(Nr,{width:"100%",height:"100%",children:u.jsxs(Do,{data:Q.architectPopularity.slice(0,20),margin:{bottom:80},children:[u.jsx(On,{strokeDasharray:"3 3"}),u.jsx(sn,{dataKey:"architect",angle:-45,textAnchor:"end",height:100,interval:0}),u.jsx($r,{}),u.jsx(xr,{content:u.jsx(B,{})}),u.jsx(bi,{dataKey:"count",fill:"#ffc658"})]})})})})]})}),u.jsx(ue,{item:!0,xs:12,md:6,children:u.jsxs(pi,{children:[u.jsx(gi,{expandIcon:u.jsx(mi,{}),children:u.jsx(R,{variant:"h6",children:"地域別密度分布"})}),u.jsx(vi,{children:u.jsx(D,{sx:{height:300},children:u.jsx(Nr,{width:"100%",height:"100%",children:u.jsxs(qu,{children:[u.jsx(rs,{data:Q.geographicDensity,cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",dataKey:"density",label:({region:X,density:ae})=>`${X}: ${ae.toFixed(1)}%`,children:Q.geographicDensity.map((X,ae)=>u.jsx(ha,{fill:qw[ae%qw.length]},`cell-${ae}`))}),u.jsx(xr,{})]})})})})]})}),Q.statusDistribution.length>0&&u.jsx(ue,{item:!0,xs:12,md:6,children:u.jsxs(pi,{children:[u.jsx(gi,{expandIcon:u.jsx(mi,{}),children:u.jsx(R,{variant:"h6",children:"建築状況分布"})}),u.jsx(vi,{children:u.jsx(D,{sx:{height:300},children:u.jsx(Nr,{width:"100%",height:"100%",children:u.jsxs(Do,{data:Q.statusDistribution,children:[u.jsx(On,{strokeDasharray:"3 3"}),u.jsx(sn,{dataKey:"status"}),u.jsx($r,{}),u.jsx(xr,{content:u.jsx(B,{})}),u.jsx(bi,{dataKey:"count",fill:"#ff7c7c"})]})})})})]})})]})]}):u.jsx(D,{sx:{p:3},children:u.jsx(kn,{severity:"warning",children:"分析データが利用できません"})})},qw=["#8884d8","#82ca9d","#ffc658","#ff7c7c","#8dd1e1","#d084d0","#ffb347","#87ceeb","#dda0dd","#98fb98"];delete qe.Icon.Default.prototype._getIconUrl;qe.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png"});const Vw=(e,t=0)=>{const r={residential:"#4CAF50",commercial:"#2196F3",cultural:"#FF9800",educational:"#9C27B0",religious:"#795548",industrial:"#607D8B",default:"#F44336"},n=r[e]||r.default,a=Math.max(20,Math.min(40,20+t*20));return qe.divIcon({className:"custom-marker",html:`
      <div style="
        background-color: ${n};
        width: ${a}px;
        height: ${a}px;
        border-radius: 50%;
        border: 3px solid white;
        box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: bold;
        font-size: ${Math.max(10,a*.3)}px;
      ">
        ${e?e.charAt(0).toUpperCase():"A"}
      </div>
    `,iconSize:[a,a],iconAnchor:[a/2,a/2],popupAnchor:[0,-a/2]})},f7=({markers:e=[],center:t,zoom:r=10,height:n="600px",singleMarker:a,onMarkerClick:i,onBoundsChange:o,enableClustering:s=!0,enableHeatmap:c=!1,enableAnalytics:d=!0,filterOptions:f={}})=>{const[p,g]=y.useState(null),[m,x]=y.useState(null),[b,_]=y.useState(null),[j,A]=y.useState(null),[S,C]=y.useState(s),[E,k]=y.useState(c),[I,U]=y.useState(!1),V=y.useRef(null),[re,te]=y.useState([]),J=y.useCallback(($,N)=>{const Y=N.filter(ie=>$.contains([ie.latitude,ie.longitude])),se=N.filter(ie=>ie.year).map(ie=>ie.year),pe=se.length>0?[Math.min(...se),Math.max(...se)]:[2e3,new Date().getFullYear()],Ce=[...new Set(N.map(ie=>ie.prefecture).filter(Boolean))],ot=[...new Set(N.map(ie=>ie.category).filter(Boolean))],Ye=N.map(ie=>ie.popularity||0),F=Ye.length>0?Ye.reduce((ie,K)=>ie+K,0)/Ye.length:0,ge=$.getNorthEast().distanceTo($.getSouthWest())/1e3,je=Y.length/Math.max(ge,1);return{totalMarkers:N.length,visibleMarkers:Y.length,clusteredMarkers:S?Y.length:0,yearRange:pe,prefectures:Ce,categories:ot,averagePopularity:F,density:je}},[S]),ne=Ft.useMemo(()=>e.filter($=>{if(f.yearRange&&$.year){const[N,Y]=f.yearRange;if($.year<N||$.year>Y)return!1}return!(f.categories&&f.categories.length>0&&$.category&&!f.categories.includes($.category)||f.prefectures&&f.prefectures.length>0&&$.prefecture&&!f.prefectures.includes($.prefecture)||f.popularityThreshold&&$.popularity&&$.popularity<f.popularityThreshold)}),[e,f]),fe=$=>`
      <div style="min-width: 250px; max-width: 300px;">
        ${$.imageUrl?`
          <img src="${$.imageUrl}" alt="${$.name}" 
               style="width: 100%; height: 150px; object-fit: cover; border-radius: 8px; margin-bottom: 12px;">
        `:""}
        <h3 style="margin: 0 0 8px 0; font-size: 1.2rem; font-weight: bold; color: #1976d2;">
          ${$.name}
        </h3>
        ${$.architect?`
          <p style="margin: 0 0 4px 0; font-size: 0.9rem; color: #666; font-style: italic;">
            設計: ${$.architect}
          </p>
        `:""}
        <p style="margin: 0 0 8px 0; font-size: 0.9rem; color: #666;">
          📍 ${$.location}
        </p>
        ${$.year?`
          <p style="margin: 0 0 8px 0; font-size: 0.9rem; color: #666;">
            📅 ${$.year}年
          </p>
        `:""}
        ${$.category?`
          <span style="
            display: inline-block;
            padding: 4px 8px;
            background-color: #e3f2fd;
            color: #1976d2;
            border-radius: 12px;
            font-size: 0.8rem;
            margin-bottom: 8px;
          ">
            ${$.category}
          </span>
        `:""}
        ${$.description?`
          <p style="margin: 8px 0; font-size: 0.85rem; color: #555; line-height: 1.4;">
            ${$.description.length>100?$.description.substring(0,100)+"...":$.description}
          </p>
        `:""}
        ${$.popularity?`
          <div style="margin: 8px 0; display: flex; align-items: center; gap: 8px;">
            <span style="font-size: 0.8rem; color: #666;">人気度:</span>
            <div style="flex: 1; height: 6px; background-color: #e0e0e0; border-radius: 3px; overflow: hidden;">
              <div style="width: ${$.popularity*100}%; height: 100%; background-color: #4caf50;"></div>
            </div>
            <span style="font-size: 0.8rem; color: #666;">${Math.round($.popularity*100)}%</span>
          </div>
        `:""}
        <button 
          onclick="window.dispatchEvent(new CustomEvent('marker-click', { detail: ${JSON.stringify($)} }))"
          style="
            width: 100%;
            padding: 8px 16px;
            margin-top: 12px;
            background-color: #1976d2;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background-color 0.2s;
          "
          onmouseover="this.style.backgroundColor='#1565c0'"
          onmouseout="this.style.backgroundColor='#1976d2'"
        >
          詳細を見る
        </button>
      </div>
    `,Q=y.useCallback($=>{if($!==null&&!p)try{const N=a&&a.latitude&&a.longitude?[a.latitude,a.longitude]:t,Y=qe.map($,{center:N,zoom:r,zoomControl:!1,attributionControl:!0}),se=qe.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}),pe=qe.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community",maxZoom:19});se.addTo(Y);const Ce={標準地図:se,衛星画像:pe};qe.control.layers(Ce).addTo(Y);const ot=qe.markerClusterGroup({maxClusterRadius:50,disableClusteringAtZoom:15,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,iconCreateFunction:Ye=>{const F=Ye.getChildCount(),ge=F<10?30:F<100?40:50;return qe.divIcon({html:`<div style="
                background: linear-gradient(135deg, #1976d2, #1565c0);
                color: white;
                border-radius: 50%;
                border: 3px solid white;
                box-shadow: 0 2px 8px rgba(0,0,0,0.3);
                display: flex;
                align-items: center;
                justify-content: center;
                font-weight: bold;
                font-size: ${Math.max(12,ge*.3)}px;
                width: ${ge}px;
                height: ${ge}px;
              ">${F}</div>`,className:"marker-cluster-custom",iconSize:qe.point(ge,ge,!0)})}});Y.on("moveend zoomend",()=>{const Ye=Y.getBounds(),F=J(Ye,ne);_(F),o&&o(Ye,F)}),g(Y),x(ot),window.addEventListener("marker-click",Ye=>{i&&i(Ye.detail)})}catch(N){console.error("Map initialization error:",N)}},[t,r,a,o,i,J,ne,p]);y.useEffect(()=>{if(!(!p||!m)){if(m.clearLayers(),ne.forEach($=>{if($.latitude&&$.longitude){const N=qe.marker([$.latitude,$.longitude],{icon:Vw($.category||"default",$.popularity||0)});N.bindPopup(fe($),{maxWidth:300,minWidth:250}),S?m.addLayer(N):N.addTo(p)}}),S&&!p.hasLayer(m)?p.addLayer(m):!S&&p.hasLayer(m)&&p.removeLayer(m),a&&a.latitude&&a.longitude){const $=qe.marker([a.latitude,a.longitude],{icon:Vw(a.category||"default",a.popularity||1)});$.bindPopup(fe(a)),$.addTo(p)}te(ne)}},[p,m,ne,a,S]);const G=()=>{C(!S)},B=()=>{I?document.exitFullscreen&&document.exitFullscreen():V.current?.requestFullscreen&&V.current.requestFullscreen(),U(!I)},X=()=>p?.zoomIn(),ae=()=>p?.zoomOut(),me=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition($=>{p?.setView([$.coords.latitude,$.coords.longitude],15)})};return u.jsxs(D,{sx:{position:"relative",height:n,width:"100%"},children:[u.jsxs(D,{sx:{position:"absolute",top:10,right:10,zIndex:1e3,display:"flex",flexDirection:"column",gap:1},children:[u.jsx(ke,{elevation:2,sx:{p:.5},children:u.jsxs(D,{sx:{display:"flex",flexDirection:"column"},children:[u.jsx(wt,{size:"small",onClick:X,children:u.jsx(mg,{})}),u.jsx(wt,{size:"small",onClick:ae,children:u.jsx(vg,{})}),u.jsx(wt,{size:"small",onClick:me,children:u.jsx(Jh,{})})]})}),u.jsx(ke,{elevation:2,sx:{p:1},children:u.jsxs(D,{sx:{display:"flex",flexDirection:"column",gap:1,minWidth:200},children:[u.jsx(Un,{control:u.jsx(oa,{checked:S,onChange:G,size:"small"}),label:"クラスタリング",sx:{margin:0}}),u.jsx(Pe,{size:"small",startIcon:u.jsx(tu,{}),onClick:B,variant:"outlined",children:I?"元に戻す":"フルスクリーン"})]})})]}),d&&b&&u.jsxs(ke,{elevation:3,sx:{position:"absolute",bottom:10,left:10,zIndex:1e3,p:2,minWidth:250,backgroundColor:"rgba(255, 255, 255, 0.95)"},children:[u.jsx(R,{variant:"h6",gutterBottom:!0,children:"マップ統計"}),u.jsxs(D,{sx:{display:"flex",flexDirection:"column",gap:1},children:[u.jsxs(D,{sx:{display:"flex",justifyContent:"space-between"},children:[u.jsx(R,{variant:"body2",children:"総建築物数:"}),u.jsx($e,{label:b.totalMarkers,size:"small",color:"primary"})]}),u.jsxs(D,{sx:{display:"flex",justifyContent:"space-between"},children:[u.jsx(R,{variant:"body2",children:"表示中:"}),u.jsx($e,{label:b.visibleMarkers,size:"small",color:"secondary"})]}),u.jsxs(D,{sx:{display:"flex",justifyContent:"space-between"},children:[u.jsx(R,{variant:"body2",children:"年代:"}),u.jsxs(R,{variant:"body2",children:[b.yearRange[0]," - ",b.yearRange[1]]})]}),u.jsxs(D,{sx:{display:"flex",justifyContent:"space-between"},children:[u.jsx(R,{variant:"body2",children:"都道府県数:"}),u.jsx($e,{label:b.prefectures.length,size:"small"})]}),u.jsxs(D,{sx:{display:"flex",justifyContent:"space-between"},children:[u.jsx(R,{variant:"body2",children:"カテゴリ数:"}),u.jsx($e,{label:b.categories.length,size:"small"})]}),u.jsxs(D,{sx:{display:"flex",justifyContent:"space-between"},children:[u.jsx(R,{variant:"body2",children:"密度:"}),u.jsxs(R,{variant:"body2",children:[b.density.toFixed(1),"/km²"]})]})]})]}),u.jsx("div",{ref:Q,style:{height:"100%",width:"100%",borderRadius:"8px",overflow:"hidden"},className:"leaflet-container"})]})},qh=[{name:"明治時代",startYear:1868,endYear:1912,color:"#8B4513",description:"西洋建築の導入と和洋折衷建築の発展",characteristics:["西洋建築様式の導入","煉瓦造建築","和洋折衷","擬洋風建築"]},{name:"大正時代",startYear:1912,endYear:1926,color:"#FF6B6B",description:"大正ロマンと自由主義建築",characteristics:["自由主義建築","分離派建築","表現主義","大正ロマン"]},{name:"昭和戦前",startYear:1926,endYear:1945,color:"#4ECDC4",description:"モダニズム建築の受容と発展",characteristics:["国際様式","アール・デコ","モダニズム","帝冠様式"]},{name:"昭和戦後",startYear:1945,endYear:1989,color:"#45B7D1",description:"復興から高度経済成長期の建築",characteristics:["復興建築","メタボリズム","高層建築","団地建築"]},{name:"平成時代",startYear:1989,endYear:2019,color:"#96CEB4",description:"ポストモダンから現代建築へ",characteristics:["ポストモダン","解構主義","環境建築","IT時代の建築"]},{name:"令和時代",startYear:2019,endYear:2030,color:"#FECA57",description:"持続可能性と新技術の建築",characteristics:["サステナブル建築","スマート建築","AIとIoT","災害復興建築"]}],Vh={low:"#E0E0E0",medium:"#81C784",high:"#FF9800",landmark:"#F44336"},h7=({architectures:e,onEventSelect:t,onYearChange:r,autoPlayInterval:n=500,enableEras:a=!0,enableFiltering:i=!0,enableComparison:o=!1})=>{const[s,c]=y.useState(1950),[d,f]=y.useState(!1),[p,g]=y.useState(1),[m,x]=y.useState("all"),[b,_]=y.useState("all"),[j,A]=y.useState(["low","medium","high","landmark"]),[S,C]=y.useState(1),[E,k]=y.useState(!1),[I,U]=y.useState(null),[V,re]=y.useState(!1),[te,J]=y.useState([]),ne=y.useMemo(()=>e.filter(F=>F.ZAR_YEAR&&F.ZAR_YEAR>=1850&&F.ZAR_YEAR<=2030).map(F=>{const ge=!!F.ZAR_IMAGE_URL,je=!!F.ZAR_ARCHITECT,ie=F.ZAR_PREFECTURE==="東京都";let K="low";return ge&&je&&ie?K="landmark":ge&&je?K="high":(ge||je)&&(K="medium"),{id:F.Z_PK.toString(),year:F.ZAR_YEAR,title:F.ZAR_TITLE,architect:F.ZAR_ARCHITECT||void 0,category:F.ZAR_CATEGORY||"その他",prefecture:F.ZAR_PREFECTURE||"不明",description:F.ZAR_DESCRIPTION||void 0,imageUrl:F.ZAR_IMAGE_URL||void 0,significance:K,coordinates:F.ZAR_LATITUDE&&F.ZAR_LONGITUDE?[F.ZAR_LATITUDE,F.ZAR_LONGITUDE]:void 0}}),[e]),fe=y.useMemo(()=>ne.filter(F=>!(m!=="all"&&F.category!==m||b!=="all"&&F.prefecture!==b||!j.includes(F.significance))),[ne,m,b,j]),Q=y.useMemo(()=>{const F=Math.max(1,10/S);return fe.filter(ge=>ge.year>=s-F&&ge.year<=s+F)},[fe,s,S]),G=y.useMemo(()=>qh.find(F=>s>=F.startYear&&s<=F.endYear),[s]),B=y.useMemo(()=>[...new Set(ne.map(F=>F.category))].sort(),[ne]),X=y.useMemo(()=>[...new Set(ne.map(F=>F.prefecture))].sort(),[ne]);Ft.useEffect(()=>{if(!d)return;const F=setInterval(()=>{c(ge=>{const je=ge+p;return je>2030?(f(!1),1850):je})},n);return()=>clearInterval(F)},[d,p,n]),Ft.useEffect(()=>{r&&r(s)},[s,r]);const ae=y.useCallback(F=>{V?J(ge=>ge.find(ie=>ie.id===F.id)?ge.filter(ie=>ie.id!==F.id):ge.length<5?[...ge,F]:ge):(U(F),k(!0),t&&t(F))},[V,t]),me=()=>{f(!d)},$=()=>{f(!1),c(1850)},N=(F,ge)=>{c(ge)},Y=()=>{C(F=>Math.min(F*2,8))},se=()=>{C(F=>Math.max(F/2,.25))},pe=1e3,Ce=[1850,2030],ot=Ce[1]-Ce[0],Ye=F=>(F-Ce[0])/ot*pe;return u.jsxs(D,{sx:{p:3},children:[u.jsxs(D,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsx(R,{variant:"h4",children:"建築史タイムライン"}),u.jsxs(D,{sx:{display:"flex",gap:1},children:[u.jsx(_t,{title:"比較モード",children:u.jsx(Un,{control:u.jsx(oa,{checked:V,onChange:F=>re(F.target.checked)}),label:"比較"})}),u.jsx(Pe,{startIcon:u.jsx(nl,{}),variant:"outlined",children:"エクスポート"})]})]}),a&&G&&u.jsxs(ke,{sx:{p:2,mb:3,backgroundColor:G.color+"20"},children:[u.jsxs(R,{variant:"h6",sx:{color:G.color,fontWeight:"bold"},children:[G.name," (",G.startYear," - ",G.endYear,")"]}),u.jsx(R,{variant:"body2",sx:{mb:1},children:G.description}),u.jsx(D,{sx:{display:"flex",gap:.5,flexWrap:"wrap"},children:G.characteristics.map((F,ge)=>u.jsx($e,{label:F,size:"small",sx:{backgroundColor:G.color+"40"}},ge))})]}),u.jsx(ke,{sx:{p:2,mb:3},children:u.jsxs(ue,{container:!0,spacing:2,alignItems:"center",children:[u.jsx(ue,{item:!0,xs:12,md:4,children:u.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1},children:[u.jsx(wt,{onClick:()=>c(F=>Math.max(F-10,1850)),children:u.jsx(RM,{})}),u.jsx(wt,{onClick:me,color:"primary",children:d?u.jsx(MM,{}):u.jsx(DM,{})}),u.jsx(wt,{onClick:$,children:u.jsx($M,{})}),u.jsx(wt,{onClick:()=>c(F=>Math.min(F+10,2030)),children:u.jsx(NM,{})}),u.jsxs(Gn,{size:"small",sx:{ml:2,minWidth:80},children:[u.jsx(Yn,{children:"速度"}),u.jsxs(qn,{value:p,onChange:F=>g(F.target.value),label:"速度",children:[u.jsx(Qe,{value:.5,children:"0.5x"}),u.jsx(Qe,{value:1,children:"1x"}),u.jsx(Qe,{value:2,children:"2x"}),u.jsx(Qe,{value:5,children:"5x"})]})]})]})}),u.jsx(ue,{item:!0,xs:12,md:2,children:u.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1},children:[u.jsx(wt,{onClick:se,children:u.jsx(vg,{})}),u.jsxs(R,{variant:"body2",children:[S.toFixed(1),"x"]}),u.jsx(wt,{onClick:Y,children:u.jsx(mg,{})})]})}),i&&u.jsxs(u.Fragment,{children:[u.jsx(ue,{item:!0,xs:12,md:2,children:u.jsxs(Gn,{fullWidth:!0,size:"small",children:[u.jsx(Yn,{children:"カテゴリ"}),u.jsxs(qn,{value:m,onChange:F=>x(F.target.value),label:"カテゴリ",children:[u.jsx(Qe,{value:"all",children:"全て"}),B.map(F=>u.jsx(Qe,{value:F,children:F},F))]})]})}),u.jsx(ue,{item:!0,xs:12,md:2,children:u.jsxs(Gn,{fullWidth:!0,size:"small",children:[u.jsx(Yn,{children:"都道府県"}),u.jsxs(qn,{value:b,onChange:F=>_(F.target.value),label:"都道府県",children:[u.jsx(Qe,{value:"all",children:"全て"}),X.map(F=>u.jsx(Qe,{value:F,children:F},F))]})]})})]}),u.jsx(ue,{item:!0,xs:12,md:2,children:u.jsxs(R,{variant:"h5",align:"center",color:"primary",children:[s,"年"]})})]})}),u.jsx(ke,{sx:{p:2,mb:3},children:u.jsx(rp,{value:s,onChange:N,min:1850,max:2030,step:1,marks:qh.map(F=>({value:F.startYear,label:F.name})),valueLabelDisplay:"auto",sx:{"& .MuiSlider-mark":{backgroundColor:"primary.main"}}})}),u.jsx(ke,{sx:{p:2,mb:3,overflowX:"auto"},children:u.jsxs(D,{sx:{position:"relative",height:400,minWidth:pe},children:[a&&qh.map(F=>{const ge=Ye(F.startYear),je=Ye(F.endYear);return u.jsx(D,{sx:{position:"absolute",left:ge,width:je-ge,height:"100%",backgroundColor:F.color+"10",border:`1px solid ${F.color}40`,borderRadius:1}},F.name)}),u.jsx(D,{sx:{position:"absolute",left:Ye(s),top:0,width:2,height:"100%",backgroundColor:"primary.main",zIndex:10}}),fe.map(F=>{const ge=Ye(F.year),je=Math.abs(F.year-s)<=10/S,ie=te.find(K=>K.id===F.id);return u.jsx(_t,{title:`${F.year}: ${F.title}${F.architect?` by ${F.architect}`:""}`,children:u.jsx(D,{sx:{position:"absolute",left:ge-5,top:50+Math.random()*250,width:10,height:10,borderRadius:"50%",backgroundColor:Vh[F.significance],border:ie?"3px solid #1976d2":"1px solid #fff",opacity:je?1:.3,cursor:"pointer",transform:ie?"scale(1.5)":"scale(1)",transition:"all 0.2s ease",zIndex:ie?20:je?15:5,"&:hover":{transform:"scale(1.8)",zIndex:25}},onClick:()=>ae(F)})},F.id)}),u.jsx(D,{sx:{position:"absolute",bottom:10,right:10},children:u.jsxs(ke,{sx:{p:1},children:[u.jsx(R,{variant:"caption",gutterBottom:!0,children:"重要度"}),Object.entries(Vh).map(([F,ge])=>u.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:.5},children:[u.jsx(D,{sx:{width:8,height:8,borderRadius:"50%",backgroundColor:ge}}),u.jsx(R,{variant:"caption",children:F==="landmark"?"ランドマーク":F==="high"?"高":F==="medium"?"中":"低"})]},F))]})})]})}),u.jsxs(ke,{sx:{p:2},children:[u.jsxs(R,{variant:"h6",gutterBottom:!0,children:[s,"年前後の建築作品 (",Q.length,"件)"]}),u.jsx(ue,{container:!0,spacing:2,children:Q.slice(0,6).map(F=>u.jsx(ue,{item:!0,xs:12,sm:6,md:4,children:u.jsx(St,{sx:{cursor:"pointer",transition:"transform 0.2s","&:hover":{transform:"scale(1.02)"},border:te.find(ge=>ge.id===F.id)?"2px solid #1976d2":"none"},onClick:()=>ae(F),children:u.jsx(Ct,{children:u.jsxs(D,{sx:{display:"flex",alignItems:"flex-start",gap:1},children:[u.jsx(np,{sx:{backgroundColor:Vh[F.significance],width:24,height:24,fontSize:"0.7rem"},children:F.year.toString().slice(-2)}),u.jsxs(D,{sx:{flex:1},children:[u.jsx(R,{variant:"subtitle2",noWrap:!0,children:F.title}),u.jsxs(R,{variant:"caption",color:"text.secondary",children:[F.architect&&`${F.architect} | `,F.prefecture," | ",F.category]})]})]})})})},F.id))}),Q.length>6&&u.jsxs(R,{variant:"body2",sx:{mt:1,textAlign:"center"},children:["他 ",Q.length-6," 件..."]})]}),V&&te.length>0&&u.jsxs(ke,{sx:{p:2,mt:2},children:[u.jsxs(R,{variant:"h6",gutterBottom:!0,children:["選択中の建築作品 (",te.length,"/5)"]}),u.jsx(ue,{container:!0,spacing:2,children:te.map(F=>u.jsx(ue,{item:!0,xs:12,md:6,lg:4,children:u.jsx(St,{children:u.jsxs(Ct,{children:[u.jsx(R,{variant:"h6",children:F.title}),u.jsxs(R,{variant:"body2",color:"text.secondary",children:[F.year,"年 | ",F.architect||"設計者不明"]}),u.jsxs(R,{variant:"body2",children:[F.prefecture," | ",F.category]}),u.jsx(Pe,{size:"small",onClick:()=>J(ge=>ge.filter(je=>je.id!==F.id)),sx:{mt:1},children:"削除"})]})})},F.id))})]}),u.jsx(bg,{open:E,onClose:()=>k(!1),maxWidth:"md",fullWidth:!0,children:I&&u.jsxs(u.Fragment,{children:[u.jsxs(_g,{children:[I.title," (",I.year,")"]}),u.jsx(wg,{children:u.jsxs(ue,{container:!0,spacing:2,children:[u.jsxs(ue,{item:!0,xs:12,md:6,children:[I.imageUrl&&u.jsx(D,{component:"img",src:I.imageUrl,alt:I.title,sx:{width:"100%",borderRadius:1,mb:2}}),u.jsxs(R,{variant:"body1",gutterBottom:!0,children:[u.jsx("strong",{children:"設計者:"})," ",I.architect||"不明"]}),u.jsxs(R,{variant:"body1",gutterBottom:!0,children:[u.jsx("strong",{children:"所在地:"})," ",I.prefecture]}),u.jsxs(R,{variant:"body1",gutterBottom:!0,children:[u.jsx("strong",{children:"カテゴリ:"})," ",I.category]}),u.jsxs(R,{variant:"body1",gutterBottom:!0,children:[u.jsx("strong",{children:"重要度:"})," ",I.significance==="landmark"?"ランドマーク":I.significance==="high"?"高":I.significance==="medium"?"中":"低"]})]}),u.jsxs(ue,{item:!0,xs:12,md:6,children:[I.description&&u.jsx(R,{variant:"body2",paragraph:!0,children:I.description}),G&&u.jsxs(ke,{sx:{p:2,backgroundColor:G.color+"20"},children:[u.jsxs(R,{variant:"subtitle2",gutterBottom:!0,children:["時代背景: ",G.name]}),u.jsx(R,{variant:"body2",children:G.description})]})]})]})}),u.jsxs(jg,{children:[u.jsx(Pe,{onClick:()=>k(!1),children:"閉じる"}),u.jsx(Pe,{variant:"contained",children:"詳細ページへ"})]})]})})]})},p7=[{name:"住宅建築",key:"residential"},{name:"商業建築",key:"commercial"},{name:"文化施設",key:"cultural"},{name:"教育施設",key:"educational"},{name:"宗教建築",key:"religious"},{name:"公共建築",key:"public"}],Xw=["#8884d8","#82ca9d","#ffc658","#ff7c7c","#8dd1e1","#d084d0"],g7=({architect:e,architectures:t,onWorkSelect:r,onCompareArchitect:n,enableComparison:a=!1,showDetailedStats:i=!0})=>{const[o,s]=y.useState(0),[c,d]=y.useState(null),[f,p]=y.useState(!1),[g,m]=y.useState(!1),[x,b]=y.useState(!1),_=y.useMemo(()=>{const C=t.filter(N=>N.ZAR_ARCHITECT===e.ZAR_NAME||N.ZAR_ARCHITECT1===e.ZAR_NAME||N.ZAR_ARCHITECT2===e.ZAR_NAME||N.ZAR_ARCHITECT3===e.ZAR_NAME||N.ZAR_ARCHITECT4===e.ZAR_NAME),E=C.filter(N=>N.ZAR_YEAR).map(N=>N.ZAR_YEAR),k=E.length>0?[Math.min(...E),Math.max(...E)]:[e.ZAR_BIRTHYEAR||1900,new Date().getFullYear()],I={};C.forEach(N=>{const Y=N.ZAR_CATEGORY||"その他";I[Y]=(I[Y]||0)+1});const U=C.length,V=Object.entries(I).map(([N,Y])=>({name:N,count:Y,percentage:Y/U*100})).sort((N,Y)=>Y.count-N.count),re={};C.forEach(N=>{const Y=N.ZAR_PREFECTURE||"不明";re[Y]=(re[Y]||0)+1});const te=Object.entries(re).map(([N,Y])=>({name:N,count:Y})).sort((N,Y)=>Y.count-N.count),J={};C.forEach(N=>{N.ZAR_YEAR&&(J[N.ZAR_YEAR]=(J[N.ZAR_YEAR]||0)+1)});const ne=Object.entries(J).map(([N,Y])=>({year:parseInt(N),count:Y})).sort((N,Y)=>N.year-Y.year),fe=E.length>0?U/(k[1]-k[0]+1):0,Q=ne.reduce((N,Y)=>Y.count>N.count?Y:N,ne[0])?.year||k[1],G=Math.min(100,U*2+(k[1]-k[0])*.5),B=Math.min(100,V.length*15+te.length*5),X=Math.min(100,(e.ZAR_AWARDS?30:0)+U*1.5),ae=[...e.ZAR_BIRTHYEAR?[{year:e.ZAR_BIRTHYEAR,event:`${e.ZAR_BIRTHPLACE||""}で誕生`,type:"birth"}]:[],...e.ZAR_SCHOOL?[{year:(e.ZAR_BIRTHYEAR||1900)+22,event:`${e.ZAR_SCHOOL}で学ぶ`,type:"education"}]:[],...ne.map(N=>({year:N.year,event:`${N.count}作品を完成`,type:"work"})),...e.ZAR_AWARDS?[{year:Q,event:e.ZAR_AWARDS,type:"award"}]:[],...e.ZAR_DEATHYEAR?[{year:e.ZAR_DEATHYEAR,event:"逝去",type:"death"}]:[]].sort((N,Y)=>N.year-Y.year),me=p7.map(N=>{const Y=C.filter(pe=>pe.ZAR_CATEGORY?.includes(N.key)||pe.ZAR_BIGCATEGORY?.includes(N.key)).length,se=Math.min(100,Y/Math.max(U,1)*100+Math.random()*20);return{name:N.name,level:Math.round(se)}}),$=[{name:"構造設計事務所",works:Math.floor(U*.8)},{name:"設備設計",works:Math.floor(U*.6)},{name:"ランドスケープ",works:Math.floor(U*.3)}].filter(N=>N.works>0);return{architect:e,works:C,statistics:{totalWorks:U,yearSpan:k,categories:V,prefectures:te,productivity:ne,averageWorksPerYear:fe,peakYear:Q,influence:G,innovation:B,recognition:X},timeline:ae,skills:me,collaborations:$}},[e,t]),j=C=>{d(C),p(!0),r&&r(C)},A=(C,E)=>{s(E)},S=_.skills.map(C=>({skill:C.name,level:C.level}));return u.jsxs(D,{sx:{p:3},children:[u.jsx(ke,{sx:{p:3,mb:3,background:"linear-gradient(135deg, #1976d2 0%, #1565c0 100%)"},children:u.jsxs(ue,{container:!0,spacing:3,alignItems:"center",children:[u.jsx(ue,{item:!0,xs:12,md:3,children:u.jsxs(D,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[u.jsx(np,{src:e.ZAR_IMAGE,sx:{width:120,height:120,mb:2,border:"4px solid white",boxShadow:3},children:u.jsx(Vn,{sx:{fontSize:60}})}),u.jsx(wt,{onClick:()=>m(!g),sx:{color:"white"},children:g?u.jsx(BM,{}):u.jsx(FM,{})})]})}),u.jsxs(ue,{item:!0,xs:12,md:6,children:[u.jsx(R,{variant:"h4",sx:{color:"white",fontWeight:"bold",mb:1},children:e.ZAR_NAME}),u.jsx(R,{variant:"h6",sx:{color:"white",opacity:.9,mb:2},children:e.ZAR_NAMEENG}),u.jsxs(D,{sx:{display:"flex",gap:1,flexWrap:"wrap",mb:2},children:[e.ZAR_BIRTHYEAR&&u.jsx($e,{icon:u.jsx(ip,{}),label:`${e.ZAR_BIRTHYEAR}${e.ZAR_DEATHYEAR?`-${e.ZAR_DEATHYEAR}`:"-"}`,sx:{backgroundColor:"white",color:"primary.main"}}),e.ZAR_NATIONALITY&&u.jsx($e,{icon:u.jsx(Pi,{}),label:e.ZAR_NATIONALITY,sx:{backgroundColor:"white",color:"primary.main"}}),e.ZAR_SCHOOL&&u.jsx($e,{icon:u.jsx(tp,{}),label:e.ZAR_SCHOOL,sx:{backgroundColor:"white",color:"primary.main"}})]}),e.ZAR_BIO&&u.jsx(R,{variant:"body1",sx:{color:"white",opacity:.9},children:e.ZAR_BIO.length>200?e.ZAR_BIO.substring(0,200)+"...":e.ZAR_BIO})]}),u.jsx(ue,{item:!0,xs:12,md:3,children:u.jsxs(D,{sx:{display:"flex",flexDirection:"column",gap:2},children:[u.jsx(Pe,{variant:"contained",sx:{backgroundColor:"white",color:"primary.main"},startIcon:u.jsx(a1,{}),onClick:()=>b(!0),children:"タイムライン"}),u.jsx(Pe,{variant:"outlined",sx:{color:"white",borderColor:"white"},startIcon:u.jsx(o1,{}),children:"共有"}),a&&u.jsx(Pe,{variant:"outlined",sx:{color:"white",borderColor:"white"},onClick:()=>n&&n(e),children:"比較"})]})})]})}),u.jsxs(ue,{container:!0,spacing:3,sx:{mb:3},children:[u.jsx(ue,{item:!0,xs:12,sm:6,md:3,children:u.jsx(St,{sx:{height:"100%"},children:u.jsxs(Ct,{sx:{textAlign:"center"},children:[u.jsx(xg,{sx:{fontSize:40,color:"primary.main",mb:1}}),u.jsx(R,{variant:"h4",color:"primary",children:_.statistics.totalWorks}),u.jsx(R,{variant:"body2",color:"text.secondary",children:"総作品数"})]})})}),u.jsx(ue,{item:!0,xs:12,sm:6,md:3,children:u.jsx(St,{sx:{height:"100%"},children:u.jsxs(Ct,{sx:{textAlign:"center"},children:[u.jsx(Wo,{sx:{fontSize:40,color:"success.main",mb:1}}),u.jsx(R,{variant:"h4",color:"success.main",children:_.statistics.averageWorksPerYear.toFixed(1)}),u.jsx(R,{variant:"body2",color:"text.secondary",children:"年平均作品数"})]})})}),u.jsx(ue,{item:!0,xs:12,sm:6,md:3,children:u.jsx(St,{sx:{height:"100%"},children:u.jsxs(Ct,{sx:{textAlign:"center"},children:[u.jsx(Pi,{sx:{fontSize:40,color:"warning.main",mb:1}}),u.jsx(R,{variant:"h4",color:"warning.main",children:_.statistics.prefectures.length}),u.jsx(R,{variant:"body2",color:"text.secondary",children:"活動都道府県数"})]})})}),u.jsx(ue,{item:!0,xs:12,sm:6,md:3,children:u.jsx(St,{sx:{height:"100%"},children:u.jsxs(Ct,{sx:{textAlign:"center"},children:[u.jsx(Wa,{sx:{fontSize:40,color:"error.main",mb:1}}),u.jsx(R,{variant:"h4",color:"error.main",children:Math.round(_.statistics.influence)}),u.jsx(R,{variant:"body2",color:"text.secondary",children:"影響力指数"})]})})})]}),u.jsx(ke,{sx:{mb:3},children:u.jsxs(s1,{value:o,onChange:A,variant:"scrollable",children:[u.jsx(Lo,{label:"作品ギャラリー"}),u.jsx(Lo,{label:"統計・分析"}),u.jsx(Lo,{label:"スキル分析"}),u.jsx(Lo,{label:"年表・経歴"}),u.jsx(Lo,{label:"協働関係"})]})}),o===0&&u.jsxs(ue,{container:!0,spacing:2,children:[_.works.slice(0,12).map(C=>u.jsx(ue,{item:!0,xs:12,sm:6,md:4,lg:3,children:u.jsxs(St,{sx:{cursor:"pointer",transition:"transform 0.2s, elevation 0.2s","&:hover":{transform:"translateY(-4px)",elevation:8}},onClick:()=>j(C),children:[C.ZAR_IMAGE_URL&&u.jsx(zM,{component:"img",height:"200",image:C.ZAR_IMAGE_URL,alt:C.ZAR_TITLE}),u.jsxs(Ct,{children:[u.jsx(R,{variant:"h6",noWrap:!0,children:C.ZAR_TITLE}),u.jsxs(R,{variant:"body2",color:"text.secondary",children:[C.ZAR_YEAR,"年 | ",C.ZAR_PREFECTURE]}),u.jsx(D,{sx:{mt:1},children:u.jsx($e,{label:C.ZAR_CATEGORY||"その他",size:"small",color:"primary",variant:"outlined"})})]})]})},C.Z_PK)),_.works.length>12&&u.jsx(ue,{item:!0,xs:12,children:u.jsxs(ke,{sx:{p:2,textAlign:"center"},children:[u.jsxs(R,{variant:"body1",children:["他 ",_.works.length-12," 作品..."]}),u.jsx(Pe,{variant:"outlined",sx:{mt:1},children:"すべて表示"})]})})]}),o===1&&u.jsxs(ue,{container:!0,spacing:3,children:[u.jsx(ue,{item:!0,xs:12,lg:8,children:u.jsxs(ke,{sx:{p:2},children:[u.jsx(R,{variant:"h6",gutterBottom:!0,children:"年別作品数"}),u.jsx(D,{sx:{height:300},children:u.jsx(Nr,{width:"100%",height:"100%",children:u.jsxs(Do,{data:_.statistics.productivity,children:[u.jsx(On,{strokeDasharray:"3 3"}),u.jsx(sn,{dataKey:"year"}),u.jsx($r,{}),u.jsx(xr,{}),u.jsx(bi,{dataKey:"count",fill:"#1976d2"})]})})})]})}),u.jsx(ue,{item:!0,xs:12,lg:4,children:u.jsxs(ke,{sx:{p:2},children:[u.jsx(R,{variant:"h6",gutterBottom:!0,children:"カテゴリ分布"}),u.jsx(D,{sx:{height:300},children:u.jsx(Nr,{width:"100%",height:"100%",children:u.jsxs(qu,{children:[u.jsx(rs,{data:_.statistics.categories,cx:"50%",cy:"50%",outerRadius:80,dataKey:"count",label:({name:C,percentage:E})=>`${C}: ${E.toFixed(1)}%`,children:_.statistics.categories.map((C,E)=>u.jsx(ha,{fill:Xw[E%Xw.length]},`cell-${E}`))}),u.jsx(xr,{})]})})})]})}),u.jsx(ue,{item:!0,xs:12,children:u.jsxs(ke,{sx:{p:2},children:[u.jsx(R,{variant:"h6",gutterBottom:!0,children:"パフォーマンス指標"}),u.jsxs(ue,{container:!0,spacing:3,children:[u.jsx(ue,{item:!0,xs:12,md:4,children:u.jsxs(D,{children:[u.jsxs(R,{variant:"body2",gutterBottom:!0,children:["影響力 (",_.statistics.influence,"/100)"]}),u.jsx(yi,{variant:"determinate",value:_.statistics.influence,sx:{height:8,borderRadius:4}})]})}),u.jsx(ue,{item:!0,xs:12,md:4,children:u.jsxs(D,{children:[u.jsxs(R,{variant:"body2",gutterBottom:!0,children:["革新性 (",_.statistics.innovation,"/100)"]}),u.jsx(yi,{variant:"determinate",value:_.statistics.innovation,color:"secondary",sx:{height:8,borderRadius:4}})]})}),u.jsx(ue,{item:!0,xs:12,md:4,children:u.jsxs(D,{children:[u.jsxs(R,{variant:"body2",gutterBottom:!0,children:["認知度 (",_.statistics.recognition,"/100)"]}),u.jsx(yi,{variant:"determinate",value:_.statistics.recognition,color:"warning",sx:{height:8,borderRadius:4}})]})})]})]})})]}),o===2&&u.jsxs(ue,{container:!0,spacing:3,children:[u.jsx(ue,{item:!0,xs:12,md:6,children:u.jsxs(ke,{sx:{p:2},children:[u.jsx(R,{variant:"h6",gutterBottom:!0,children:"専門分野レーダーチャート"}),u.jsx(D,{sx:{height:400},children:u.jsx(Nr,{width:"100%",height:"100%",children:u.jsxs(r7,{cx:"50%",cy:"50%",outerRadius:"80%",data:S,children:[u.jsx(eO,{}),u.jsx(Hd,{dataKey:"skill"}),u.jsx(Ud,{angle:30,domain:[0,100]}),u.jsx(Av,{name:"スキルレベル",dataKey:"level",stroke:"#1976d2",fill:"#1976d2",fillOpacity:.6})]})})})]})}),u.jsx(ue,{item:!0,xs:12,md:6,children:u.jsxs(ke,{sx:{p:2},children:[u.jsx(R,{variant:"h6",gutterBottom:!0,children:"スキル詳細"}),u.jsx(Wn,{children:_.skills.map((C,E)=>u.jsx(dn,{children:u.jsx(Ar,{primary:C.name,secondary:u.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1},children:[u.jsx(yi,{variant:"determinate",value:C.level,sx:{flex:1,height:6,borderRadius:3}}),u.jsxs(R,{variant:"body2",children:[C.level,"%"]})]})})},E))})]})})]}),o===3&&u.jsxs(ke,{sx:{p:2},children:[u.jsx(R,{variant:"h6",gutterBottom:!0,children:"人生・経歴年表"}),u.jsx(Wn,{children:_.timeline.map((C,E)=>u.jsxs(Ft.Fragment,{children:[u.jsxs(dn,{children:[u.jsx(UM,{children:u.jsx(np,{sx:{backgroundColor:C.type==="birth"?"#4caf50":C.type==="education"?"#2196f3":C.type==="work"?"#ff9800":C.type==="award"?"#f44336":"#757575"},children:C.type==="birth"?u.jsx(Vn,{}):C.type==="education"?u.jsx(tp,{}):C.type==="work"?u.jsx(WM,{}):C.type==="award"?u.jsx(Wa,{}):u.jsx(ip,{})})}),u.jsx(Ar,{primary:C.event,secondary:`${C.year}年`})]}),E<_.timeline.length-1&&u.jsx(un,{})]},E))})]}),o===4&&u.jsxs(ke,{sx:{p:2},children:[u.jsx(R,{variant:"h6",gutterBottom:!0,children:"協働関係"}),u.jsx(ue,{container:!0,spacing:2,children:_.collaborations.map((C,E)=>u.jsx(ue,{item:!0,xs:12,sm:6,md:4,children:u.jsx(St,{children:u.jsxs(Ct,{children:[u.jsx(R,{variant:"h6",children:C.name}),u.jsxs(R,{variant:"body2",color:"text.secondary",children:[C.works," プロジェクト"]}),u.jsx(yi,{variant:"determinate",value:C.works/_.statistics.totalWorks*100,sx:{mt:1}})]})})},E))})]}),u.jsx(bg,{open:f,onClose:()=>p(!1),maxWidth:"md",fullWidth:!0,children:c&&u.jsxs(u.Fragment,{children:[u.jsx(_g,{children:c.ZAR_TITLE}),u.jsx(wg,{children:u.jsxs(ue,{container:!0,spacing:2,children:[u.jsx(ue,{item:!0,xs:12,md:6,children:c.ZAR_IMAGE_URL&&u.jsx(D,{component:"img",src:c.ZAR_IMAGE_URL,alt:c.ZAR_TITLE,sx:{width:"100%",borderRadius:1,mb:2}})}),u.jsxs(ue,{item:!0,xs:12,md:6,children:[u.jsxs(R,{variant:"body1",gutterBottom:!0,children:[u.jsx("strong",{children:"建設年:"})," ",c.ZAR_YEAR,"年"]}),u.jsxs(R,{variant:"body1",gutterBottom:!0,children:[u.jsx("strong",{children:"所在地:"})," ",c.ZAR_ADDRESS||c.ZAR_PREFECTURE]}),u.jsxs(R,{variant:"body1",gutterBottom:!0,children:[u.jsx("strong",{children:"カテゴリ:"})," ",c.ZAR_CATEGORY]}),c.ZAR_DESCRIPTION&&u.jsx(R,{variant:"body2",paragraph:!0,children:c.ZAR_DESCRIPTION})]})]})}),u.jsxs(jg,{children:[u.jsx(Pe,{onClick:()=>p(!1),children:"閉じる"}),u.jsx(Pe,{variant:"contained",children:"詳細ページへ"})]})]})})]})},Jw=[{id:"modern-architecture",name:"モダン建築",description:"1950年以降の現代建築作品",filters:{yearRange:[1950,2030],categories:["住宅","商業建築","文化施設"]},isBuiltIn:!0},{id:"tokyo-landmarks",name:"東京のランドマーク",description:"東京都内の著名な建築作品",filters:{prefectures:["東京都"],hasArchitect:!0,hasImage:!0},isBuiltIn:!0},{id:"famous-architects",name:"著名建築家",description:"有名建築家による作品集",filters:{architects:["安藤忠雄","隈研吾","妹島和世","西沢立衛"],hasImage:!0},isBuiltIn:!0},{id:"recent-projects",name:"最近のプロジェクト",description:"過去10年間の新しい建築",filters:{yearRange:[2014,2024]},isBuiltIn:!0}],m7=[{id:"searchText",name:"検索キーワード",type:"text",category:"basic",description:"建築名、建築家、説明文から検索",icon:u.jsx(as,{})},{id:"categories",name:"カテゴリ",type:"multiselect",category:"basic",options:[],description:"建築のカテゴリで絞り込み",icon:u.jsx(Ua,{})},{id:"prefectures",name:"都道府県",type:"multiselect",category:"basic",options:[],description:"地域で絞り込み",icon:u.jsx(Pi,{})},{id:"architects",name:"建築家",type:"multiselect",category:"basic",options:[],description:"建築家で絞り込み",icon:u.jsx(Vn,{})},{id:"yearRange",name:"建設年",type:"range",category:"temporal",min:1850,max:2030,defaultValue:[1850,2030],description:"建設年の範囲で絞り込み",icon:u.jsx(ip,{})},{id:"hasImage",name:"画像あり",type:"checkbox",category:"basic",description:"画像が登録されている作品のみ",icon:u.jsx(c1,{})},{id:"hasArchitect",name:"建築家情報あり",type:"checkbox",category:"basic",description:"建築家が登録されている作品のみ",icon:u.jsx(Vn,{})},{id:"popularityThreshold",name:"人気度",type:"slider",category:"analytical",min:0,max:100,defaultValue:0,description:"人気度の最小値",icon:u.jsx(HM,{})},{id:"coordinates",name:"座標情報あり",type:"checkbox",category:"geo",description:"地理座標が登録されている作品のみ",icon:u.jsx(_i,{})}],v7=({architectures:e,architects:t,onFilterChange:r,onAnalyticsUpdate:n,enableRealTimeUpdates:a=!0,enableSavePresets:i=!0,enableGeoFiltering:o=!0,enableAdvancedAnalytics:s=!0})=>{const[c,d]=y.useState({}),[f,p]=y.useState([]),[g,m]=y.useState(["basic"]),[x,b]=y.useState([]),[_,j]=y.useState(""),[A,S]=y.useState(!1),[C,E]=y.useState(null),[k,I]=y.useState([]),[U,V]=y.useState(a),re=y.useMemo(()=>{const $=[...new Set(e.map(se=>se.ZAR_CATEGORY).filter(Boolean))].sort(),N=[...new Set(e.map(se=>se.ZAR_PREFECTURE).filter(Boolean))].sort(),Y=[...new Set([...e.map(se=>se.ZAR_ARCHITECT),...e.map(se=>se.ZAR_ARCHITECT1),...e.map(se=>se.ZAR_ARCHITECT2),...e.map(se=>se.ZAR_ARCHITECT3),...e.map(se=>se.ZAR_ARCHITECT4)].filter(Boolean))].sort();return{categories:$,prefectures:N,architectNames:Y}},[e]),te=y.useMemo(()=>m7.map($=>{switch($.id){case"categories":return{...$,options:re.categories};case"prefectures":return{...$,options:re.prefectures};case"architects":return{...$,options:re.architectNames};default:return $}}),[re]);y.useEffect(()=>{const $=[...re.categories.slice(0,5),...re.architectNames.slice(0,5),...re.prefectures.slice(0,3),"住宅","美術館","モダン","伝統建築","公共建築"];I([...new Set($)])},[re]);const J=y.useMemo(()=>{const $=performance.now();let N=e;if(c.searchText){const se=c.searchText.toLowerCase();N=N.filter(pe=>pe.ZAR_TITLE?.toLowerCase().includes(se)||pe.ZAR_ARCHITECT?.toLowerCase().includes(se)||pe.ZAR_DESCRIPTION?.toLowerCase().includes(se)||pe.ZAR_ADDRESS?.toLowerCase().includes(se))}if(c.categories?.length>0&&(N=N.filter(se=>c.categories.includes(se.ZAR_CATEGORY))),c.prefectures?.length>0&&(N=N.filter(se=>c.prefectures.includes(se.ZAR_PREFECTURE))),c.architects?.length>0&&(N=N.filter(se=>c.architects.some(pe=>se.ZAR_ARCHITECT===pe||se.ZAR_ARCHITECT1===pe||se.ZAR_ARCHITECT2===pe||se.ZAR_ARCHITECT3===pe||se.ZAR_ARCHITECT4===pe))),c.yearRange){const[se,pe]=c.yearRange;N=N.filter(Ce=>Ce.ZAR_YEAR&&Ce.ZAR_YEAR>=se&&Ce.ZAR_YEAR<=pe)}c.hasImage&&(N=N.filter(se=>se.ZAR_IMAGE_URL)),c.hasArchitect&&(N=N.filter(se=>se.ZAR_ARCHITECT)),c.coordinates&&(N=N.filter(se=>se.ZAR_LATITUDE&&se.ZAR_LONGITUDE)),c.popularityThreshold>0&&(N=N.filter(se=>{const pe=se.ZAR_IMAGE_URL?30:0,Ce=se.ZAR_ARCHITECT?25:0,ot=se.ZAR_LATITUDE&&se.ZAR_LONGITUDE?20:0,Ye=se.ZAR_DESCRIPTION?15:0;return pe+Ce+ot+Ye>=c.popularityThreshold}));const Y=performance.now();if(s){const se={totalResults:e.length,filteredResults:N.length,filterEfficiency:N.length/e.length*100,popularFilters:Object.keys(c).filter(pe=>c[pe]),categoryDistribution:{},yearDistribution:{},locationDistribution:{},architectDistribution:{},performanceMetrics:{filterTime:Y-$,cacheHitRate:Math.random()*100,queryComplexity:Object.keys(c).length}};N.forEach(pe=>{pe.ZAR_CATEGORY&&(se.categoryDistribution[pe.ZAR_CATEGORY]=(se.categoryDistribution[pe.ZAR_CATEGORY]||0)+1),pe.ZAR_YEAR&&(se.yearDistribution[pe.ZAR_YEAR]=(se.yearDistribution[pe.ZAR_YEAR]||0)+1),pe.ZAR_PREFECTURE&&(se.locationDistribution[pe.ZAR_PREFECTURE]=(se.locationDistribution[pe.ZAR_PREFECTURE]||0)+1),pe.ZAR_ARCHITECT&&(se.architectDistribution[pe.ZAR_ARCHITECT]=(se.architectDistribution[pe.ZAR_ARCHITECT]||0)+1)}),E(se),n&&n(se)}return N},[e,c,s,n]);y.useEffect(()=>{const $=[];Object.entries(c).forEach(([N,Y])=>{if(Y&&Y!==""&&!(Array.isArray(Y)&&Y.length===0)){const se=te.find(ot=>ot.id===N);let pe="",Ce=0;switch(se?.type){case"text":pe=`"${Y}"`,Ce=J.filter(ot=>ot.ZAR_TITLE?.toLowerCase().includes(Y.toLowerCase())||ot.ZAR_ARCHITECT?.toLowerCase().includes(Y.toLowerCase())).length;break;case"multiselect":pe=Array.isArray(Y)?Y.join(", "):Y,Ce=J.length;break;case"range":pe=`${Y[0]} - ${Y[1]}`,Ce=J.filter(ot=>ot.ZAR_YEAR&&ot.ZAR_YEAR>=Y[0]&&ot.ZAR_YEAR<=Y[1]).length;break;case"checkbox":pe=Y?"あり":"なし",Ce=J.length;break;case"slider":pe=`${Y}以上`,Ce=J.length;break;default:pe=String(Y),Ce=J.length}$.push({id:N,value:Y,label:`${se?.name}: ${pe}`,count:Ce})}}),p($)},[c,J,te]),y.useEffect(()=>{U&&r(J,f)},[J,f,r,U]);const ne=y.useCallback(($,N)=>{S(!0),d(Y=>({...Y,[$]:N})),setTimeout(()=>S(!1),100)},[]),fe=y.useCallback($=>{d(N=>{const Y={...N};return delete Y[$],Y})},[]),Q=y.useCallback(()=>{d({})},[]),G=y.useCallback(()=>{r(J,f)},[J,f,r]);y.useCallback(($,N)=>{const Y={id:`custom_${Date.now()}`,name:$,description:N,filters:{...c},isBuiltIn:!1};b(se=>[...se,Y])},[c]);const B=y.useCallback($=>{const N=[...Jw,...x].find(Y=>Y.id===$);N&&(d(N.filters),j($))},[x]),X=y.useCallback($=>{m(N=>N.includes($)?N.filter(Y=>Y!==$):[...N,$])},[]),ae=y.useMemo(()=>{const $={};return te.forEach(N=>{$[N.category]||($[N.category]=[]),$[N.category].push(N)}),$},[te]),me=$=>{const N=c[$.id]||$.defaultValue;switch($.type){case"text":return u.jsx(ru,{options:k,freeSolo:!0,value:N||"",onChange:(Y,se)=>ne($.id,se),renderInput:Y=>u.jsx(Oi,{...Y,label:$.name,size:"small",fullWidth:!0,InputProps:{...Y.InputProps,startAdornment:$.icon}})});case"select":return u.jsxs(Gn,{fullWidth:!0,size:"small",children:[u.jsx(Yn,{children:$.name}),u.jsxs(qn,{value:N||"",onChange:Y=>ne($.id,Y.target.value),label:$.name,children:[u.jsx(Qe,{value:"",children:"全て"}),$.options?.map(Y=>u.jsx(Qe,{value:Y,children:Y},Y))]})]});case"multiselect":return u.jsx(ru,{multiple:!0,options:$.options||[],value:N||[],onChange:(Y,se)=>ne($.id,se),renderInput:Y=>u.jsx(Oi,{...Y,label:$.name,size:"small",placeholder:"選択してください"}),renderTags:(Y,se)=>Y.map((pe,Ce)=>u.jsx($e,{variant:"outlined",label:pe,size:"small",...se({index:Ce})}))});case"range":return u.jsxs(D,{children:[u.jsxs(R,{variant:"body2",gutterBottom:!0,children:[$.name,": ",N?.[0]||$.min," - ",N?.[1]||$.max]}),u.jsx(rp,{value:N||[$.min,$.max],onChange:(Y,se)=>ne($.id,se),valueLabelDisplay:"auto",min:$.min,max:$.max})]});case"slider":return u.jsxs(D,{children:[u.jsxs(R,{variant:"body2",gutterBottom:!0,children:[$.name,": ",N||$.defaultValue]}),u.jsx(rp,{value:N||$.defaultValue,onChange:(Y,se)=>ne($.id,se),valueLabelDisplay:"auto",min:$.min,max:$.max})]});case"checkbox":return u.jsx(Un,{control:u.jsx(u1,{checked:!!N,onChange:Y=>ne($.id,Y.target.checked)}),label:$.name});default:return null}};return u.jsxs(D,{sx:{p:2},children:[u.jsxs(D,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsxs(R,{variant:"h5",sx:{display:"flex",alignItems:"center",gap:1},children:[u.jsx(Ag,{}),"高度フィルタリング"]}),u.jsxs(D,{sx:{display:"flex",gap:1,alignItems:"center"},children:[u.jsx(Un,{control:u.jsx(oa,{checked:U,onChange:$=>V($.target.checked)}),label:"リアルタイム"}),!U&&u.jsx(Pe,{variant:"contained",onClick:G,disabled:A,startIcon:A?u.jsx(In,{size:16}):u.jsx(as,{}),children:"フィルタ適用"}),u.jsx(Pe,{variant:"outlined",onClick:Q,startIcon:u.jsx(yg,{}),children:"クリア"})]})]}),u.jsxs(ke,{sx:{p:2,mb:2},children:[u.jsx(R,{variant:"h6",gutterBottom:!0,children:"フィルタプリセット"}),u.jsxs(ue,{container:!0,spacing:1,children:[Jw.map($=>u.jsx(ue,{item:!0,children:u.jsx($e,{label:$.name,onClick:()=>B($.id),color:_===$.id?"primary":"default",variant:_===$.id?"filled":"outlined"})},$.id)),x.map($=>u.jsx(ue,{item:!0,children:u.jsx($e,{label:$.name,onClick:()=>B($.id),color:_===$.id?"secondary":"default",variant:_===$.id?"filled":"outlined",onDelete:()=>{b(N=>N.filter(Y=>Y.id!==$.id))}})},$.id))]})]}),f.length>0&&u.jsx(kn,{severity:"info",sx:{mb:2},children:u.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[u.jsxs(R,{variant:"body2",children:["アクティブフィルタ (",f.length,"):"]}),f.map($=>u.jsx($e,{label:`${$.label} (${$.count}件)`,onDelete:()=>fe($.id),size:"small",color:"primary",variant:"outlined"},$.id))]})}),u.jsx(ue,{container:!0,spacing:3,children:Object.entries(ae).map(([$,N])=>u.jsx(ue,{item:!0,xs:12,children:u.jsxs(pi,{expanded:g.includes($),onChange:()=>X($),children:[u.jsx(gi,{expandIcon:u.jsx(mi,{}),children:u.jsx(l1,{badgeContent:N.filter(Y=>c[Y.id]).length,color:"primary",children:u.jsx(R,{variant:"h6",children:$==="basic"?"基本フィルタ":$==="advanced"?"高度フィルタ":$==="geo"?"地理フィルタ":$==="temporal"?"時間フィルタ":$==="analytical"?"分析フィルタ":$})})}),u.jsx(vi,{children:u.jsx(ue,{container:!0,spacing:2,children:N.map(Y=>u.jsx(ue,{item:!0,xs:12,sm:6,md:4,children:u.jsx(St,{variant:"outlined",children:u.jsxs(Ct,{children:[u.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[Y.icon,u.jsx(R,{variant:"subtitle2",children:Y.name})]}),me(Y),Y.description&&u.jsx(R,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:Y.description})]})})},Y.id))})})]})},$))}),s&&C&&u.jsxs(ke,{sx:{p:2,mt:3},children:[u.jsx(R,{variant:"h6",gutterBottom:!0,children:"フィルタ分析結果"}),u.jsxs(ue,{container:!0,spacing:2,children:[u.jsxs(ue,{item:!0,xs:12,sm:6,md:3,children:[u.jsx(R,{variant:"body2",color:"text.secondary",children:"総件数"}),u.jsx(R,{variant:"h6",children:C.totalResults.toLocaleString()})]}),u.jsxs(ue,{item:!0,xs:12,sm:6,md:3,children:[u.jsx(R,{variant:"body2",color:"text.secondary",children:"フィルタ後"}),u.jsx(R,{variant:"h6",color:"primary",children:C.filteredResults.toLocaleString()})]}),u.jsxs(ue,{item:!0,xs:12,sm:6,md:3,children:[u.jsx(R,{variant:"body2",color:"text.secondary",children:"フィルタ効率"}),u.jsxs(R,{variant:"h6",children:[C.filterEfficiency.toFixed(1),"%"]})]}),u.jsxs(ue,{item:!0,xs:12,sm:6,md:3,children:[u.jsx(R,{variant:"body2",color:"text.secondary",children:"処理時間"}),u.jsxs(R,{variant:"h6",children:[C.performanceMetrics.filterTime.toFixed(1),"ms"]})]})]}),A&&u.jsxs(D,{sx:{mt:2},children:[u.jsx(yi,{}),u.jsx(R,{variant:"caption",sx:{mt:1,display:"block"},children:"フィルタリング中..."})]})]})]})},qc=[{id:"csv",name:"CSV",description:"カンマ区切りファイル（Excel対応）",extension:"csv",mimeType:"text/csv",icon:u.jsx(g0,{}),maxRecords:5e4,features:["軽量","高互換性","Excel対応"],size:"small"},{id:"json",name:"JSON",description:"JavaScript Object Notation（プログラム利用）",extension:"json",mimeType:"application/json",icon:u.jsx(d1,{}),maxRecords:1e5,features:["プログラム利用","階層構造","API連携"],size:"medium"},{id:"pdf-report",name:"PDF レポート",description:"詳細分析レポート（プレゼン用）",extension:"pdf",mimeType:"application/pdf",icon:u.jsx(qM,{}),maxRecords:1e3,features:["視覚的","プレゼン","印刷対応"],size:"large"},{id:"excel",name:"Excel",description:"Microsoft Excel形式（フィルタ・グラフ付き）",extension:"xlsx",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",icon:u.jsx(g0,{}),maxRecords:3e4,features:["フィルタ","グラフ","ピボット"],size:"medium"},{id:"geojson",name:"GeoJSON",description:"地理情報付きJSON（マップ利用）",extension:"geojson",mimeType:"application/geo+json",icon:u.jsx(VM,{}),maxRecords:1e4,features:["地理情報","マップ連携","GIS対応"],size:"medium"}],Xh=[{id:"ZAR_TITLE",name:"建築名",required:!0},{id:"ZAR_ARCHITECT",name:"建築家",required:!1},{id:"ZAR_YEAR",name:"建設年",required:!1},{id:"ZAR_PREFECTURE",name:"都道府県",required:!1},{id:"ZAR_ADDRESS",name:"住所",required:!1},{id:"ZAR_CATEGORY",name:"カテゴリ",required:!1},{id:"ZAR_DESCRIPTION",name:"説明",required:!1},{id:"ZAR_LATITUDE",name:"緯度",required:!1},{id:"ZAR_LONGITUDE",name:"経度",required:!1},{id:"ZAR_IMAGE_URL",name:"画像URL",required:!1},{id:"ZAR_URL",name:"詳細URL",required:!1}],y7=({architectures:e,architects:t,onExportComplete:r,enableScheduledExports:n=!1,enableCustomTemplates:a=!1,maxExportSize:i=50})=>{const[o,s]=y.useState({format:"csv",fields:["ZAR_TITLE","ZAR_ARCHITECT","ZAR_YEAR","ZAR_PREFECTURE"],includeImages:!1,includeCoordinates:!0,includeAnalytics:!1,compression:!1,language:"ja"}),[c,d]=y.useState(!1),[f,p]=y.useState(0),[g,m]=y.useState(!1),[x,b]=y.useState([]),[_,j]=y.useState(!1),[A,S]=y.useState([]),C=y.useMemo(()=>{const B=qc.find($=>$.id===o.format),X=e.filter($=>!0),ae=E(X,o),me=X.length<=(B?.maxRecords||1/0)&&ae<=i;return{recordCount:X.length,estimatedSize:ae,maxRecords:B?.maxRecords||1/0,canExport:me,warnings:[]}},[e,o,i]);function E(B,X){const ae=X.fields.length*50,me=X.includeImages?100:0;return B.length*(ae+me)*({csv:1,json:1.5,"pdf-report":5,excel:2,geojson:1.8}[X.format]||1)/(1024*1024)}const k=y.useCallback(()=>{const B=e.slice(0,5).map(X=>{const ae={};return o.fields.forEach(me=>{ae[me]=X[me]||""}),ae});S(B)},[e,o.fields]),I=y.useCallback((B,X)=>{s(ae=>({...ae,[B]:X}))},[]),U=y.useCallback(B=>{s(X=>({...X,fields:X.fields.includes(B)?X.fields.filter(ae=>ae!==B):[...X.fields,B]}))},[]),V=y.useCallback(async()=>{if(C.canExport){d(!0),p(0);try{const B=setInterval(()=>{p(se=>Math.min(se+10,90))},200);await new Promise(se=>setTimeout(se,2e3)),clearInterval(B),p(100);const X=await re(),ae=Q(X,o.format),me=URL.createObjectURL(ae),$=G(),N=document.createElement("a");N.href=me,N.download=$,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(me);const Y={id:Date.now().toString(),timestamp:new Date,format:o.format,filename:$,recordCount:C.recordCount,fileSize:ae.size,status:"success",downloadUrl:me};b(se=>[Y,...se]),r&&r(Y)}catch(B){console.error("Export failed:",B);const X={id:Date.now().toString(),timestamp:new Date,format:o.format,filename:"エラー",recordCount:0,fileSize:0,status:"error",errorMessage:B instanceof h0?B.message:"Unknown error"};b(ae=>[X,...ae])}finally{d(!1),p(0)}}},[C,o,r]),re=async()=>{const X=e.filter(ae=>!0).map(ae=>{const me={};return o.fields.forEach($=>{me[$]=ae[$]||""}),o.includeCoordinates&&ae.ZAR_LATITUDE&&ae.ZAR_LONGITUDE&&(me.coordinates=[ae.ZAR_LONGITUDE,ae.ZAR_LATITUDE]),me});switch(o.format){case"csv":return te(X);case"json":return JSON.stringify(X,null,2);case"geojson":return J(X);case"pdf-report":return ne(X);case"excel":return fe(X);default:return JSON.stringify(X,null,2)}},te=B=>{if(B.length===0)return"";const X=o.fields.map(me=>Xh.find($=>$.id===me)?.name||me).join(","),ae=B.map(me=>o.fields.map($=>{const N=me[$]||"";return`"${String(N).replace(/"/g,'""')}"`}).join(","));return[X,...ae].join(`
`)},J=B=>{const X=B.filter(ae=>ae.coordinates).map(ae=>({type:"Feature",geometry:{type:"Point",coordinates:ae.coordinates},properties:{...ae,coordinates:void 0}}));return JSON.stringify({type:"FeatureCollection",features:X},null,2)},ne=B=>JSON.stringify({title:"建築データベース レポート",generatedAt:new Date().toISOString(),recordCount:B.length,data:B.slice(0,100)},null,2),fe=B=>JSON.stringify({sheets:{"Architecture Data":B,Summary:{totalRecords:B.length,exportDate:new Date().toISOString()}}},null,2),Q=(B,X)=>{const ae=qc.find(me=>me.id===X);return new Blob([B],{type:ae?.mimeType||"text/plain"})},G=()=>{const B=qc.find(me=>me.id===o.format),X=new Date().toISOString().slice(0,19).replace(/[-:]/g,"");return`${o.customFilename||"architecture_data"}_${X}.${B?.extension||"txt"}`};return u.jsxs(D,{sx:{p:3},children:[u.jsxs(R,{variant:"h4",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[u.jsx(nl,{}),"データエクスポート"]}),u.jsxs(ue,{container:!0,spacing:3,children:[u.jsx(ue,{item:!0,xs:12,lg:8,children:u.jsxs(ke,{sx:{p:3},children:[u.jsx(R,{variant:"h6",gutterBottom:!0,children:"エクスポート設定"}),u.jsxs(D,{sx:{mb:3},children:[u.jsx(R,{variant:"subtitle1",gutterBottom:!0,children:"フォーマット選択"}),u.jsx(ue,{container:!0,spacing:2,children:qc.map(B=>u.jsx(ue,{item:!0,xs:12,sm:6,md:4,children:u.jsx(St,{sx:{cursor:"pointer",border:o.format===B.id?2:1,borderColor:o.format===B.id?"primary.main":"divider","&:hover":{borderColor:"primary.main"}},onClick:()=>I("format",B.id),children:u.jsxs(Ct,{children:[u.jsxs(D,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[B.icon,u.jsx(R,{variant:"h6",children:B.name}),u.jsx($e,{label:B.size,size:"small",color:B.size==="small"?"success":B.size==="medium"?"warning":"error"})]}),u.jsx(R,{variant:"body2",color:"text.secondary",paragraph:!0,children:B.description}),u.jsx(D,{sx:{display:"flex",gap:.5,flexWrap:"wrap"},children:B.features.map(X=>u.jsx($e,{label:X,size:"small",variant:"outlined"},X))}),B.maxRecords&&u.jsxs(R,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:["最大 ",B.maxRecords.toLocaleString()," 件"]})]})})},B.id))})]}),u.jsxs(D,{sx:{mb:3},children:[u.jsx(R,{variant:"subtitle1",gutterBottom:!0,children:"出力フィールド選択"}),u.jsx(KM,{row:!0,children:Xh.map(B=>u.jsx(Un,{control:u.jsx(u1,{checked:o.fields.includes(B.id),onChange:()=>U(B.id),disabled:B.required}),label:B.name},B.id))})]}),u.jsxs(pi,{expanded:_,onChange:()=>j(!_),children:[u.jsx(gi,{expandIcon:u.jsx(mi,{}),children:u.jsx(R,{variant:"subtitle1",children:"詳細オプション"})}),u.jsx(vi,{children:u.jsxs(ue,{container:!0,spacing:2,children:[u.jsx(ue,{item:!0,xs:12,sm:6,children:u.jsx(Un,{control:u.jsx(oa,{checked:o.includeImages,onChange:B=>I("includeImages",B.target.checked)}),label:"画像URL含む"})}),u.jsx(ue,{item:!0,xs:12,sm:6,children:u.jsx(Un,{control:u.jsx(oa,{checked:o.includeCoordinates,onChange:B=>I("includeCoordinates",B.target.checked)}),label:"座標情報含む"})}),u.jsx(ue,{item:!0,xs:12,sm:6,children:u.jsx(Un,{control:u.jsx(oa,{checked:o.compression,onChange:B=>I("compression",B.target.checked)}),label:"圧縮"})}),u.jsx(ue,{item:!0,xs:12,sm:6,children:u.jsxs(Gn,{fullWidth:!0,size:"small",children:[u.jsx(Yn,{children:"言語"}),u.jsxs(qn,{value:o.language,onChange:B=>I("language",B.target.value),label:"言語",children:[u.jsx(Qe,{value:"ja",children:"日本語"}),u.jsx(Qe,{value:"en",children:"English"})]})]})}),u.jsx(ue,{item:!0,xs:12,children:u.jsx(Oi,{fullWidth:!0,size:"small",label:"カスタムファイル名",value:o.customFilename||"",onChange:B=>I("customFilename",B.target.value),placeholder:"architecture_data"})})]})})]})]})}),u.jsx(ue,{item:!0,xs:12,lg:4,children:u.jsxs(D,{sx:{display:"flex",flexDirection:"column",gap:2},children:[u.jsxs(ke,{sx:{p:2},children:[u.jsx(R,{variant:"h6",gutterBottom:!0,children:"エクスポート概要"}),u.jsxs(Wn,{dense:!0,children:[u.jsxs(dn,{children:[u.jsx(ko,{children:u.jsx(ZM,{})}),u.jsx(Ar,{primary:"レコード数",secondary:`${C.recordCount.toLocaleString()} 件`})]}),u.jsxs(dn,{children:[u.jsx(ko,{children:u.jsx(d1,{})}),u.jsx(Ar,{primary:"推定ファイルサイズ",secondary:`${C.estimatedSize.toFixed(2)} MB`})]}),u.jsxs(dn,{children:[u.jsx(ko,{children:u.jsx(Ag,{})}),u.jsx(Ar,{primary:"出力フィールド",secondary:`${o.fields.length} 項目`})]})]})]}),!C.canExport&&u.jsx(kn,{severity:"warning",children:u.jsx(R,{variant:"body2",children:C.recordCount>C.maxRecords?`レコード数が上限（${C.maxRecords.toLocaleString()}件）を超えています`:`ファイルサイズが上限（${i}MB）を超えています`})}),u.jsxs(D,{sx:{display:"flex",flexDirection:"column",gap:1},children:[u.jsx(Pe,{variant:"contained",size:"large",onClick:V,disabled:!C.canExport||c,startIcon:c?u.jsx(p0,{}):u.jsx(nl,{}),fullWidth:!0,children:c?"エクスポート中...":"エクスポート開始"}),u.jsx(Pe,{variant:"outlined",onClick:()=>{k(),m(!0)},startIcon:u.jsx(c1,{}),fullWidth:!0,children:"プレビュー"}),c&&u.jsxs(D,{sx:{mt:1},children:[u.jsx(yi,{variant:"determinate",value:f}),u.jsxs(R,{variant:"caption",sx:{mt:.5,display:"block",textAlign:"center"},children:[f,"%"]})]})]})]})}),u.jsx(ue,{item:!0,xs:12,children:u.jsxs(ke,{sx:{p:2},children:[u.jsx(R,{variant:"h6",gutterBottom:!0,children:"エクスポート履歴"}),x.length===0?u.jsx(R,{variant:"body2",color:"text.secondary",children:"エクスポート履歴がありません"}):u.jsx(Wn,{children:x.map((B,X)=>u.jsxs(Ft.Fragment,{children:[u.jsxs(dn,{children:[u.jsx(ko,{children:B.status==="success"?u.jsx(GM,{color:"success"}):B.status==="error"?u.jsx(h0,{color:"error"}):u.jsx(p0,{color:"primary"})}),u.jsx(Ar,{primary:B.filename,secondary:u.jsxs(D,{children:[u.jsxs(R,{variant:"caption",children:[B.timestamp.toLocaleString()," |",B.recordCount.toLocaleString(),"件 |",(B.fileSize/(1024*1024)).toFixed(2),"MB"]}),B.errorMessage&&u.jsxs(R,{variant:"caption",color:"error",sx:{display:"block"},children:["エラー: ",B.errorMessage]})]})}),B.status==="success"&&u.jsx(wt,{children:u.jsx(YM,{})})]}),X<x.length-1&&u.jsx(un,{})]},B.id))})]})})]}),u.jsxs(bg,{open:g,onClose:()=>m(!1),maxWidth:"lg",fullWidth:!0,children:[u.jsx(_g,{children:"データプレビュー (最初の5件)"}),u.jsx(wg,{children:u.jsx(D,{sx:{overflowX:"auto"},children:u.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[u.jsx("thead",{children:u.jsx("tr",{style:{backgroundColor:"#f5f5f5"},children:o.fields.map(B=>u.jsx("th",{style:{padding:8,border:"1px solid #ddd",textAlign:"left"},children:Xh.find(X=>X.id===B)?.name||B},B))})}),u.jsx("tbody",{children:A.map((B,X)=>u.jsx("tr",{children:o.fields.map(ae=>u.jsxs("td",{style:{padding:8,border:"1px solid #ddd"},children:[String(B[ae]||"").slice(0,50),String(B[ae]||"").length>50&&"..."]},ae))},X))})]})})}),u.jsx(jg,{children:u.jsx(Pe,{onClick:()=>m(!1),children:"閉じる"})})]})]})},Qw=[{id:"dashboard",label:"研究 (高速分析)",icon:u.jsx(n1,{}),description:"プリコンピュート済み高速建築データ分析",component:d7,requiresData:!1},{id:"map",label:"インタラクティブマップ",icon:u.jsx(_i,{}),description:"地理的分布と詳細情報",component:f7,requiresData:!0},{id:"timeline",label:"タイムライン",icon:u.jsx(a1,{}),description:"歴史的変遷の可視化",component:h7,requiresData:!0},{id:"portfolio",label:"建築家ポートフォリオ",icon:u.jsx(Vn,{}),description:"建築家の作品と統計",component:g7,requiresData:!0},{id:"filters",label:"高度フィルタ",icon:u.jsx(Ag,{}),description:"カスタム検索とフィルタリング",component:v7,requiresData:!0},{id:"export",label:"データエクスポート",icon:u.jsx(nl,{}),description:"データの書き出しと共有",component:y7,requiresData:!0}],x7=()=>{const e=is(),t=Uo(e.breakpoints.down("md")),{isReady:r,isLoading:n,error:a}=u7(),[i,o]=y.useState(0),[s,c]=y.useState([]),[d,f]=y.useState([]),[p,g]=y.useState([]),[m,x]=y.useState(null),[b,_]=y.useState(!1),[j,A]=y.useState(null),[S,C]=y.useState(new Date);y.useEffect(()=>{(async()=>{if(r)try{c([]),g([]),f([]),console.log("Analytics page ready - OptimizedAnalyticsDashboard will load precomputed data")}catch(G){console.error("Failed to initialize analytics:",G),A({message:"データの初期化に失敗しました",severity:"error"})}})()},[r]);const E=(Q,G)=>{o(G)},k=(Q,G)=>{g(Q),A({message:`フィルタが適用されました (${Q.length}件)`,severity:"info"})},I=Q=>{const G=d.find(B=>B.ZAR_NAME===Q.ZAR_ARCHITECT);G&&(x(G),o(3))},U=Q=>{A({message:`${Q.ZAR_NAME}の比較機能は開発中です`,severity:"info"})},V=()=>{C(new Date),A({message:"データを更新しました",severity:"success"})},re=()=>{b?document.exitFullscreen?.():document.documentElement.requestFullscreen?.(),_(!b)},te=Qw[i],J=y.useMemo(()=>({totalArchitectures:s.length,filteredCount:p.length,totalArchitects:d.length,yearRange:s.length>0?[Math.min(...s.filter(Q=>Q.ZAR_YEAR).map(Q=>Q.ZAR_YEAR)),Math.max(...s.filter(Q=>Q.ZAR_YEAR).map(Q=>Q.ZAR_YEAR))]:[2e3,2024],categories:[...new Set(s.map(Q=>Q.ZAR_CATEGORY).filter(Boolean))].length,prefectures:[...new Set(s.map(Q=>Q.ZAR_PREFECTURE).filter(Boolean))].length}),[s,p,d]),ne=()=>{const Q={architectures:p,architects:d,onRefresh:V};switch(te.id){case"dashboard":return{onExportData:G=>{A({message:`${G}形式でのエクスポートを開始します`,severity:"info"})},enableRealTimeUpdates:!1};case"map":return{markers:p.filter(G=>G.ZAR_LATITUDE&&G.ZAR_LONGITUDE).map(G=>({id:G.Z_PK,name:G.ZAR_TITLE,architect:G.ZAR_ARCHITECT,location:G.ZAR_ADDRESS||G.ZAR_PREFECTURE||"",latitude:G.ZAR_LATITUDE,longitude:G.ZAR_LONGITUDE,year:G.ZAR_YEAR,category:G.ZAR_CATEGORY,prefecture:G.ZAR_PREFECTURE,imageUrl:G.ZAR_IMAGE_URL,description:G.ZAR_DESCRIPTION})),center:[35.6762,139.6503],zoom:10,height:"70vh",onMarkerClick:I,enableClustering:!0,enableAnalytics:!0};case"timeline":return{...Q,onEventSelect:I,enableEras:!0,enableFiltering:!0,enableComparison:!0};case"portfolio":return{architect:m||d[0],architectures:p,onWorkSelect:I,onCompareArchitect:U,enableComparison:!0,showDetailedStats:!0};case"filters":return{...Q,onFilterChange:k,enableRealTimeUpdates:!0,enableSavePresets:!0,enableGeoFiltering:!0,enableAdvancedAnalytics:!0};case"export":return{...Q,onExportComplete:G=>{A({message:`エクスポートが完了しました: ${G.filename}`,severity:"success"})},enableScheduledExports:!1,enableCustomTemplates:!0};default:return Q}};if(n)return u.jsx(hr,{maxWidth:"lg",sx:{mt:4,mb:4},children:u.jsx(D,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh",children:u.jsx(R,{variant:"h6",children:"データを読み込み中..."})})});if(a)return u.jsx(hr,{maxWidth:"lg",sx:{mt:4,mb:4},children:u.jsxs(kn,{severity:"error",sx:{mb:2},children:["データの読み込みに失敗しました: ",a]})});const fe=te.component;return u.jsxs(u.Fragment,{children:[u.jsxs(TD,{children:[u.jsx("title",{children:"データ分析 - 日本建築データベース"}),u.jsx("meta",{name:"description",content:"包括的な建築データの分析とビジュアライゼーション"})]}),u.jsxs(hr,{maxWidth:"xl",sx:{mt:2,mb:4},children:[u.jsxs(D,{sx:{mb:3},children:[u.jsx(R,{variant:"h4",component:"h1",gutterBottom:!0,children:"データ分析・ビジュアライゼーション"}),u.jsx(R,{variant:"body1",color:"text.secondary",paragraph:!0,children:"建築データの包括的な分析、可視化、エクスポート機能"}),u.jsx(ke,{sx:{p:2,mb:2},children:u.jsxs(D,{sx:{display:"flex",gap:3,flexWrap:"wrap",alignItems:"center"},children:[u.jsxs(R,{variant:"body2",children:["建築作品: ",u.jsx("strong",{children:J.totalArchitectures.toLocaleString()}),"件",J.filteredCount!==J.totalArchitectures&&u.jsxs(u.Fragment,{children:[" (フィルタ後: ",u.jsx("strong",{children:J.filteredCount.toLocaleString()}),"件)"]})]}),u.jsxs(R,{variant:"body2",children:["建築家: ",u.jsx("strong",{children:J.totalArchitects}),"人"]}),u.jsxs(R,{variant:"body2",children:["期間: ",u.jsxs("strong",{children:[J.yearRange[0]," - ",J.yearRange[1]]}),"年"]}),u.jsxs(R,{variant:"body2",children:["カテゴリ: ",u.jsx("strong",{children:J.categories}),"種類"]}),u.jsxs(R,{variant:"body2",children:["都道府県: ",u.jsx("strong",{children:J.prefectures})]}),u.jsxs(R,{variant:"caption",color:"text.secondary",children:["最終更新: ",S.toLocaleTimeString()]})]})})]}),u.jsx(ke,{sx:{mb:3},children:u.jsx(s1,{value:i,onChange:E,variant:t?"scrollable":"fullWidth",scrollButtons:"auto",sx:{borderBottom:1,borderColor:"divider"},children:Qw.map((Q,G)=>u.jsx(Lo,{icon:u.jsx(l1,{badgeContent:Q.id==="filters"&&p.length!==s.length?p.length:void 0,color:"primary",children:Q.icon}),label:Q.label,sx:{minHeight:72}},Q.id))})}),u.jsxs(ke,{sx:{p:0,overflow:"hidden"},children:[u.jsxs(D,{sx:{p:2,borderBottom:1,borderColor:"divider",backgroundColor:"grey.50"},children:[u.jsx(R,{variant:"h6",gutterBottom:!0,children:te.label}),u.jsx(R,{variant:"body2",color:"text.secondary",children:te.description})]}),u.jsx(D,{sx:{p:te.id==="map"?0:2},children:te.requiresData&&s.length===0?u.jsx(kn,{severity:"info",children:"分析データがありません。データベースの接続を確認してください。"}):u.jsx(fe,{...ne()})})]}),u.jsxs(D,{sx:{position:"fixed",bottom:16,right:16,display:"flex",flexDirection:"column",gap:1},children:[u.jsx(Xs,{in:!t,children:u.jsx(_t,{title:"フルスクリーン",children:u.jsx(ia,{color:"primary",size:"small",onClick:re,children:u.jsx(tu,{})})})}),u.jsx(Xs,{in:!0,style:{transitionDelay:"100ms"},children:u.jsx(_t,{title:"データ更新",children:u.jsx(ia,{color:"secondary",size:"small",onClick:V,children:u.jsx(Ho,{})})})}),u.jsx(Xs,{in:!0,style:{transitionDelay:"200ms"},children:u.jsx(_t,{title:"共有",children:u.jsx(ia,{color:"default",size:"small",onClick:()=>{navigator.share?navigator.share({title:"日本建築データベース - データ分析",text:"インタラクティブな建築データ分析をご覧ください",url:window.location.href}):(navigator.clipboard.writeText(window.location.href),A({message:"URLをコピーしました",severity:"success"}))},children:u.jsx(o1,{})})})})]}),u.jsx(ap,{open:!!j,autoHideDuration:6e3,onClose:()=>A(null),anchorOrigin:{vertical:"bottom",horizontal:"left"},children:j&&u.jsx(kn,{onClose:()=>A(null),severity:j.severity,variant:"filled",children:j.message})})]})]})};class xP extends y.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t,errorInfo:null}}componentDidCatch(t,r){console.error("Uncaught error:",t,r),this.setState({error:t,errorInfo:r})}handleRetry=()=>{window.location.reload()};render(){return this.state.hasError?this.props.fallback?this.props.fallback:u.jsx(D,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:4,height:"100vh"},children:u.jsxs(ke,{elevation:3,sx:{padding:4,maxWidth:600,width:"100%",borderRadius:2,textAlign:"center"},children:[u.jsx(R,{variant:"h5",color:"error",gutterBottom:!0,children:"問題が発生しました"}),u.jsx(R,{variant:"body1",paragraph:!0,children:"アプリケーションで予期しないエラーが発生しました。 お手数ですが、再読み込みをお試しください。"}),!1,u.jsxs(D,{sx:{mt:3},children:[u.jsx(Pe,{variant:"contained",color:"primary",onClick:this.handleRetry,sx:{mr:2},children:"ページを再読み込み"}),u.jsx(Pe,{variant:"outlined",onClick:()=>window.location.href="/",children:"ホームに戻る"})]})]})}):this.props.children}}const b7=XM("a")(({theme:e})=>({position:"absolute",top:"-40px",left:"6px",background:e.palette.primary.main,color:e.palette.primary.contrastText,padding:"8px 16px",zIndex:9999,textDecoration:"none",borderRadius:"0 0 4px 4px",fontSize:"0.875rem",fontWeight:600,border:`2px solid ${e.palette.primary.dark}`,transition:"top 0.3s ease","&:focus":{top:0,outline:`2px solid ${e.palette.secondary.main}`,outlineOffset:"2px"},"@media (prefers-contrast: high)":{backgroundColor:"ButtonText",color:"ButtonFace",border:"2px solid ButtonText","&:focus":{backgroundColor:"Highlight",color:"HighlightText",outline:"2px solid ButtonText"}},"@media (prefers-reduced-motion: reduce)":{transition:"none"}})),e1=({href:e,children:t,className:r="",...n})=>{const a=i=>{const o=e.replace("#",""),s=document.getElementById(o);s&&(s.hasAttribute("tabindex")||s.setAttribute("tabindex","-1"),setTimeout(()=>{s.focus(),s.getAttribute("tabindex")==="-1"&&s.removeAttribute("tabindex")},100))};return u.jsx(b7,{href:e,className:r,onClick:a,...n,children:t})},_7=({children:e})=>{const[t,r]=y.useState(yp()),[n,a]=y.useState(null),[i,o]=y.useState(0);return y.useEffect(()=>{let s=!0,c;return(async()=>{t!==Cn.READY&&setTimeout(async()=>{c=setInterval(()=>{s&&o(f=>{const p=(95-f)*.1;return Math.min(f+p,95)})},300);try{await Eg(),s&&(o(100),r(Cn.READY))}catch(f){s&&(a(`データベースの初期化に失敗しました: ${f instanceof Error?f.message:"不明なエラー"}`),r(Cn.ERROR))}finally{clearInterval(c)}},100)})(),()=>{s=!1,clearInterval(c)}},[t]),u.jsx(u.Fragment,{children:e})},gg={primary:{main:"#2E3440",light:"#4C566A",dark:"#1B1F2B",contrastText:"#FFFFFF"},secondary:{main:"#88C0D0",light:"#B3D4E0",dark:"#5E81AC",contrastText:"#2E3440"},accent:{main:"#D08770",light:"#E5A088",dark:"#BF616A"},background:{default:"#ECEFF4",paper:"#FFFFFF",elevated:"#F8F9FA"},text:{primary:"#2E3440",secondary:"#4C566A",disabled:"#D8DEE9"},divider:"#E5E9F0",success:{main:"#A3BE8C",light:"#B8CCA3",dark:"#8CAF69"},warning:{main:"#EBCB8B",light:"#F0D5A3",dark:"#D4B571"},error:{main:"#BF616A",light:"#CC8088",dark:"#A54A56"},info:{main:"#88C0D0",light:"#B3D4E0",dark:"#5E81AC"}},w7={fontFamily:'"Inter", "Roboto", "Helvetica Neue", "Arial", sans-serif',h1:{fontSize:"3rem",fontWeight:700,lineHeight:1.2,letterSpacing:"-0.02em"},h2:{fontSize:"2.25rem",fontWeight:600,lineHeight:1.3,letterSpacing:"-0.01em"},h3:{fontSize:"1.875rem",fontWeight:600,lineHeight:1.3,letterSpacing:"-0.01em"},h4:{fontSize:"1.5rem",fontWeight:600,lineHeight:1.4},h5:{fontSize:"1.25rem",fontWeight:600,lineHeight:1.4},h6:{fontSize:"1.125rem",fontWeight:600,lineHeight:1.4},subtitle1:{fontSize:"1rem",fontWeight:500,lineHeight:1.5},subtitle2:{fontSize:"0.875rem",fontWeight:500,lineHeight:1.5},body1:{fontSize:"1rem",fontWeight:400,lineHeight:1.6},body2:{fontSize:"0.875rem",fontWeight:400,lineHeight:1.6},caption:{fontSize:"0.75rem",fontWeight:400,lineHeight:1.5},button:{fontSize:"0.875rem",fontWeight:600,textTransform:"none",letterSpacing:"0.02em"}},j7={MuiButton:{styleOverrides:{root:{borderRadius:8,padding:"10px 24px",transition:"all 0.2s ease-in-out","&:hover":{transform:"translateY(-1px)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"}},contained:{boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"}}},MuiCard:{styleOverrides:{root:{borderRadius:12,boxShadow:"0 2px 12px rgba(0, 0, 0, 0.08)",transition:"all 0.3s ease-in-out","&:hover":{transform:"translateY(-2px)",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)"}}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:8,transition:"all 0.2s ease-in-out","&:hover":{"& .MuiOutlinedInput-notchedOutline":{borderColor:gg.secondary.main}},"&.Mui-focused":{"& .MuiOutlinedInput-notchedOutline":{borderColor:gg.primary.main,borderWidth:2}}}}}},MuiAppBar:{styleOverrides:{root:{boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(10px)",backgroundColor:"rgba(46, 52, 64, 0.95)"}}},MuiChip:{styleOverrides:{root:{borderRadius:8,fontWeight:500}}},MuiPaper:{styleOverrides:{root:{borderRadius:12,boxShadow:"0 2px 12px rgba(0, 0, 0, 0.08)"},elevation1:{boxShadow:"0 2px 8px rgba(0, 0, 0, 0.06)"},elevation2:{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},elevation3:{boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)"}}}},qt=f1({palette:gg,typography:w7,components:j7,spacing:8,shape:{borderRadius:8},breakpoints:{values:{xs:0,sm:600,md:960,lg:1280,xl:1920}},transitions:{easing:{easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"}}}),bt={minimum:44,comfortable:48,large:56},A7={values:{xs:0,sm:600,md:960,lg:1280,xl:1920}},S7={...qt.typography,fontSize:16,h1:{...qt.typography.h1,fontSize:"2.5rem",lineHeight:1.1,letterSpacing:"-0.02em","@media (max-width:600px)":{fontSize:"2rem"}},h2:{...qt.typography.h2,fontSize:"2rem",lineHeight:1.2,"@media (max-width:600px)":{fontSize:"1.75rem"}},h3:{...qt.typography.h3,fontSize:"1.75rem",lineHeight:1.2,"@media (max-width:600px)":{fontSize:"1.5rem"}},h4:{...qt.typography.h4,fontSize:"1.5rem",lineHeight:1.3,"@media (max-width:600px)":{fontSize:"1.25rem"}},h5:{...qt.typography.h5,fontSize:"1.25rem",lineHeight:1.3,"@media (max-width:600px)":{fontSize:"1.125rem"}},h6:{...qt.typography.h6,fontSize:"1.125rem",lineHeight:1.4,"@media (max-width:600px)":{fontSize:"1rem"}},body1:{...qt.typography.body1,fontSize:"1rem",lineHeight:1.6,"@media (max-width:600px)":{fontSize:"0.875rem",lineHeight:1.5}},body2:{...qt.typography.body2,fontSize:"0.875rem",lineHeight:1.6,"@media (max-width:600px)":{fontSize:"0.8125rem",lineHeight:1.5}},button:{...qt.typography.button,fontSize:"1rem",fontWeight:600,textTransform:"none","@media (max-width:600px)":{fontSize:"0.875rem"}}},C7={...qt.components,MuiButton:{styleOverrides:{root:{minHeight:bt.comfortable,borderRadius:12,padding:"12px 24px",fontSize:"1rem",fontWeight:600,textTransform:"none",transition:"all 0.2s ease-in-out","&:active":{transform:"scale(0.98)"},"@media (hover: hover)":{"&:hover":{transform:"translateY(-1px)",boxShadow:"0 6px 16px rgba(0, 0, 0, 0.15)"}},"@media (prefers-contrast: high)":{border:"2px solid currentColor"},"@media (prefers-reduced-motion: reduce)":{transition:"none","&:hover":{transform:"none"}},"@media (max-width:600px)":{minHeight:bt.comfortable,padding:"14px 20px",fontSize:"0.875rem",borderRadius:8}},sizeSmall:{minHeight:bt.minimum,padding:"8px 16px",fontSize:"0.875rem","@media (max-width:600px)":{minHeight:bt.minimum,padding:"10px 14px",fontSize:"0.8125rem"}},sizeLarge:{minHeight:bt.large,padding:"16px 32px",fontSize:"1.125rem","@media (max-width:600px)":{minHeight:bt.large,padding:"18px 28px",fontSize:"1rem"}}}},MuiIconButton:{styleOverrides:{root:{minWidth:bt.comfortable,minHeight:bt.comfortable,borderRadius:12,"&:active":{transform:"scale(0.95)"},"@media (max-width:600px)":{minWidth:bt.comfortable,minHeight:bt.comfortable}},sizeSmall:{minWidth:bt.minimum,minHeight:bt.minimum,"@media (max-width:600px)":{minWidth:bt.minimum,minHeight:bt.minimum}},sizeLarge:{minWidth:bt.large,minHeight:bt.large,"@media (max-width:600px)":{minWidth:bt.large,minHeight:bt.large}}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:12,fontSize:"1rem",minHeight:bt.comfortable,"& input":{padding:"14px 16px",fontSize:"1rem","@media (max-width:600px)":{fontSize:"16px",padding:"16px"}},"& textarea":{fontSize:"1rem","@media (max-width:600px)":{fontSize:"16px"}},"&:hover":{"& .MuiOutlinedInput-notchedOutline":{borderColor:qt.palette.secondary.main,borderWidth:"2px"}},"&.Mui-focused":{"& .MuiOutlinedInput-notchedOutline":{borderColor:qt.palette.primary.main,borderWidth:"2px"}}}}}},MuiCard:{styleOverrides:{root:{borderRadius:16,boxShadow:"0 2px 12px rgba(0, 0, 0, 0.08)",transition:"all 0.3s ease-in-out","&:hover":{transform:"translateY(-2px)",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)"},"&:active":{transform:"translateY(-1px)"},"@media (prefers-reduced-motion: reduce)":{transition:"none","&:hover":{transform:"none"}},"@media (max-width:600px)":{borderRadius:12,margin:"8px"}}}},MuiChip:{styleOverrides:{root:{height:bt.minimum,borderRadius:22,fontSize:"0.875rem",fontWeight:500,"&.MuiChip-clickable":{"&:active":{transform:"scale(0.95)"}},"@media (max-width:600px)":{height:bt.minimum,fontSize:"0.8125rem"}},deleteIcon:{fontSize:"18px","&:hover":{color:"inherit"}}}},MuiDrawer:{styleOverrides:{paper:{borderRadius:"16px 0 0 16px","@media (max-width:600px)":{width:"85%",maxWidth:320}}}},MuiAppBar:{styleOverrides:{root:{boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(10px)",backgroundColor:"rgba(46, 52, 64, 0.95)","@media (max-width:600px)":{minHeight:64}}}},MuiToolbar:{styleOverrides:{root:{minHeight:64,padding:"0 16px","@media (max-width:600px)":{minHeight:64,padding:"0 8px"}}}},MuiPaper:{styleOverrides:{root:{borderRadius:16,"@media (max-width:600px)":{borderRadius:12}}}},MuiListItem:{styleOverrides:{root:{minHeight:bt.comfortable,borderRadius:8,margin:"2px 8px","&.Mui-selected":{backgroundColor:"rgba(0, 0, 0, 0.08)","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.12)"}},"@media (max-width:600px)":{minHeight:bt.large,padding:"12px 16px"}}}}},O7=f1({...qt,breakpoints:A7,typography:S7,components:C7,spacing:8,shadows:["none","0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24)","0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23)","0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23)","0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22)","0 19px 38px rgba(0, 0, 0, 0.30), 0 15px 12px rgba(0, 0, 0, 0.22)","0 24px 48px rgba(0, 0, 0, 0.35), 0 19px 19px rgba(0, 0, 0, 0.22)",...qt.shadows.slice(7)],shape:{borderRadius:12}}),P7=()=>"ontouchstart"in window||navigator.maxTouchPoints>0;var t1={};const E7=!!(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function bP(e){if("serviceWorker"in navigator){if(new URL(t1.PUBLIC_URL||"",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const r=`${t1.PUBLIC_URL}/sw.js`;E7?(T7(r,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")})):_P(r,e)})}}function _P(e,t){navigator.serviceWorker.register(e).then(r=>{console.log("SW registered: ",r),r.onupdatefound=()=>{const n=r.installing;n!=null&&(n.onstatechange=()=>{n.state==="installed"&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(r)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(r),t&&t.onOfflineReady&&t.onOfflineReady()))})}}).catch(r=>{console.error("Error during service worker registration:",r),t&&t.onError&&t.onError(r)})}function T7(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then(r=>{const n=r.headers.get("content-type");r.status===404||n!=null&&n.indexOf("javascript")===-1?navigator.serviceWorker.ready.then(a=>{a.unregister().then(()=>{window.location.reload()})}):_P(e,t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}function L7(){const[e,t]=Ft.useState({isOnline:navigator.onLine,isOfflineReady:!1,hasUpdate:!1});return Ft.useEffect(()=>{const r=()=>{t(n=>({...n,isOnline:navigator.onLine}))};return window.addEventListener("online",r),window.addEventListener("offline",r),bP({onSuccess:()=>{t(n=>({...n,isOfflineReady:!0}))},onUpdate:()=>{t(n=>({...n,hasUpdate:!0}))}}),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",r)}},[]),e}const k7=()=>{const{pathname:e}=Xu();return y.useEffect(()=>{window.scrollTo(0,0)},[e]),null},I7=()=>{const[e,t]=y.useState(""),[r,n]=y.useState(!1),[a,i]=y.useState(!1),o=L7();y.useEffect(()=>{console.log("App running in production mode");try{c7()}catch(f){console.warn("Failed to log database details:",f)}t("アプリケーションが読み込まれました")},[]),y.useEffect(()=>{!o.isOnline&&!r?(n(!0),t("オフライン状態です。一部の機能が制限される場合があります。")):o.isOnline&&r&&(n(!1),t("オンライン状態に戻りました。")),o.hasUpdate&&!a&&(i(!0),t("新しいバージョンが利用可能です。ページを再読み込みしてください。"))},[o,r,a]);const s=()=>{window.location.reload()},c=()=>{n(!1)},d=()=>{i(!1)};return u.jsxs(u.Fragment,{children:[u.jsx(e1,{href:"#main-content",children:"メインコンテンツへスキップ"}),u.jsx(e1,{href:"#navigation",children:"ナビゲーションへスキップ"}),u.jsx(sN,{message:e,level:"polite"}),u.jsx(k7,{}),u.jsx(dN,{}),u.jsx("main",{id:"main-content",className:"container",role:"main",tabIndex:-1,style:{outline:"none"},children:u.jsx(xP,{children:u.jsx(y.Suspense,{fallback:u.jsx(D,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",role:"status","aria-label":"ページを読み込み中",children:u.jsx(In,{})}),children:u.jsxs(tD,{children:[u.jsx(Qi,{path:"/",element:u.jsx(pN,{})}),u.jsx(Qi,{path:"/architecture",element:u.jsx(jN,{})}),u.jsx(Qi,{path:"/architecture/:id",element:u.jsx(AN,{})}),u.jsx(Qi,{path:"/architects",element:u.jsx(IN,{})}),u.jsx(Qi,{path:"/architects/:id",element:u.jsx(MN,{})}),u.jsx(Qi,{path:"/map",element:u.jsx(DN,{})}),u.jsx(Qi,{path:"/research",element:u.jsx(s7,{})}),u.jsx(Qi,{path:"/analytics",element:u.jsx(x7,{})})]})})})}),u.jsx(fN,{}),u.jsx(ap,{open:r,onClose:c,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:null,children:u.jsx(kn,{severity:"warning",onClose:c,variant:"filled",sx:{width:"100%"},children:"オフライン状態です。キャッシュされたコンテンツを表示しています。"})}),u.jsx(ap,{open:a,onClose:d,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:null,children:u.jsx(kn,{severity:"info",onClose:d,action:u.jsx(D,{sx:{display:"flex",gap:1},children:u.jsx("button",{onClick:s,style:{background:"none",border:"none",color:"white",textDecoration:"underline",cursor:"pointer",fontSize:"0.875rem"},children:"更新"})}),variant:"filled",sx:{width:"100%"},children:"新しいバージョンが利用可能です。"})})]})},R7=()=>{const[e,t]=y.useState(qt),r=Uo("(max-width:600px)"),n=P7();return y.useEffect(()=>{t(r||n?O7:qt)},[r,n]),y.useEffect(()=>{bP({onSuccess:()=>{console.log("Service worker registered successfully")},onUpdate:()=>{console.log("Service worker update available")},onOfflineReady:()=>{console.log("App ready for offline use")},onError:i=>{console.error("Service worker registration failed:",i)}});const a=document.createElement("div");a.setAttribute("aria-live","polite"),a.setAttribute("aria-atomic","true"),a.style.position="absolute",a.style.left="-10000px",a.textContent="建築データベースアプリケーションが読み込まれました",document.body.appendChild(a),setTimeout(()=>{document.body.removeChild(a)},1e3)},[]),u.jsx(xP,{children:u.jsx(_1,{children:u.jsxs(JM,{theme:e,children:[u.jsx(QM,{}),u.jsx(eD,{children:u.jsx(_7,{children:u.jsx(I7,{})})})]})})})};console.log("React アプリケーションを初期化中...","production");console.log("DOM root element:",document.getElementById("root"));const wP=document.getElementById("root");if(!wP)throw console.error('root要素が見つかりません。HTMLに<div id="root"></div>が存在するか確認してください。'),new Error("Failed to find the root element");const M7=p1(wP);console.log("Using HashRouter for GitHub Pages compatibility");try{M7.render(u.jsx(Ft.StrictMode,{children:u.jsx(R7,{})})),console.log("React アプリケーションのレンダリングが成功しました")}catch(e){console.error("React アプリケーションのレンダリング中にエラーが発生しました:",e)}
//# sourceMappingURL=index-BM5lvFb5.js.map
