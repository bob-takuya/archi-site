const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/database-CzynoM3b.js","assets/vendor-R9pUdGjU.js"])))=>i.map(i=>d[i]);
import{u as Zt,a as Nt,j as e,A as Ht,T as Mt,b as l,I as tt,M as zt,D as ft,B as o,C as Ut,L as pt,c as jt,d as yt,e as $,H as Gt,f as Ne,P as Fe,g as we,S as qt,h as ne,G as M,i as le,k as pe,l as je,F as Ee,m as Ze,n as B,o as Te,p as qe,q as ie,r as ve,s as Kt,t as Qt,v as Ae,R as lt,w as at,x as Ke,y as Qe,z as rt,E as bt,J as Ct,K as Et,N as At,O as Tt,Q as re,U as Jt,V as vt,W as ze,X as Rt,Y as Ue,Z as St,_ as We,$ as st,a0 as wt,a1 as Vt,a2 as Xt,a3 as er,a4 as tr,a5 as rr,a6 as sr,a7 as nr,a8 as or,a9 as ar,aa as ir,ab as lr,ac as fe,ad as G,ae as cr,af as dr,ag as hr,ah as xr,ai as ur,aj as gr}from"./ui-BqN58jDe.js";import{a as mr,u as Je,r as u,L as N,f as Ve,h as It,R as Dt,H as fr,i as pr,j as Se}from"./vendor-R9pUdGjU.js";import{L as kt,M as jr,T as yr,a as ct,P as dt}from"./map-DfQbedqp.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))g(d);new MutationObserver(d=>{for(const m of d)if(m.type==="childList")for(const c of m.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&g(c)}).observe(document,{childList:!0,subtree:!0});function s(d){const m={};return d.integrity&&(m.integrity=d.integrity),d.referrerPolicy&&(m.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?m.credentials="include":d.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function g(d){if(d.ep)return;d.ep=!0;const m=s(d);fetch(d.href,m)}})();var $t,ht=mr;$t=ht.createRoot,ht.hydrateRoot;const xt=[{title:"„Éõ„Éº„É†",path:"/",icon:e.jsx(Gt,{})},{title:"Âª∫ÁØâ‰ΩúÂìÅ",path:"/architecture",icon:e.jsx(Ne,{})},{title:"Âª∫ÁØâÂÆ∂",path:"/architects",icon:e.jsx(Fe,{})},{title:"„Éû„ÉÉ„Éó",path:"/map",icon:e.jsx(we,{})},{title:"DB„Ç®„ÇØ„Çπ„Éó„É≠„Éº„É©„Éº",path:"/db-explorer",icon:e.jsx(qt,{})}],br=()=>{const t=Je().pathname,s=Zt(),g=Nt(s.breakpoints.down("sm")),[d,m]=u.useState(!1),c=i=>n=>{n.type==="keydown"&&(n.key==="Tab"||n.key==="Shift")||m(i)};return e.jsx(Ht,{position:"static",color:"primary",component:"nav",role:"navigation","aria-label":"„É°„Ç§„É≥„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥",children:e.jsxs(Mt,{children:[e.jsx(l,{variant:"h6",component:N,to:"/","data-testid":"site-title",sx:{flexGrow:1,color:"white",textDecoration:"none",fontWeight:"bold"},children:"Âª∫ÁØâ„Éá„Éº„Çø„Éô„Éº„Çπ"}),g?e.jsxs(e.Fragment,{children:[e.jsx(tt,{edge:"end",color:"inherit","aria-label":"menu","data-testid":"mobile-menu-button",onClick:c(!0),children:e.jsx(zt,{})}),e.jsx(ft,{anchor:"right",open:d,onClose:c(!1),children:e.jsxs(o,{sx:{width:250},role:"presentation",onClick:c(!1),onKeyDown:c(!1),children:[e.jsx(o,{sx:{display:"flex",justifyContent:"flex-end",p:1},children:e.jsx(tt,{onClick:c(!1),children:e.jsx(Ut,{})})}),e.jsx(pt,{role:"menu","aria-label":"„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„É°„Éã„É•„Éº",children:xt.map(({title:i,path:n,icon:j})=>e.jsxs(jt,{component:N,to:n,role:"menuitem","data-testid":`nav-link-${i.toLowerCase()}`,sx:{color:t===n?"primary.main":"text.primary",backgroundColor:t===n?"rgba(0, 0, 0, 0.08)":"transparent",fontWeight:t===n?"bold":"normal","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:[j,e.jsx(yt,{primary:i,sx:{ml:2}})]},i))})]})})]}):e.jsx(o,{sx:{display:"flex"},role:"menubar","aria-label":"„Éá„Çπ„ÇØ„Éà„ÉÉ„Éó„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥",children:xt.map(({title:i,path:n})=>e.jsx($,{component:N,to:n,color:"inherit",role:"menuitem","data-testid":`nav-link-${i.toLowerCase()}`,sx:{mx:1,fontWeight:t===n?"bold":"normal",borderBottom:t===n?"2px solid white":"none"},children:i},i))})]})})},Cr=()=>e.jsx(o,{component:"footer",role:"contentinfo","data-testid":"footer",sx:{py:3,px:2,mt:"auto",backgroundColor:"primary.main",color:"white"},children:e.jsx(ne,{maxWidth:"sm",children:e.jsxs(l,{variant:"body1",align:"center",children:["Âª∫ÁØâ„Éá„Éº„Çø„Éô„Éº„Çπ ¬© ",new Date().getFullYear()]})})}),Er="modulepreload",Ar=function(r){return"/archi-site/"+r},ut={},it=function(t,s,g){let d=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),i=c?.nonce||c?.getAttribute("nonce");d=Promise.allSettled(s.map(n=>{if(n=Ar(n),n in ut)return;ut[n]=!0;const j=n.endsWith(".css"),x=j?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${x}`))return;const w=document.createElement("link");if(w.rel=j?"stylesheet":Er,j||(w.as="script"),w.crossOrigin="",w.href=n,i&&w.setAttribute("nonce",i),document.head.appendChild(w),j)return new Promise((_,W)=>{w.addEventListener("load",_),w.addEventListener("error",()=>W(new Error(`Unable to preload CSS for ${n}`)))})}))}function m(c){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=c,window.dispatchEvent(i),!i.defaultPrevented)throw c}return d.then(c=>{for(const i of c||[])i.status==="rejected"&&m(i.reason);return t().catch(m)})},Tr=({variant:r="card",count:t=6})=>{const s=()=>e.jsx(pe,{sx:{height:"100%"},children:e.jsxs(je,{children:[e.jsx(le,{variant:"text",height:40,sx:{mb:1}}),e.jsx(le,{variant:"text",height:20,sx:{mb:1}}),e.jsx(le,{variant:"text",height:20,width:"60%"})]})}),g=()=>e.jsxs(o,{sx:{p:2},children:[e.jsx(le,{variant:"text",height:32,sx:{mb:1}}),e.jsx(le,{variant:"text",height:24,sx:{mb:1}}),e.jsx(le,{variant:"text",height:20,width:"40%"})]}),d=()=>e.jsx(ne,{maxWidth:"lg",children:e.jsxs(o,{sx:{textAlign:"center",py:8},children:[e.jsx(le,{variant:"text",height:60,sx:{mb:2}}),e.jsx(le,{variant:"text",height:30,sx:{mb:4}}),e.jsx(o,{sx:{display:"flex",justifyContent:"center",mb:4},children:e.jsx(le,{variant:"rectangular",width:500,height:56,sx:{borderRadius:1}})})]})}),m=()=>e.jsx(le,{variant:"rectangular",width:"100%",height:400,sx:{borderRadius:2}});return r==="hero"?d():r==="map"?m():r==="list"?e.jsx(o,{children:Array.from({length:t}).map((c,i)=>e.jsx(o,{sx:{borderBottom:"1px solid #e0e0e0"},children:g()},i))}):e.jsx(M,{container:!0,spacing:4,children:Array.from({length:t}).map((c,i)=>e.jsx(M,{item:!0,xs:12,sm:6,md:4,children:s()},i))})},vr=()=>{const[r,t]=u.useState(""),[s,g]=u.useState([]),[d,m]=u.useState(!0),[c,i]=u.useState(null),[n,j]=u.useState(!1),[x,w]=u.useState(null);u.useEffect(()=>{const E=y=>{const{progress:p,speed:T,eta:D,receivedLength:q,totalLength:A}=y.detail;w({progress:p,speed:T,eta:D,receivedLength:q,totalLength:A})};window.addEventListener("database-download-progress",E);const z=setTimeout(()=>{console.warn("Emergency timeout: forcing app to render without database after 3 minutes"),m(!1),j(!1),i("„Éá„Éº„Çø„Éô„Éº„Çπ„ÅÆÂàùÊúüÂåñ„Åå„Çø„Ç§„É†„Ç¢„Ç¶„Éà„Åó„Åæ„Åó„ÅüÔºàÂ§ß„Åç„Å™„Éï„Ç°„Ç§„É´„ÅÆË™≠„ÅøËæº„Åø„Å´ÊôÇÈñì„Åå„Åã„Åã„Å£„Å¶„ÅÑ„Åæ„ÅôÔºâ„ÄÇÊé•Á∂ö„ÅåÈÅÖ„ÅÑÂ†¥Âêà„ÅØ„ÄÅ„Åó„Å∞„Çâ„Åè„ÅäÂæÖ„Å°„Åè„Å†„Åï„ÅÑ„ÄÇ")},18e4);return(async()=>{try{m(!0),i(null),console.log("ÊúÄËøë„ÅÆÂª∫ÁØâ‰ΩúÂìÅ„ÇíÂèñÂæó‰∏≠...");const{getAllArchitectures:y}=await it(async()=>{const{getAllArchitectures:q}=await Promise.resolve().then(()=>Ir);return{getAllArchitectures:q}},void 0),p=new Promise((q,A)=>{setTimeout(()=>A(new Error("„Éá„Éº„Çø„Éô„Éº„ÇπÊé•Á∂ö„Åå„Çø„Ç§„É†„Ç¢„Ç¶„Éà„Åó„Åæ„Åó„ÅüÔºà3ÂàÜÔºâ„ÄÇÂ§ß„Åç„Å™„Éï„Ç°„Ç§„É´„ÅÆË™≠„ÅøËæº„Åø„Å´ÊôÇÈñì„Åå„Åã„Åã„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ")),18e4)}),T=y(1,6),D=await Promise.race([T,p]);clearTimeout(z),g(D.results||[]),j(!0),console.log("Âª∫ÁØâ‰ΩúÂìÅ„ÅÆÂèñÂæó„Å´ÊàêÂäü„Åó„Åæ„Åó„Åü",D)}catch(y){console.error("Âª∫ÁØâ‰ΩúÂìÅ„ÅÆÂèñÂæó„Å´Â§±Êïó:",y),clearTimeout(z);let p=y.message||"„Éá„Éº„Çø„Éô„Éº„Çπ„Åã„Çâ„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü";y.message?.includes("timeout")?p+=" „Ç§„É≥„Çø„Éº„Éç„ÉÉ„ÉàÊé•Á∂ö„ÅåÈÅÖ„ÅÑÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ„Åó„Å∞„Çâ„ÅèÂæÖ„Å£„Å¶„Åã„Çâ„Éö„Éº„Ç∏„ÇíÂÜçË™≠„ÅøËæº„Åø„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ":y.message?.includes("fetch")&&(p+=" „Éç„ÉÉ„Éà„ÉØ„Éº„ÇØÊé•Á∂ö„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ"),i(p),j(!1)}finally{m(!1)}})(),()=>{clearTimeout(z),window.removeEventListener("database-download-progress",E)}},[]);const _=E=>{E.preventDefault(),r.trim()&&(window.location.href=`#/architecture?search=${encodeURIComponent(r)}`)},W=()=>{i(null),m(!0),w(null),window.location.reload()},S=E=>E<1024?`${Math.round(E)} B/s`:E<1024*1024?`${Math.round(E/1024)} KB/s`:`${Math.round(E/1024/1024)} MB/s`,L=E=>E<60?`${Math.round(E)}s`:E<3600?`${Math.round(E/60)}m ${Math.round(E%60)}s`:`${Math.round(E/3600)}h ${Math.round(E%3600/60)}m`;return e.jsxs(ne,{maxWidth:"lg","data-testid":"homepage-container",children:[e.jsx(Ee,{in:!0,timeout:1e3,children:e.jsxs(o,{component:"section",role:"banner","aria-labelledby":"main-heading",sx:{pt:8,pb:6,textAlign:"center",background:"linear-gradient(135deg, #ECEFF4 0%, #D8DEE9 100%)",borderRadius:3,mb:6,position:"relative",overflow:"hidden"},children:[e.jsx(o,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,opacity:.1,background:"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(46, 52, 64, 0.1) 10px, rgba(46, 52, 64, 0.1) 20px)"}}),e.jsxs(o,{sx:{position:"relative",zIndex:1},children:[e.jsx(l,{component:"h1",variant:"h1",align:"center",color:"text.primary",gutterBottom:!0,id:"main-heading",sx:{background:"linear-gradient(135deg, #2E3440 0%, #4C566A 100%)",backgroundClip:"text",WebkitBackgroundClip:"text",color:"transparent",mb:2},children:"Âª∫ÁØâ„Éá„Éº„Çø„Éô„Éº„Çπ"}),e.jsxs(l,{variant:"h5",align:"center",color:"text.secondary",paragraph:!0,sx:{mb:4,maxWidth:600,mx:"auto"},children:["Êó•Êú¨„ÅÆÂª∫ÁØâ‰ΩúÂìÅ„Å®Âª∫ÁØâÂÆ∂„ÇíÊ§úÁ¥¢„ÉªÈñ≤Ë¶ß„Åß„Åç„Çã",e.jsx("br",{}),"ÂåÖÊã¨ÁöÑ„Å™„Éá„Éº„Çø„Éô„Éº„Çπ"]}),e.jsxs(Ze,{direction:"row",spacing:3,justifyContent:"center",sx:{mb:4},children:[e.jsx(B,{icon:e.jsx(Ne,{}),label:"14,000+ Âª∫ÁØâ‰ΩúÂìÅ",color:"primary",variant:"outlined"}),e.jsx(B,{icon:e.jsx(Fe,{}),label:"2,900+ Âª∫ÁØâÂÆ∂",color:"secondary",variant:"outlined"}),e.jsx(B,{icon:e.jsx(we,{}),label:"ÂÖ®ÂõΩÂØæÂøú",color:"info",variant:"outlined"})]}),e.jsx(Ee,{in:!0,timeout:1500,children:e.jsxs(o,{component:"form",onSubmit:_,role:"search","aria-label":"Âª∫ÁØâ‰ΩúÂìÅÊ§úÁ¥¢",sx:{mt:4,display:"flex",justifyContent:"center",alignItems:"center",maxWidth:600,mx:"auto",gap:2},children:[e.jsx(Te,{fullWidth:!0,variant:"outlined",placeholder:"Âª∫ÁØâ‰ΩúÂìÅ„ÄÅÂª∫ÁØâÂÆ∂„ÄÅ‰ΩèÊâÄ„Å™„Å©„ÅßÊ§úÁ¥¢",value:r,onChange:E=>t(E.target.value),inputProps:{"aria-label":"Âª∫ÁØâ‰ΩúÂìÅÊ§úÁ¥¢","data-testid":"search-input",role:"searchbox"},sx:{"& .MuiOutlinedInput-root":{backgroundColor:"white",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"}}}),e.jsx($,{type:"submit",variant:"contained",color:"primary",startIcon:e.jsx(qe,{}),size:"large","data-testid":"search-button",sx:{px:3,py:1.5,minWidth:120},children:"Ê§úÁ¥¢"})]})}),!n&&d&&e.jsx(o,{sx:{mt:4,maxWidth:600,mx:"auto"},children:x?e.jsxs(ie,{sx:{p:3,background:"rgba(255, 255, 255, 0.9)",borderRadius:2},children:[e.jsx(l,{variant:"h6",gutterBottom:!0,sx:{color:"primary.main"},children:"üì¶ Â§ß„Åç„Å™„Éá„Éº„Çø„Éô„Éº„Çπ„ÇíË™≠„ÅøËæº„Åø‰∏≠..."}),e.jsxs(o,{sx:{mb:2},children:[e.jsxs(o,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(ve,{variant:"determinate",value:x.progress,size:24,sx:{mr:2}}),e.jsxs(l,{variant:"body2",color:"text.secondary",children:[x.progress,"% ‚Ä¢ ",Math.round(x.receivedLength/1024/1024)," MB / ",Math.round(x.totalLength/1024/1024)," MB"]})]}),e.jsx(Kt,{variant:"determinate",value:x.progress,sx:{height:8,borderRadius:4}})]}),e.jsxs(Ze,{direction:"row",spacing:2,sx:{fontSize:"0.875rem",color:"text.secondary"},children:[e.jsxs(o,{children:["üìä ",S(x.speed)]}),e.jsxs(o,{children:["‚è±Ô∏è ETA: ",L(x.eta)]})]}),e.jsx(l,{variant:"body2",sx:{mt:1,fontStyle:"italic",color:"text.secondary"},children:"ÂàùÂõû„ÅÆ„Ç¢„ÇØ„Çª„Çπ„Åß„ÅØ„ÄÅÂ§ß„Åç„Å™„Éï„Ç°„Ç§„É´„ÅÆ„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ„Åó„Å∞„Çâ„Åè„ÅäÂæÖ„Å°„Åè„Å†„Åï„ÅÑ„ÄÇ"})]}):e.jsxs(ie,{sx:{p:3,background:"rgba(255, 255, 255, 0.9)",borderRadius:2},children:[e.jsxs(o,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:2},children:[e.jsx(ve,{size:24,sx:{mr:2}}),e.jsx(l,{variant:"h6",sx:{color:"primary.main"},children:"„Éá„Éº„Çø„Éô„Éº„Çπ„ÇíÂàùÊúüÂåñ‰∏≠..."})]}),e.jsx(l,{variant:"body2",color:"text.secondary",align:"center",children:"14,000‰ª∂„ÅÆÂª∫ÁØâ‰ΩúÂìÅ„Éá„Éº„Çø„ÇíË™≠„ÅøËæº„Åø‰∏≠„Åß„Åô"})]})})]})]})}),e.jsxs(o,{component:"section","aria-labelledby":"recent-works-heading",sx:{py:4},children:[e.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(Qt,{color:"primary"}),e.jsx(l,{variant:"h4",fontWeight:"bold",id:"recent-works-heading",component:"h2",children:"ÊúÄËøë„ÅÆÂª∫ÁØâ‰ΩúÂìÅ"})]}),n&&e.jsx(Ae,{title:"„É™„Éï„É¨„ÉÉ„Ç∑„É•",children:e.jsx(tt,{onClick:()=>window.location.reload(),color:"primary",children:e.jsx(lt,{})})})]}),c&&e.jsx(Ee,{in:!0,children:e.jsx(at,{severity:"error",sx:{mb:3,borderRadius:2,"& .MuiAlert-message":{display:"flex",alignItems:"center",gap:2}},children:e.jsxs(o,{children:[c,e.jsxs(Ze,{direction:"row",spacing:2,sx:{mt:2},children:[e.jsx($,{size:"small",variant:"contained",color:"primary",onClick:W,startIcon:e.jsx(lt,{}),children:"ÂÜçË©¶Ë°å"}),e.jsx($,{size:"small",variant:"outlined",component:N,to:"/db-explorer",children:"Ë®∫Êñ≠„ÉÑ„Éº„É´„ÇíÈñã„Åè"})]})]})})}),d?e.jsx(Tr,{variant:"card",count:6}):s&&s.length>0?e.jsx(Ee,{in:!0,timeout:800,children:e.jsx(M,{container:!0,spacing:4,children:s.map((E,z)=>e.jsx(M,{item:!0,xs:12,sm:6,md:4,children:e.jsx(Ee,{in:!0,timeout:1e3+z*200,children:e.jsx(pe,{sx:{height:"100%",display:"flex",flexDirection:"column",background:"linear-gradient(135deg, #FFFFFF 0%, #F8F9FA 100%)",border:"1px solid #E5E9F0","&:hover":{"& .card-content":{transform:"translateY(-2px)"}}},children:e.jsx(Ke,{component:N,to:`/architecture/${E.Z_PK}`,sx:{height:"100%"},children:e.jsxs(je,{className:"card-content",sx:{flexGrow:1,transition:"transform 0.3s ease-in-out",p:3},children:[e.jsx(l,{gutterBottom:!0,variant:"h6",component:"h3",sx:{fontWeight:600,color:"text.primary",mb:2,lineHeight:1.3},children:E.ZAR_TITLE}),e.jsxs(Ze,{spacing:1,children:[e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Fe,{fontSize:"small",color:"secondary"}),e.jsx(l,{variant:"body2",color:"text.secondary",children:E.ZAR_ARCHITECT||"Âª∫ÁØâÂÆ∂‰∏çÊòé"})]}),e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(we,{fontSize:"small",color:"secondary"}),e.jsxs(l,{variant:"body2",color:"text.secondary",children:[E.ZAR_ADDRESS||"Â†¥ÊâÄ‰∏çÊòé"," ‚Ä¢ ",E.ZAR_YEAR&&E.ZAR_YEAR!==0?E.ZAR_YEAR+"Âπ¥":"Âπ¥‰ª£‰∏çÊòé"]})]})]})]})})})})},E.Z_PK))})}):e.jsxs(ie,{sx:{p:6,textAlign:"center",background:"linear-gradient(135deg, #F8F9FA 0%, #ECEFF4 100%)"},children:[e.jsx(l,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"Âª∫ÁØâ‰ΩúÂìÅ„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü"}),e.jsx(l,{variant:"body2",color:"text.secondary",children:"„Éá„Éº„Çø„Éô„Éº„Çπ„ÅÆÊé•Á∂ö„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ"})]}),n&&e.jsx(Ee,{in:!0,timeout:1200,children:e.jsx(o,{sx:{display:"flex",justifyContent:"center",mt:4},children:e.jsx($,{variant:"outlined",color:"primary",component:N,to:"/architecture",size:"large",sx:{px:4,py:1.5,borderWidth:2,"&:hover":{borderWidth:2}},children:"„Åô„Åπ„Å¶„ÅÆ‰ΩúÂìÅ„ÇíË¶ã„Çã"})})})]}),e.jsx(Qe,{sx:{my:6}}),e.jsx(Ee,{in:!0,timeout:1400,children:e.jsxs(o,{component:"section","aria-labelledby":"features-heading",sx:{mb:6},children:[e.jsx(l,{variant:"h4",align:"center",gutterBottom:!0,id:"features-heading",component:"h2",sx:{mb:4,fontWeight:"bold"},children:"„Éá„Éº„Çø„Éô„Éº„Çπ„ÅÆÁâπÂæ¥"}),e.jsxs(M,{container:!0,spacing:4,children:[e.jsx(M,{item:!0,xs:12,md:4,children:e.jsxs(pe,{sx:{height:"100%",display:"flex",flexDirection:"column",background:"linear-gradient(135deg, #88C0D0 0%, #5E81AC 100%)",color:"white",position:"relative",overflow:"hidden"},children:[e.jsx(o,{sx:{position:"absolute",top:-20,right:-20,opacity:.2},children:e.jsx(Ne,{sx:{fontSize:100}})}),e.jsxs(je,{sx:{position:"relative",zIndex:1,p:3},children:[e.jsxs(o,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(Ne,{sx:{mr:2,fontSize:32}}),e.jsx(l,{variant:"h5",fontWeight:"bold",children:"Âª∫ÁØâ‰ΩúÂìÅ"})]}),e.jsx(l,{paragraph:!0,sx:{mb:3,opacity:.9},children:"Êó•Êú¨ÂÖ®ÂõΩ„Åã„Çâ14,000‰ª∂‰ª•‰∏ä„ÅÆÂª∫ÁØâ‰ΩúÂìÅÊÉÖÂ†±„ÇíÈñ≤Ë¶ß„Åß„Åç„Åæ„Åô„ÄÇÂú∞Âüü„ÄÅÂπ¥‰ª£„ÄÅ„Ç´„ÉÜ„Ç¥„É™„Éº„Å™„Å©„ÅßË©≥Á¥∞Ê§úÁ¥¢„ÅåÂèØËÉΩ„Åß„Åô„ÄÇ"}),e.jsx($,{variant:"contained",component:N,to:"/architecture",sx:{mt:"auto",backgroundColor:"rgba(255, 255, 255, 0.2)",color:"white","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.3)"}},children:"‰ΩúÂìÅ„ÇíÊé¢„Åô"})]})]})}),e.jsx(M,{item:!0,xs:12,md:4,children:e.jsxs(pe,{sx:{height:"100%",display:"flex",flexDirection:"column",background:"linear-gradient(135deg, #D08770 0%, #BF616A 100%)",color:"white",position:"relative",overflow:"hidden"},children:[e.jsx(o,{sx:{position:"absolute",top:-20,right:-20,opacity:.2},children:e.jsx(Fe,{sx:{fontSize:100}})}),e.jsxs(je,{sx:{position:"relative",zIndex:1,p:3},children:[e.jsxs(o,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(Fe,{sx:{mr:2,fontSize:32}}),e.jsx(l,{variant:"h5",fontWeight:"bold",children:"Âª∫ÁØâÂÆ∂"})]}),e.jsx(l,{paragraph:!0,sx:{mb:3,opacity:.9},children:"2,900‰∫∫‰ª•‰∏ä„ÅÆÂª∫ÁØâÂÆ∂ÊÉÖÂ†±„ÇíÂèéÈå≤„ÄÇÁµåÊ≠¥„ÄÅ‰ΩúÂìÅ„É™„Çπ„Éà„ÄÅÊâÄÂ±û‰∫ãÂãôÊâÄ„Å™„Å©„ÅÆË©≥Á¥∞ÊÉÖÂ†±„ÇíÁ¢∫Ë™ç„Åß„Åç„Åæ„Åô„ÄÇ"}),e.jsx($,{variant:"contained",component:N,to:"/architects",sx:{mt:"auto",backgroundColor:"rgba(255, 255, 255, 0.2)",color:"white","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.3)"}},children:"Âª∫ÁØâÂÆ∂„ÇíÊé¢„Åô"})]})]})}),e.jsx(M,{item:!0,xs:12,md:4,children:e.jsxs(pe,{sx:{height:"100%",display:"flex",flexDirection:"column",background:"linear-gradient(135deg, #A3BE8C 0%, #8CAF69 100%)",color:"white",position:"relative",overflow:"hidden"},children:[e.jsx(o,{sx:{position:"absolute",top:-20,right:-20,opacity:.2},children:e.jsx(we,{sx:{fontSize:100}})}),e.jsxs(je,{sx:{position:"relative",zIndex:1,p:3},children:[e.jsxs(o,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(we,{sx:{mr:2,fontSize:32}}),e.jsx(l,{variant:"h5",fontWeight:"bold",children:"„Éû„ÉÉ„ÉóË°®Á§∫"})]}),e.jsx(l,{paragraph:!0,sx:{mb:3,opacity:.9},children:"Âª∫ÁØâ‰ΩúÂìÅ„ÇíÂú∞Âõ≥‰∏ä„ÅßË¶ñË¶öÁöÑ„Å´Êé¢Á¥¢„Åß„Åç„Åæ„Åô„ÄÇ‰ΩçÁΩÆÊÉÖÂ†±„Çí„ÇÇ„Å®„Å´Âë®Ëæ∫„ÅÆÂª∫ÁØâ‰ΩúÂìÅ„ÇíÁô∫Ë¶ã„Åß„Åç„Åæ„Åô„ÄÇ"}),e.jsx($,{variant:"contained",component:N,to:"/map",sx:{mt:"auto",backgroundColor:"rgba(255, 255, 255, 0.2)",color:"white","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.3)"}},children:"„Éû„ÉÉ„Éó„ÇíÈñã„Åè"})]})]})})]})]})})]})},ye="/archi-site",He={from:"jsonconfig",configUrl:`${ye}/db/archimap.sqlite3.json`},et=`${ye}/db/archimap.sqlite3`;console.log("üîß Environment debug info:");console.log("  - import.meta.env.PROD:",!0);console.log("  - BASE_PATH:",ye);console.log("  - Database config URL:",He.configUrl);let se=null,ee=null,nt=!1,Le=null,gt=!0;var Me=(r=>(r.NOT_INITIALIZED="not_initialized",r.INITIALIZING="initializing",r.READY="ready",r.ERROR="error",r))(Me||{});const Rr=()=>se||ee?"ready":nt?"initializing":"not_initialized",mt=async()=>{try{const r=Date.now(),t=await fetch(`${ye}/images/shinkenchiku-favicon.ico`,{method:"HEAD",cache:"no-cache"}),g=Date.now()-r;return g<100?"fast":g<500?"slow":"very-slow"}catch{return"very-slow"}};async function Sr(){console.log("üöÄ Attempting chunked database loading with sql.js-httpvfs...");try{const{createDbWorker:r}=await it(async()=>{const{createDbWorker:i}=await import("./database-CzynoM3b.js").then(n=>n.i);return{createDbWorker:i}},__vite__mapDeps([0,1]));console.log("üóÑÔ∏è Testing database config file accessibility..."),console.log(`üîó Config URL: ${He.configUrl}`);const t=await fetch(He.configUrl,{method:"HEAD"});if(!t.ok)throw new Error(`Database config not accessible: ${t.status} ${t.statusText}`);console.log("‚úÖ Database config is accessible");const s=new URL(`${ye}/sqlite.worker.js`,window.location.origin),g=new URL(`${ye}/sql-wasm.wasm`,window.location.origin);console.log("üîß Worker URL:",s.toString()),console.log("üîß WASM URL:",g.toString());const d=await fetch(He.configUrl).then(i=>i.json());console.log("üîß Config data loaded:",JSON.stringify(d,null,2)),se=await r([d],s.toString(),g.toString()),console.log("‚úÖ sql.js-httpvfs worker initialized successfully");const m=await se.db.exec("SELECT sqlite_version()");m&&m.length>0&&console.log(`üîç SQLite „Éê„Éº„Ç∏„Éß„É≥: ${m[0].values[0][0]}`);const c=await se.db.exec("SELECT name FROM sqlite_master WHERE type='table'");if(c&&c.length>0){console.log(`üìã Âà©Áî®ÂèØËÉΩ„Å™„ÉÜ„Éº„Éñ„É´Êï∞: ${c[0].values.length}`),console.log(`üìã „ÉÜ„Éº„Éñ„É´‰∏ÄË¶ß: ${c[0].values.map(i=>i[0]).join(", ")}`);try{const i=await se.db.exec("SELECT COUNT(*) FROM ZCDARCHITECTURE");i&&i.length>0&&console.log(`üè¢ Âª∫ÁØâ„Éá„Éº„Çø‰ª∂Êï∞: ${i[0].values[0][0]} ‰ª∂ („ÉÅ„É£„É≥„ÇØË™≠„ÅøËæº„Åø)`)}catch{console.log("üìã Architecture table structure checking...")}}return se}catch(r){throw console.warn("‚ö†Ô∏è Chunked loading failed, will try direct loading:",r.message),r}}async function wr(){console.log("üöÄ Fallback: Using direct sql.js loading...");try{console.log("üì¶ Importing sql.js...");const r=await it(()=>import("./database-CzynoM3b.js").then(x=>x.s),__vite__mapDeps([0,1]));console.log("üì¶ sql.js imported:",typeof r,Object.keys(r));const t=r.default||r;if(typeof t!="function"){if(r.initSqlJs&&typeof r.initSqlJs=="function"){console.log("üì¶ Found initSqlJs as named export");const x=await r.initSqlJs({locateFile:w=>w==="sql-wasm.wasm"?`${ye}/sql-wasm.wasm`:w});return ee=new x.Database,ee}throw console.error("‚ùå Unable to find initSqlJs function in:",r),new Error("sql.js import failed - no initialization function found")}console.log("üì¶ initSqlJs function found:",typeof t),console.log("üóÑÔ∏è Testing database file accessibility..."),console.log(`üîó Database URL: ${et}`);const s=await fetch(et,{method:"HEAD"});if(!s.ok)throw new Error(`Database file not accessible: ${s.status} ${s.statusText}`);const g=s.headers.get("content-length");if(g){const x=parseInt(g)/1048576;console.log(`üìÅ Database file size: ${x.toFixed(2)} MB`)}console.log("‚úÖ Database file is accessible");const d=`${ye}/sql-wasm.wasm`,m=await t({locateFile:x=>x==="sql-wasm.wasm"?d:x});console.log("‚úÖ SQL.js initialized successfully"),console.log("üì• Downloading database file...");const c=await fetch(et);if(!c.ok)throw new Error(`Failed to download database: ${c.status} ${c.statusText}`);const i=await c.arrayBuffer();console.log(`‚úÖ Database downloaded: ${(i.byteLength/1024/1024).toFixed(2)} MB (uncompressed)`),ee=new m.Database(new Uint8Array(i)),console.log("‚úÖ Database created successfully");const n=ee.exec("SELECT sqlite_version()");n.length>0&&console.log(`üîç SQLite „Éê„Éº„Ç∏„Éß„É≥: ${n[0].values[0][0]}`);const j=ee.exec("SELECT name FROM sqlite_master WHERE type='table'");if(j.length>0){console.log(`üìã Âà©Áî®ÂèØËÉΩ„Å™„ÉÜ„Éº„Éñ„É´Êï∞: ${j[0].values.length}`),console.log(`üìã „ÉÜ„Éº„Éñ„É´‰∏ÄË¶ß: ${j[0].values.map(x=>x[0]).join(", ")}`);try{const x=ee.exec("SELECT COUNT(*) FROM ZCDARCHITECTURE");x.length>0&&console.log(`üè¢ Âª∫ÁØâ„Éá„Éº„Çø‰ª∂Êï∞: ${x[0].values[0][0]} ‰ª∂ (Áõ¥Êé•Ë™≠„ÅøËæº„Åø)`)}catch{console.log("üìã Architecture table structure checking...")}}return ee}catch(r){throw console.error("‚ùå Direct loading also failed:",r.message),r}}const _t=async()=>se||ee?se||ee:Le||(nt=!0,Le=(async()=>{try{console.log("üöÄ „Éá„Éº„Çø„Éô„Éº„ÇπÂàùÊúüÂåñ„ÇíÈñãÂßãÔºà„ÉÅ„É£„É≥„ÇØË™≠„ÅøËæº„ÅøÂÑ™ÂÖà„ÄÅÁõ¥Êé•Ë™≠„ÅøËæº„Åø„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÔºâ...");const r=await mt();if(console.log(`üåê Connection speed detected: ${r}`),gt)try{const s=await Sr();return console.log("üéâ „ÉÅ„É£„É≥„ÇØË™≠„ÅøËæº„Åø„ÅåÊàêÂäü„Åó„Åæ„Åó„ÅüÔºÅ"),s}catch(s){console.warn("‚ö†Ô∏è „ÉÅ„É£„É≥„ÇØË™≠„ÅøËæº„Åø„Å´Â§±Êïó„ÄÅÁõ¥Êé•Ë™≠„ÅøËæº„Åø„Å´„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ:",s.message),gt=!1}const t=await wr();return console.log("üéâ Áõ¥Êé•Ë™≠„ÅøËæº„Åø„ÅåÊàêÂäü„Åó„Åæ„Åó„ÅüÔºÅ"),t}catch(r){if(console.error("‚ùå „Éá„Éº„Çø„Éô„Éº„ÇπÂàùÊúüÂåñ„Ç®„É©„Éº:",r),se=null,ee=null,r instanceof Error){const t=await mt().catch(()=>"unknown");let s=r.message;r.message.includes("timeout")?t==="very-slow"?s+=`

üì° Êé•Á∂öÈÄüÂ∫¶„ÅåÈùûÂ∏∏„Å´ÈÅÖ„ÅÑ„Åü„ÇÅ„ÄÅ„Éá„Éº„Çø„Éô„Éº„Çπ„ÅÆÂàùÊúüÂåñ„Å´ÊôÇÈñì„Åå„Åã„Åã„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇWiFi„ÇÑ„Çà„ÇäÈ´òÈÄü„Å™Êé•Á∂ö„Çí„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ„ÄÇ`:t==="slow"&&(s+=`

üì° Êé•Á∂öÈÄüÂ∫¶„ÅåÈÅÖ„ÅÑ„Åü„ÇÅ„ÄÅ„Éá„Éº„Çø„Éô„Éº„Çπ„ÅÆÂàùÊúüÂåñ„Å´ÊôÇÈñì„Åå„Åã„Åã„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ`):r.message.includes("fetch")||r.message.includes("network")?s+=`

üåê „Éç„ÉÉ„Éà„ÉØ„Éº„ÇØÊé•Á∂ö„Å´ÂïèÈ°å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇÊé•Á∂öÁä∂ÊÖã„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`:(r.message.includes("GZIP")||r.message.includes("compression"))&&(s+=`

üì¶ GZIPÂúßÁ∏Æ„ÅÆÂïèÈ°å„ÅåÊ§úÂá∫„Åï„Çå„Åæ„Åó„Åü„ÄÇ„Éá„Éº„Çø„Éô„Éº„Çπ„Éï„Ç°„Ç§„É´„ÅÆË®≠ÂÆö„ÇíÁ¢∫Ë™ç‰∏≠...`);const g=new Error(s);throw g.name=r.name,g}throw r}finally{nt=!1,Le=null}})(),Le),Lt=async(r,t=[])=>{try{if(!se&&!ee&&await _t(),se)return await se.db.exec(r,t);if(ee)return ee.exec(r,t);throw new Error("„Éá„Éº„Çø„Éô„Éº„Çπ„ÅåÂàùÊúüÂåñ„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì")}catch(s){throw console.error("„ÇØ„Ç®„É™ÂÆüË°å„Ç®„É©„Éº:",s),s}},Ft=r=>{if(!r||r.length===0)return[];const{columns:t,values:s}=r[0];return s.map(g=>{const d={};return t.forEach((m,c)=>{d[m]=g[c]}),d})},Xe=async(r,t=[])=>{const s=await Lt(r,t);return Ft(s)[0]},Ye=async(r,t=[])=>{const s=await Lt(r,t);return Ft(s)},Wt=async r=>Xe("SELECT * FROM ZCDARCHITECTURE WHERE Z_PK = ?",[r]),Yt=async(r=1,t=12,s="",g="year_desc",d="asc",m={})=>{const c=(r-1)*t;let i="1=1";const n=[];s&&(i+=" AND (ZAR_TITLE LIKE ? OR ZAR_ADDRESS LIKE ? OR ZAR_DESCRIPTION LIKE ? OR ZAR_ARCHITECT LIKE ?)",n.push(`%${s}%`,`%${s}%`,`%${s}%`,`%${s}%`)),m.architect&&(i+=" AND (ZAR_ARCHITECT LIKE ? OR ZAR_ARCHITECT_ENG LIKE ?)",n.push(`%${m.architect}%`,`%${m.architect}%`)),m.location&&(i+=" AND ZAR_ADDRESS LIKE ?",n.push(`%${m.location}%`)),m.prefecture&&(i+=" AND ZAR_PREFECTURE = ?",n.push(m.prefecture)),m.yearFrom&&(i+=" AND ZAR_YEAR >= ?",n.push(m.yearFrom)),m.yearTo&&(i+=" AND ZAR_YEAR <= ?",n.push(m.yearTo)),m.tags&&m.tags.length>0&&(i+=" AND ZAR_TAG LIKE ?",n.push(`%${m.tags.join("%")}%`));const x={year_desc:"ZAR_YEAR DESC",year_asc:"ZAR_YEAR ASC",name_asc:"ZAR_TITLE ASC",name_desc:"ZAR_TITLE DESC",architect_asc:"ZAR_ARCHITECT ASC",architect_desc:"ZAR_ARCHITECT DESC"}[g]||"ZAR_YEAR DESC",w=`
    SELECT COUNT(*) as total
    FROM ZCDARCHITECTURE
    WHERE ${i}
  `,_=`
    SELECT *
    FROM ZCDARCHITECTURE
    WHERE ${i}
    ORDER BY ${x}
    LIMIT ? OFFSET ?
  `,W=[...n,t,c];try{const L=(await Xe(w,n))?.total||0;return{results:await Ye(_,W),total:L,page:r,limit:t,totalPages:Math.ceil(L/t)}}catch(S){throw console.error("Âª∫ÁØâ‰ΩúÂìÅ„Éá„Éº„ÇøÂèñÂæó„Ç®„É©„Éº:",S),S}},Ot=async(r,t={})=>{let s=`
    ZAR_LATITUDE BETWEEN ? AND ?
    AND ZAR_LONGITUDE BETWEEN ? AND ?
    AND ZAR_LATITUDE IS NOT NULL
    AND ZAR_LONGITUDE IS NOT NULL
  `;const g=[r.south,r.north,r.west,r.east];t.searchTerm&&(s+=" AND (ZAR_TITLE LIKE ? OR ZAR_ADDRESS LIKE ? OR ZAR_ARCHITECT LIKE ?)",g.push(`%${t.searchTerm}%`,`%${t.searchTerm}%`,`%${t.searchTerm}%`)),t.architect&&(s+=" AND (ZAR_ARCHITECT LIKE ? OR ZAR_ARCHITECT_ENG LIKE ?)",g.push(`%${t.architect}%`,`%${t.architect}%`)),t.yearFrom&&(s+=" AND ZAR_YEAR >= ?",g.push(t.yearFrom)),t.yearTo&&(s+=" AND ZAR_YEAR <= ?",g.push(t.yearTo)),t.tags&&t.tags.length>0&&(s+=" AND ZAR_TAG LIKE ?",g.push(`%${t.tags.join("%")}%`));const d=`
    SELECT *
    FROM ZCDARCHITECTURE
    WHERE ${s}
    LIMIT 500
  `;return Ye(d,g)},Ir=Object.freeze(Object.defineProperty({__proto__:null,getAllArchitectures:Yt,getArchitectureById:Wt,getArchitectureForMap:Ot},Symbol.toStringTag,{value:"Module"})),Dr=()=>{const[r,t]=u.useState([]),[s,g]=u.useState(!0),[d,m]=u.useState(0),[c,i]=u.useState(1),[n,j]=u.useState(""),[x,w]=u.useState(""),[_,W]=u.useState([]),[S,L]=u.useState([]),[E,z]=u.useState([]),[f,y]=u.useState("year_desc"),[p,T]=u.useState({}),[D,q]=u.useState(null),[A,be]=u.useState(""),[te,he]=u.useState({}),oe=12,K=Je(),J=Ve();u.useEffect(()=>{(async()=>{try{z([])}catch(b){console.error("„Çø„Ç∞ÂèñÂæó„Ç®„É©„Éº:",b)}})()},[]),u.useEffect(()=>{const h=new URLSearchParams(K.search),b=h.get("tag"),R=h.get("search"),F=h.get("year"),Q=h.get("prefecture"),Y=h.get("category"),O=h.get("architect"),k=h.get("sort");if(k&&y(k),b){const v=b.split(",").map(a=>a.trim()).filter(a=>a),Z=new Set,V=[];v.forEach(a=>{const C=a.match(/\d{4}Âπ¥\d{1,2}ÊúàÂè∑?/);if(C){const I=a.replace(C[0],"").trim();I&&(Z.add(I),V.push(a))}else Z.add(a)}),W(Array.from(Z)),L(V),w(b),j(`tag:${b}`),H(1,`tag:${b}`,k||f)}else F?(j(`year:${F}`),H(1,`year:${F}`,k||f)):Q?(j(`prefecture:${Q}`),H(1,`prefecture:${Q}`,k||f)):Y?(j(`category:${Y}`),H(1,`category:${Y}`,k||f)):O?(j(`architect:${O}`),H(1,`architect:${O}`,k||f)):R?(j(R),H(1,R,k||f)):H(1,n,k||f)},[K.search]);const H=async(h,b=n,R=f)=>{g(!0);try{const F=await Yt(h,oe,b,R);t(F.results),m(F.total),i(h)}catch(F){console.error("Error fetching architectures:",F)}finally{g(!1)}},ce=(h,b)=>{i(b),H(b,n,f),window.scrollTo(0,0)},Ce=h=>{j(h.target.value)},xe=async(h,b)=>{q(h.currentTarget),be(b);try{const R=[];he(F=>({...F,[b]:R}))}catch(R){console.error(`Failed to get years for tag ${b}:`,R)}},ue=()=>{q(null),be("")},Ie=h=>{const b=h?`${A}${h}`:A;let R=[...S];const F=R.findIndex(v=>v.startsWith(A)&&(v===A||v.match(new RegExp(`^${A}\\d{4}Âπ¥\\d{1,2}ÊúàÂè∑?`))||v.match(new RegExp(`^${A}\\d{4}Âπ¥Â∫¶?`))||v.match(new RegExp(`^${A}Á¨¨\\d+Âõû`))||v.match(new RegExp(`^${A}\\(\\d{4}\\)`))));F>=0?h?R[F]=b:R.splice(F,1):h&&R.push(b),L(R),ue();const Q=[..._];Q.includes(A)||Q.push(A);const Y=[...Q,...R].filter((v,Z,V)=>V.indexOf(v)===Z&&!R.some(a=>a!==v&&a.startsWith(v))).join(",");w(Y);const O=`tag:${Y}`;j(O),H(1,O,f);const k=new URLSearchParams;k.set("tag",Y),f!=="year_desc"&&k.set("sort",f),J({search:k.toString()})},De=(h,b)=>{const R=_.filter(Y=>!b.includes(Y));let F=[...S].filter(Y=>!R.some(O=>Y.startsWith(O)));const Q=b.filter(Y=>!_.includes(Y));if(Q.length>0&&Q.forEach(async Y=>{if(!te[Y])try{const O=[];if(he(k=>({...k,[Y]:O})),O&&O.length===1){const k=`${Y}${O[0]}`;F.push(k)}}catch(O){console.error(`Failed to get years for tag ${Y}:`,O)}}),W(b),L(F),b.length>0||F.length>0){const Y=[...b,...F].filter((v,Z,V)=>V.indexOf(v)===Z&&!F.some(a=>a!==v&&a.startsWith(v))).join(",");w(Y);const O=`tag:${Y}`;j(O),H(1,O,f);const k=new URLSearchParams;k.set("tag",Y),f!=="year_desc"&&k.set("sort",f),J({search:k.toString()})}else Re()},ge=h=>{const b=h.target.value;y(b),H(c,n,b);const R=new URLSearchParams(K.search);R.set("sort",b),J({search:R.toString()})},me=()=>{i(1),H(1,n,f);const h=new URLSearchParams;if(f!=="year_desc"&&h.set("sort",f),n.startsWith("tag:")){const b=n.substring(4).trim();h.set("tag",b)}else if(n.startsWith("year:")){const b=n.substring(5).trim();h.set("year",b)}else if(n.startsWith("prefecture:")){const b=n.substring(11).trim();h.set("prefecture",b)}else if(n.startsWith("category:")){const b=n.substring(9).trim();h.set("category",b)}else if(n.startsWith("architect:")){const b=n.substring(10).trim();h.set("architect",b)}else n&&h.set("search",n);J({search:h.toString()})},Re=()=>{w(""),j(""),W([]),L([]),i(1),H(1,"",f);const h=new URLSearchParams;f!=="year_desc"&&h.set("sort",f),J({search:h.toString()})},de=Math.ceil(d/oe);return e.jsxs(ne,{maxWidth:"lg",sx:{py:4},children:[e.jsx(l,{variant:"h4",component:"h1",gutterBottom:!0,children:"Âª∫ÁØâ‰ΩúÂìÅ‰∏ÄË¶ß"}),e.jsxs(ie,{sx:{p:3,mb:4},children:[e.jsxs(o,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2,mb:3},children:[e.jsx(Te,{fullWidth:!0,label:"Âª∫ÁØâ‰ΩúÂìÅÂêç„ÄÅ‰ΩèÊâÄ„ÄÅÂª∫ÁØâÂÆ∂„ÅßÊ§úÁ¥¢",value:n,onChange:Ce,onKeyPress:h=>h.key==="Enter"&&me(),InputProps:{startAdornment:e.jsx(rt,{position:"start",children:e.jsx(qe,{})})}}),e.jsx($,{variant:"contained",onClick:me,sx:{minWidth:"120px"},children:"Ê§úÁ¥¢"})]}),e.jsxs(o,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:2,mb:3,alignItems:"flex-start"},children:[e.jsx(bt,{multiple:!0,id:"tags-selector",options:E,value:_,onChange:De,renderInput:h=>e.jsx(Te,{...h,variant:"outlined",label:"„Çø„Ç∞„ÅßÁµû„ÇäËæº„Åø",placeholder:"„Çø„Ç∞„ÇíÈÅ∏Êäû"}),renderTags:(h,b)=>h.map((R,F)=>{const Q=S.some(v=>v.startsWith(R)&&v!==R),Y=!!(te[R]&&te[R].length>0),O=S.find(v=>v.startsWith(R)&&v!==R);let k="";if(O){const v=O.substring(R.length);v.match(/\d{4}Âπ¥\d{1,2}ÊúàÂè∑?/)?k=v.replace(/^(\d{4})/,(Z,V)=>`'${V.substring(2)}`):v.match(/\d{4}Âπ¥Â∫¶?/)?k=v.replace(/^(\d{4})/,(Z,V)=>`'${V.substring(2)}`):v.match(/Á¨¨\d+Âõû/)?k=v:v.match(/\(\d{4}\)/)?k=v.replace(/\((\d{4})\)/,(Z,V)=>`'${V.substring(2)}`):k=v}return e.jsx(B,{label:e.jsxs(o,{sx:{display:"flex",alignItems:"center"},children:[R,O&&e.jsx(l,{variant:"caption",sx:{ml:.5,fontWeight:"bold",backgroundColor:"rgba(0, 0, 0, 0.08)",borderRadius:"4px",px:.5,py:.2},children:k}),Y&&e.jsx(Ct,{fontSize:"small"})]}),...b({index:F}),color:Q?"primary":"default",variant:"outlined",onClick:v=>{v.stopPropagation(),xe(v,R)},onDelete:v=>{b({index:F}).onDelete(v)},sx:{maxWidth:"100%","& .MuiChip-label":{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}}},R)}),sx:{flex:2}}),e.jsxs(Et,{sx:{minWidth:200,flex:1},children:[e.jsx(At,{id:"sort-select-label",children:"‰∏¶„Å≥Êõø„Åà"}),e.jsxs(Tt,{labelId:"sort-select-label",id:"sort-select",value:f,label:"‰∏¶„Å≥Êõø„Åà",onChange:ge,startAdornment:e.jsx(rt,{position:"start",children:e.jsx(Jt,{})}),children:[e.jsx(re,{value:"year_desc",children:"Âπ¥‰ª£ÔºàÊñ∞„Åó„ÅÑÈ†ÜÔºâ"}),e.jsx(re,{value:"year_asc",children:"Âπ¥‰ª£ÔºàÂè§„ÅÑÈ†ÜÔºâ"}),e.jsx(re,{value:"name_asc",children:"ÂêçÂâçÔºàÊòáÈ†ÜÔºâ"}),e.jsx(re,{value:"name_desc",children:"ÂêçÂâçÔºàÈôçÈ†ÜÔºâ"}),e.jsx(re,{value:"architect_asc",children:"Âª∫ÁØâÂÆ∂ÔºàÊòáÈ†ÜÔºâ"}),e.jsx(re,{value:"architect_desc",children:"Âª∫ÁØâÂÆ∂ÔºàÈôçÈ†ÜÔºâ"})]})]})]}),e.jsx(vt,{open:!!D,anchorEl:D,onClose:ue,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:e.jsxs(o,{sx:{p:2,maxHeight:300,width:"250px",overflowY:"auto"},children:[e.jsxs(l,{variant:"subtitle2",sx:{mb:1},children:[A," „ÅÆÈÅ∏Êäû:"]}),e.jsxs(o,{sx:{display:"flex",flexDirection:"column",gap:1},children:[e.jsx(B,{label:"ÊåáÂÆö„Å™„Åó",onClick:()=>Ie(""),variant:"outlined",size:"small",color:_.includes(A)&&!S.some(h=>h.startsWith(A)&&h!==A)?"primary":"default"}),te[A]?.map(h=>{let b=h,R="default";return S.some(F=>F===`${A}${h}`)&&(R="primary"),e.jsx(B,{label:b,onClick:()=>Ie(h),variant:"outlined",size:"small",color:R,sx:{overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"}},h)})]})]})}),(x||n)&&e.jsx(o,{sx:{mb:3},children:e.jsx(at,{severity:"info",action:e.jsx($,{color:"inherit",size:"small",onClick:Re,children:"„ÇØ„É™„Ç¢"}),children:x?`„Çø„Ç∞„Äå${x}„Äç„ÅßÁµû„ÇäËæº„Åø‰∏≠`:`„Äå${n}„Äç„ÅßÊ§úÁ¥¢‰∏≠`})}),e.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsxs(l,{variant:"body2",color:"text.secondary",children:[d," ‰ª∂„ÅÆÂª∫ÁØâ‰ΩúÂìÅ"]}),de>1&&e.jsx(ze,{count:de,page:c,onChange:ce,color:"primary",size:"small"})]})]}),s?e.jsx(o,{sx:{display:"flex",justifyContent:"center",py:4},children:e.jsx(ve,{})}):e.jsxs(e.Fragment,{children:[r.length===0?e.jsxs(o,{sx:{textAlign:"center",py:4},children:[e.jsx(l,{variant:"h6",children:"Âª∫ÁØâ‰ΩúÂìÅ„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü"}),e.jsx(l,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Ê§úÁ¥¢Êù°‰ª∂„ÇíÂ§âÊõ¥„Åó„Å¶„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ"})]}):e.jsx(M,{container:!0,spacing:3,children:r.map(h=>e.jsx(M,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(pe,{sx:{height:"100%",display:"flex",flexDirection:"column",transition:"transform 0.2s","&:hover":{transform:"scale(1.02)"}},children:e.jsx(Ke,{component:N,to:`/architecture/${h.Z_PK}`,sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",height:"100%"},children:e.jsxs(je,{sx:{width:"100%",flexGrow:1},children:[e.jsx(l,{gutterBottom:!0,variant:"h6",component:"h2",children:h.ZAR_TITLE}),e.jsxs(o,{sx:{display:"flex",flexDirection:"column",gap:1,mt:2},children:[h.ZAR_ARCHITECT&&e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Rt,{fontSize:"small",color:"action"}),e.jsx(l,{variant:"body2",color:"text.secondary",children:h.ZAR_ARCHITECT})]}),h.ZAR_ADDRESS&&e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Ue,{fontSize:"small",color:"action"}),e.jsx(l,{variant:"body2",color:"text.secondary",children:h.ZAR_ADDRESS})]}),h.ZAR_YEAR&&h.ZAR_YEAR>0&&e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(St,{fontSize:"small",color:"action"}),e.jsxs(l,{variant:"body2",color:"text.secondary",children:[h.ZAR_YEAR,"Âπ¥"]})]})]})]})})})},h.Z_PK))}),de>1&&e.jsx(o,{sx:{display:"flex",justifyContent:"center",mt:4},children:e.jsx(ze,{count:de,page:c,onChange:ce,color:"primary"})})]})]})};delete kt.Icon.Default.prototype._getIconUrl;kt.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png"});const Ge=({markers:r=[],center:t,zoom:s=13,height:g="500px",singleMarker:d})=>{const[m,c]=u.useState(t);return u.useEffect(()=>{d&&d.latitude&&d.longitude?c([d.latitude,d.longitude]):t&&c(t)},[d,t]),e.jsx("div",{style:{height:g,width:"100%",marginBottom:"20px"},children:e.jsxs(jr,{center:m,zoom:s,style:{height:"100%",width:"100%"},children:[e.jsx(yr,{attribution:'¬© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.map((i,n)=>i.latitude&&i.longitude?e.jsx(ct,{position:[i.latitude,i.longitude],children:e.jsxs(dt,{children:[e.jsx(l,{variant:"h6",children:i.name}),e.jsx(l,{variant:"body2",children:i.location}),e.jsx($,{component:N,to:`/architecture/${i.id}`,size:"small",variant:"outlined",sx:{mt:1},children:"Ë©≥Á¥∞„ÇíË¶ã„Çã"})]})},`marker-${i.id||n}`):null),d&&d.latitude&&d.longitude&&e.jsx(ct,{position:[d.latitude,d.longitude],children:e.jsxs(dt,{children:[e.jsx(l,{variant:"h6",children:d.name}),e.jsx(l,{variant:"body2",children:d.location})]})})]})})},kr=()=>{const{id:r}=It(),[t,s]=u.useState(null),[g,d]=u.useState(!0),[m,c]=u.useState(null),i=Ve();if(u.useEffect(()=>{(async()=>{d(!0);try{const L=await Wt(r);if(!L)throw new Error("Âª∫ÁØâ‰ΩúÂìÅ„ÅÆÂèñÂæó„Å´Â§±Êïó„Åó„Åæ„Åó„Åü");s(L)}catch(L){console.error("Error fetching work:",L),c(L.message)}finally{d(!1)}})()},[r]),g)return e.jsx(o,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:e.jsx(ve,{})});if(m)return e.jsxs(ne,{children:[e.jsxs(l,{variant:"h5",color:"error",sx:{textAlign:"center",my:4},children:["„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü: ",m]}),e.jsx($,{variant:"contained",component:N,to:"/architecture",startIcon:e.jsx(We,{}),children:"Âª∫ÁØâ‰ΩúÂìÅ‰∏ÄË¶ß„Å´Êàª„Çã"})]});if(!t)return e.jsxs(ne,{children:[e.jsx(l,{variant:"h5",sx:{textAlign:"center",my:4},children:"Âª∫ÁØâ‰ΩúÂìÅ„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü"}),e.jsx($,{variant:"contained",component:N,to:"/architecture",startIcon:e.jsx(We,{}),children:"Âª∫ÁØâ‰ΩúÂìÅ‰∏ÄË¶ß„Å´Êàª„Çã"})]});const n=t.tag?t.tag.split(",").filter(S=>S.trim()!==""&&!S.includes("„ÅÆËøΩÂä†Âª∫ÁØâ")):[],j=n.find(S=>S.includes("Êñ∞Âª∫ÁØâ")),x=j?j.replace("Êñ∞Âª∫ÁØâ",""):"",w=S=>{console.log(`„Çø„Ç∞„Åå„ÇØ„É™„ÉÉ„ÇØ„Åï„Çå„Åæ„Åó„Åü: ${S}`),i(`/architecture?tag=${encodeURIComponent(S)}`)},_=(S,L)=>{const E=`${S} ${L?.name||""} Âª∫ÁØâ`;return`https://www.google.com/search?q=${encodeURIComponent(E)}&tbm=isch`},W=S=>`https://ja.wikipedia.org/wiki/Special:Search?search=${encodeURIComponent(S)}`;return e.jsxs(ne,{maxWidth:"lg",sx:{py:4},children:[e.jsx($,{variant:"outlined",component:N,to:"/architecture",startIcon:e.jsx(We,{}),sx:{mb:3},children:"Âª∫ÁØâ‰ΩúÂìÅ‰∏ÄË¶ß„Å´Êàª„Çã"}),e.jsxs(ie,{sx:{p:3,mb:4},children:[e.jsxs(o,{sx:{mb:2},children:[e.jsx(l,{variant:"h4",component:"h1",gutterBottom:!0,children:t.name||"ÁÑ°È°å"}),t.location&&e.jsxs(l,{variant:"subtitle1",color:"text.secondary",gutterBottom:!0,children:[e.jsx(Ue,{fontSize:"small",sx:{verticalAlign:"middle",mr:.5}}),t.location]}),e.jsxs(o,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:[t.completedYear!==0&&e.jsx(B,{icon:e.jsx(St,{}),label:`${t.completedYear}Âπ¥`,variant:"outlined",size:"small",onClick:()=>i(`/architecture?year=${t.completedYear}`),clickable:!0}),t.city&&e.jsx(B,{icon:e.jsx(Ue,{}),label:t.city,variant:"outlined",size:"small",onClick:()=>i(`/architecture?prefecture=${encodeURIComponent(t.city)}`),clickable:!0}),t.architect&&t.architect.name&&e.jsx(B,{icon:e.jsx(Rt,{}),label:t.architect.name,component:N,to:`/architects/${t.architect.id}`,clickable:!0,color:"primary",size:"small"}),t.bigCategory&&e.jsx(B,{icon:e.jsx(st,{}),label:t.bigCategory,variant:"outlined",size:"small",onClick:()=>i(`/architecture?category=${encodeURIComponent(t.bigCategory)}`),clickable:!0}),t.category&&t.category!==t.bigCategory&&e.jsx(B,{icon:e.jsx(st,{}),label:t.category,variant:"outlined",size:"small",onClick:()=>i(`/architecture?category=${encodeURIComponent(t.category)}`),clickable:!0})]}),n.length>0&&e.jsx(o,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:n.map((S,L)=>e.jsx(B,{icon:e.jsx(wt,{}),label:S,onClick:()=>w(S),clickable:!0,color:"secondary",variant:"outlined",size:"small"},L))})]}),e.jsx(Qe,{sx:{my:3}}),e.jsxs(o,{sx:{mb:3,display:"flex",flexDirection:"row",gap:1},children:[t.shinkenchikuUrl&&e.jsx(Ae,{title:"Êñ∞Âª∫ÁØâ„Éá„Éº„Çø„ÅßË¶ã„Çã",children:e.jsxs($,{variant:"contained",href:t.shinkenchikuUrl,target:"_blank",rel:"noopener noreferrer",size:"small",sx:{backgroundColor:"#003366",color:"#ffffff","&:hover":{backgroundColor:"#002244"}},children:[e.jsx(o,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mr:.5},children:e.jsx("img",{src:"https://data.shinkenchiku.online/favicon.ico",alt:"Êñ∞Âª∫ÁØâ„Éá„Éº„Çø",style:{height:"16px",width:"auto",marginRight:"4px"}})}),x&&e.jsx(l,{variant:"caption",children:x})]})}),e.jsx(Ae,{title:"GoogleÁîªÂÉèÊ§úÁ¥¢",children:e.jsx($,{href:_(t.name,t.architect),target:"_blank",rel:"noopener noreferrer",startIcon:e.jsx(Vt,{}),variant:"contained",size:"small",sx:{backgroundColor:"#4285F4",color:"#ffffff","&:hover":{backgroundColor:"#3367D6"}},children:"ÁîªÂÉè"})}),e.jsx(Ae,{title:"Wikipedia„ÅßÊ§úÁ¥¢",children:e.jsx($,{href:W(t.name),target:"_blank",rel:"noopener noreferrer",startIcon:e.jsx(Xt,{}),variant:"contained",size:"small",sx:{backgroundColor:"#333333",color:"#ffffff","&:hover":{backgroundColor:"#222222"}},children:"Wikipedia"})})]}),t.description&&e.jsxs(o,{sx:{mt:3},children:[e.jsx(l,{variant:"h6",gutterBottom:!0,children:"Ê¶ÇË¶Å"}),e.jsx(l,{variant:"body1",paragraph:!0,sx:{whiteSpace:"pre-line"},children:t.description})]}),t.latitude&&t.longitude&&e.jsxs(o,{sx:{mt:3},children:[e.jsx(l,{variant:"h6",gutterBottom:!0,children:"‰ΩçÁΩÆÊÉÖÂ†±"}),e.jsx(o,{sx:{height:"400px",width:"100%",mt:2,border:"1px solid #eee",borderRadius:"4px",overflow:"hidden"},children:e.jsx(Ge,{singleMarker:{id:t.id||0,latitude:t.latitude,longitude:t.longitude,name:t.name,location:t.location},center:[t.latitude,t.longitude],zoom:15})})]})]})]})},$r=async r=>Xe("SELECT * FROM ZCDARCHITECT WHERE ZAR_ID = ?",[r]),_r=async(r=1,t=12,s="",g=[],d="ZAR_NAME",m="asc",c={})=>{const i=(r-1)*t;let n="1=1";const j=[];s&&(n+=" AND (ZAR_NAME LIKE ? OR ZAR_KANA LIKE ? OR ZAR_NAMEENG LIKE ?)",j.push(`%${s}%`,`%${s}%`,`%${s}%`)),c.nationality&&(n+=" AND ZAR_NATIONALITY = ?",j.push(c.nationality)),c.category&&(n+=" AND ZAR_CATEGORY = ?",j.push(c.category)),c.school&&(n+=" AND ZAR_SCHOOL = ?",j.push(c.school)),c.birthYearFrom&&(n+=" AND ZAR_BIRTHYEAR >= ?",j.push(c.birthYearFrom)),c.birthYearTo&&(n+=" AND ZAR_BIRTHYEAR <= ?",j.push(c.birthYearTo)),c.deathYear&&(n+=" AND ZAR_DEATHYEAR = ?",j.push(c.deathYear));let x="";g&&g.length>0&&(x=`
      INNER JOIN ZCDARCHITECT_TAG ON ZCDARCHITECT.ZAR_ID = ZCDARCHITECT_TAG.ARCHITECT_ID
      INNER JOIN ZCDTAG ON ZCDARCHITECT_TAG.TAG_ID = ZCDTAG.TAG_ID
    `,n+=" AND ZCDTAG.TAG_NAME IN (",n+=g.map(()=>"?").join(","),n+=")",j.push(...g));const w=`
    SELECT COUNT(DISTINCT ZCDARCHITECT.ZAR_ID) as total
    FROM ZCDARCHITECT
    ${x}
    WHERE ${n}
  `,_=`
    SELECT DISTINCT ZCDARCHITECT.*
    FROM ZCDARCHITECT
    ${x}
    WHERE ${n}
    ORDER BY ${d} ${m==="desc"?"DESC":"ASC"}
    LIMIT ? OFFSET ?
  `,W=[...j,t,i];try{const L=(await Xe(w,j))?.total||0;return{results:await Ye(_,W),total:L,page:r,limit:t,totalPages:Math.ceil(L/t)}}catch(S){throw console.error("Âª∫ÁØâÂÆ∂„Éá„Éº„ÇøÂèñÂæó„Ç®„É©„Éº:",S),S}},Lr=async()=>Ye(`
    SELECT TAG_ID, TAG_NAME, COUNT(ARCHITECT_ID) as TAG_COUNT
    FROM ZCDTAG
    LEFT JOIN ZCDARCHITECT_TAG ON ZCDTAG.TAG_ID = ZCDARCHITECT_TAG.TAG_ID
    GROUP BY ZCDTAG.TAG_ID, ZCDTAG.TAG_NAME
    ORDER BY TAG_COUNT DESC, TAG_NAME
  `),Fr=()=>{console.log("ArchitectsPage „Ç≥„É≥„Éù„Éº„Éç„É≥„Éà„Åå„É¨„É≥„ÉÄ„É™„É≥„Ç∞„Åï„Çå„Åæ„Åó„Åü");const[r,t]=u.useState([]),[s,g]=u.useState(!0),[d,m]=u.useState(0),[c,i]=u.useState(0),[n,j]=u.useState(1),[x,w]=u.useState(""),[_,W]=u.useState([]),[S,L]=u.useState([]),[E,z]=u.useState([]),[f,y]=u.useState("name"),[p,T]=u.useState("asc"),[D,q]=u.useState(null),[A,be]=u.useState(""),[te,he]=u.useState({}),[oe,K]=u.useState(""),[J,H]=u.useState(""),[ce,Ce]=u.useState(""),[xe,ue]=u.useState(""),[Ie,De]=u.useState(""),[ge,me]=u.useState(""),Re=Ve(),de=Je(),h=new URLSearchParams(de.search);u.useEffect(()=>{console.log("tagMenuAnchorEl Áä∂ÊÖãÂ§âÊõ¥:",!!D)},[D]),u.useEffect(()=>{console.log("„Çø„Ç∞Ë™≠„ÅøËæº„Åø„ÅÆuseEffect„ÅåÂÆüË°å„Åï„Çå„Åæ„Åó„Åü"),(async()=>{try{console.log("Âª∫ÁØâÂÆ∂„Çø„Ç∞ÂèñÂæóÈñãÂßã");const C=await Lr();console.log("ÂèñÂæó„Åó„ÅüÂª∫ÁØâÂÆ∂„Çø„Ç∞:",C),z(["ÂõΩÁ±ç","„Ç´„ÉÜ„Ç¥„É™„Éº","Â≠¶Ê†°","ÁîüÂπ¥","Ê≤°Âπ¥"])}catch(C){console.error("„Çø„Ç∞ÂèñÂæó„Ç®„É©„Éº:",C)}})()},[]),u.useEffect(()=>{console.log("Âª∫ÁØâÂÆ∂„Éá„Éº„ÇøË™≠„ÅøËæº„Åø„ÅÆuseEffect„ÅåÂÆüË°å„Åï„Çå„Åæ„Åó„Åü",de.search),(async()=>{g(!0);try{const C=parseInt(h.get("page")||"1"),I=h.get("search")||"",X=h.get("tags")?h.get("tags").split(","):[],P=h.get("sortBy")||"name",U=h.get("sortOrder")||"asc",ae=h.get("nationality")||"",Oe=h.get("category")||"",Be=h.get("school")||"",ke=h.get("birthYearFrom")||"",$e=h.get("birthYearTo")||"",_e=h.get("deathYear")||"";console.log("URL„Åã„ÇâË™≠„ÅøÂèñ„Å£„Åü„Éë„É©„É°„Éº„Çø:",{page:C,search:I,tags:X,sort:P,order:U,nat:ae,cat:Oe,sch:Be,birthFrom:ke,birthTo:$e,death:_e}),j(C),w(I),W(X),y(P),T(U),K(ae),H(Oe),Ce(Be),ue(ke),De($e),me(_e),console.log("Âª∫ÁØâÂÆ∂„Éá„Éº„ÇøÂèñÂæóÈñãÂßã:",{page:C,search:I,tags:X,sort:P,order:U,nat:ae,cat:Oe,sch:Be,birthFrom:ke,birthTo:$e,death:_e});const Pe=await _r(C,10,I,X,P,U,ae,Oe,Be,ke?parseInt(ke):0,$e?parseInt($e):0,_e?parseInt(_e):0);console.log("ÂèñÂæó„Åó„ÅüÂª∫ÁØâÂÆ∂„Éá„Éº„Çø:",Pe),t(Pe.items),m(Pe.totalPages),i(Pe.total)}catch(C){console.error("Âª∫ÁØâÂÆ∂„Éá„Éº„ÇøÂèñÂæó„Ç®„É©„Éº:",C)}finally{g(!1)}})()},[de.search]);const b=async a=>{console.log(`${a}„ÅÆÂπ¥Â∫¶ÂèñÂæóÈñãÂßã`);let C="";if(a==="ÂõΩÁ±ç"?C="SELECT DISTINCT ZAT_NATIONALITY as value FROM ZCDARCHITECT WHERE ZAT_NATIONALITY != '' ORDER BY ZAT_NATIONALITY":a==="„Ç´„ÉÜ„Ç¥„É™„Éº"?C="SELECT DISTINCT ZAT_CATEGORY as value FROM ZCDARCHITECT WHERE ZAT_CATEGORY != '' ORDER BY ZAT_CATEGORY":a==="Â≠¶Ê†°"?C="SELECT DISTINCT ZAT_SCHOOL as value FROM ZCDARCHITECT WHERE ZAT_SCHOOL != '' ORDER BY ZAT_SCHOOL":a==="ÁîüÂπ¥"?C="SELECT DISTINCT ZAT_BIRTHYEAR as value FROM ZCDARCHITECT WHERE ZAT_BIRTHYEAR > 0 ORDER BY ZAT_BIRTHYEAR DESC":a==="Ê≤°Âπ¥"&&(C="SELECT DISTINCT ZAT_DEATHYEAR as value FROM ZCDARCHITECT WHERE ZAT_DEATHYEAR > 0 ORDER BY ZAT_DEATHYEAR DESC"),!C)return[];try{return(await Ye(C)).map(X=>String(X.value)).filter(Boolean)}catch(I){return console.error(`${a}„ÅÆÂÄ§ÂèñÂæó„Ç®„É©„Éº:`,I),[]}},R=async(a,C)=>{if(console.log(`${C}„ÅÆÂπ¥Â∫¶„É°„Éã„É•„Éº„ÇíÈñã„Åè`,a.currentTarget),q(a.currentTarget),be(C),!te[C])try{const I=await b(C);console.log(`ÂèñÂæó„Åó„Åü${C}„ÅÆÂπ¥Â∫¶:`,I),he(X=>({...X,[C]:I}))}catch(I){console.error(`${C}„ÅÆÂπ¥Â∫¶ÂèñÂæó„Ç®„É©„Éº:`,I)}},F=()=>{console.log("Âπ¥Â∫¶„É°„Éã„É•„Éº„ÇíÈñâ„Åò„Çã"),q(null),be("")},Q=a=>{console.log(`Âπ¥Â∫¶ÈÅ∏Êäû: ${a} („Çø„Ç∞: ${A})`),A==="ÂõΩÁ±ç"?K(a):A==="„Ç´„ÉÜ„Ç¥„É™„Éº"?H(a):A==="Â≠¶Ê†°"?Ce(a):A==="ÁîüÂπ¥"?ue(a):A==="Ê≤°Âπ¥"&&me(a),F(),Z()},Y=(a,C)=>{console.log("„Çø„Ç∞ÈÅ∏ÊäûÂ§âÊõ¥:",C),W(C);const I=_.filter(P=>!C.includes(P));for(const P of I)P==="ÂõΩÁ±ç"?K(""):P==="„Ç´„ÉÜ„Ç¥„É™„Éº"?H(""):P==="Â≠¶Ê†°"?Ce(""):P==="ÁîüÂπ¥"?(ue(""),De("")):P==="Ê≤°Âπ¥"&&me("");const X=C.filter(P=>!_.includes(P));X.length>0&&X.forEach(async P=>{if(!te[P])try{const U=await b(P);he(ae=>({...ae,[P]:U}))}catch(U){console.error(`${P}„ÅÆÂπ¥Â∫¶ÂèñÂæó„Ç®„É©„Éº:`,U)}}),Z()},O=(a,C)=>{console.log(`„Éö„Éº„Ç∏Â§âÊõ¥: ${C}`),j(C);const I=new URLSearchParams(de.search);I.set("page",C.toString()),Re({search:I.toString()})},k=()=>{console.log(`Ê§úÁ¥¢ÂÆüË°å: ${x}`),Z()},v=()=>{console.log("Ê§úÁ¥¢Êù°‰ª∂„Çí„ÇØ„É™„Ç¢"),w(""),W([]),L([]),K(""),H(""),Ce(""),ue(""),De(""),me(""),j(1);const a=new URLSearchParams;f!=="name"&&a.set("sortBy",f),p!=="asc"&&a.set("sortOrder",p),Re({search:a.toString()})},Z=()=>{console.log("URL„Å®Ê§úÁ¥¢„ÇíÊõ¥Êñ∞");const a=new URLSearchParams;n>1&&a.set("page",n.toString()),x&&a.set("search",x),_.length>0&&a.set("tags",_.join(",")),f!=="name"&&a.set("sortBy",f),p!=="asc"&&a.set("sortOrder",p),oe&&a.set("nationality",oe),J&&a.set("category",J),ce&&a.set("school",ce),xe&&a.set("birthYearFrom",xe),Ie&&a.set("birthYearTo",Ie),ge&&a.set("deathYear",ge),console.log("Êñ∞„Åó„ÅÑURL„Éë„É©„É°„Éº„Çø:",a.toString()),Re({search:a.toString()})},V=()=>{const a=[];return oe&&a.push({label:`ÂõΩÁ±ç: ${oe}`,onDelete:()=>{K(""),Z()}}),xe&&a.push({label:`ÁîüÂπ¥: ${xe}`,onDelete:()=>{ue(""),Z()}}),ge&&a.push({label:`Ê≤°Âπ¥: ${ge}`,onDelete:()=>{me(""),Z()}}),J&&a.push({label:`„Ç´„ÉÜ„Ç¥„É™„Éº: ${J}`,onDelete:()=>{H(""),Z()}}),ce&&a.push({label:`Â≠¶Ê†°: ${ce}`,onDelete:()=>{Ce(""),Z()}}),a.length===0&&!x&&_.length===0?null:e.jsx(o,{sx:{mb:3},children:e.jsx(at,{severity:"info",action:e.jsx($,{color:"inherit",size:"small",onClick:v,children:"„ÇØ„É™„Ç¢"}),children:a.length>0?`„Éï„Ç£„É´„Çø„Éº: ${a.map(C=>C.label).join(", ")}`:x?`„Äå${x}„Äç„ÅßÊ§úÁ¥¢‰∏≠`:_.length>0?`„Çø„Ç∞„Äå${_.join(", ")}„Äç„ÅßÁµû„ÇäËæº„Åø‰∏≠`:""})})};return e.jsxs(ne,{maxWidth:"lg",sx:{py:4},children:[e.jsx(l,{variant:"h4",component:"h1",gutterBottom:!0,children:"Âª∫ÁØâÂÆ∂‰∏ÄË¶ß"}),e.jsxs(ie,{sx:{p:3,mb:4},children:[e.jsxs(o,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2,mb:3},children:[e.jsx(Te,{fullWidth:!0,label:"Âª∫ÁØâÂÆ∂Âêç„ÄÅÂõΩÁ±ç„ÄÅ„Ç´„ÉÜ„Ç¥„É™„Éº„ÅßÊ§úÁ¥¢",value:x,onChange:a=>w(a.target.value),onKeyPress:a=>a.key==="Enter"&&k(),InputProps:{startAdornment:e.jsx(rt,{position:"start",children:e.jsx(qe,{})})}}),e.jsx($,{variant:"contained",onClick:k,sx:{minWidth:"120px"},children:"Ê§úÁ¥¢"})]}),e.jsxs(o,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:2,mb:3,alignItems:"flex-start"},children:[e.jsx(bt,{multiple:!0,id:"tags-selector",options:E,value:_,onChange:Y,fullWidth:!0,renderInput:a=>e.jsx(Te,{...a,variant:"outlined",label:"„Çø„Ç∞„ÅßÁµû„ÇäËæº„Åø",placeholder:"„Çø„Ç∞„ÇíÈÅ∏Êäû"}),renderTags:(a,C)=>a.map((I,X)=>{const P=!!(te[I]&&te[I].length>0);let U="";return I==="ÂõΩÁ±ç"?U=oe:I==="„Ç´„ÉÜ„Ç¥„É™„Éº"?U=J:I==="Â≠¶Ê†°"?U=ce:I==="ÁîüÂπ¥"?U=xe:I==="Ê≤°Âπ¥"&&(U=ge),e.jsx(B,{label:e.jsxs(o,{sx:{display:"flex",alignItems:"center"},children:[I,U&&e.jsx(l,{variant:"caption",sx:{ml:.5,fontWeight:"bold",backgroundColor:"rgba(0, 0, 0, 0.08)",borderRadius:"4px",px:.5,py:.2},children:U}),P&&e.jsx(Ct,{fontSize:"small"})]}),...C({index:X}),color:U?"primary":"default",variant:"outlined",onClick:ae=>{ae.stopPropagation(),R(ae,I)},onDelete:ae=>{C({index:X}).onDelete(ae)},sx:{maxWidth:"100%","& .MuiChip-label":{overflow:"hidden",whiteSpace:"nowrap"}}},I)})}),e.jsxs(Et,{sx:{minWidth:200},children:[e.jsx(At,{id:"sort-select-label",children:"‰∏¶„Å≥Êõø„Åà"}),e.jsxs(Tt,{labelId:"sort-select-label",value:`${f}_${p}`,label:"‰∏¶„Å≥Êõø„Åà",onChange:a=>{const[C,I]=a.target.value.split("_");y(C),T(I),Z()},children:[e.jsx(re,{value:"name_asc",children:"ÂêçÂâç (ÊòáÈ†Ü)"}),e.jsx(re,{value:"name_desc",children:"ÂêçÂâç (ÈôçÈ†Ü)"}),e.jsx(re,{value:"birthYear_asc",children:"ÁîüÂπ¥ (ÊòáÈ†Ü)"}),e.jsx(re,{value:"birthYear_desc",children:"ÁîüÂπ¥ (ÈôçÈ†Ü)"}),e.jsx(re,{value:"nationality_asc",children:"ÂõΩÁ±ç (ÊòáÈ†Ü)"}),e.jsx(re,{value:"nationality_desc",children:"ÂõΩÁ±ç (ÈôçÈ†Ü)"})]})]})]}),e.jsx(vt,{open:!!D,anchorEl:D,onClose:F,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:e.jsxs(o,{sx:{p:2,width:300,maxHeight:400,overflow:"auto"},children:[e.jsx(l,{variant:"subtitle1",gutterBottom:!0,children:A==="ÂõΩÁ±ç"?"ÂõΩÁ±ç„ÇíÈÅ∏Êäû":A==="„Ç´„ÉÜ„Ç¥„É™„Éº"?"„Ç´„ÉÜ„Ç¥„É™„Éº„ÇíÈÅ∏Êäû":A==="Â≠¶Ê†°"?"Â≠¶Ê†°„ÇíÈÅ∏Êäû":A==="ÁîüÂπ¥"?"ÁîüÂπ¥„ÇíÈÅ∏Êäû":A==="Ê≤°Âπ¥"?"Ê≤°Âπ¥„ÇíÈÅ∏Êäû":"„Çø„Ç∞ÂÄ§„ÇíÈÅ∏Êäû"}),e.jsxs(o,{sx:{display:"flex",flexWrap:"wrap",gap:1,mt:1},children:[e.jsx(B,{label:"ÊåáÂÆö„Å™„Åó",onClick:()=>Q(""),variant:"outlined",size:"small",sx:{mb:1}}),te[A]?.map(a=>e.jsx(B,{label:a,onClick:()=>Q(a),variant:"outlined",size:"small",color:A==="ÂõΩÁ±ç"&&a===oe||A==="„Ç´„ÉÜ„Ç¥„É™„Éº"&&a===J||A==="Â≠¶Ê†°"&&a===ce||A==="ÁîüÂπ¥"&&a===xe||A==="Ê≤°Âπ¥"&&a===ge?"primary":"default",sx:{overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"}},a))]})]})}),e.jsx(V,{}),e.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsxs(l,{variant:"body2",color:"text.secondary",children:[c,"‰∫∫„ÅÆÂª∫ÁØâÂÆ∂"]}),d>1&&e.jsx(ze,{count:d,page:n,onChange:O,color:"primary",size:"small"})]})]}),s?e.jsx(o,{sx:{display:"flex",justifyContent:"center",py:4},children:e.jsx(ve,{})}):e.jsxs(e.Fragment,{children:[r.length===0?e.jsxs(o,{sx:{textAlign:"center",py:4},children:[e.jsx(l,{variant:"h6",children:"Âª∫ÁØâÂÆ∂„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü"}),e.jsx(l,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Ê§úÁ¥¢Êù°‰ª∂„ÇíÂ§âÊõ¥„Åó„Å¶„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ"})]}):e.jsx(M,{container:!0,spacing:3,children:r.map(a=>e.jsx(M,{item:!0,xs:12,sm:6,md:4,children:e.jsx(pe,{sx:{height:"100%",display:"flex",flexDirection:"column",transition:"transform 0.2s","&:hover":{transform:"scale(1.02)"}},children:e.jsx(Ke,{component:N,to:`/architects/${a.id}`,children:e.jsxs(je,{children:[e.jsx(l,{variant:"h6",component:"div",gutterBottom:!0,children:a.name}),e.jsxs(l,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:[a.nationality," ‚Ä¢ ",a.birthYear||"?","-",a.deathYear||"ÁèæÂú®"]}),e.jsx(o,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mt:1},children:a.tags&&a.tags.map(C=>e.jsx(B,{label:C,size:"small",variant:"outlined",sx:{pointerEvents:"none"}},C))})]})})})},a.id))}),d>1&&e.jsx(o,{sx:{display:"flex",justifyContent:"center",mt:4},children:e.jsx(ze,{count:d,page:n,onChange:O,color:"primary"})})]})]})},Wr=({architectures:r,compact:t=!1})=>!r||r.length===0?e.jsx(l,{variant:"body2",color:"text.secondary",children:"ÁôªÈå≤„Åï„Çå„Å¶„ÅÑ„Çã‰ΩúÂìÅ„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ"}):e.jsx(M,{container:!0,spacing:t?2:3,children:r.map(s=>e.jsx(M,{item:!0,xs:12,sm:6,md:t?6:4,children:e.jsx(pe,{sx:{height:"100%",display:"flex",flexDirection:"column",transition:"transform 0.2s","&:hover":{transform:"scale(1.02)"}},children:e.jsx(Ke,{component:N,to:`/architecture/${s.id}`,sx:{flexGrow:1},children:e.jsxs(je,{children:[e.jsx(l,{gutterBottom:!0,variant:"h6",component:"h2",children:s.name}),s.completedYear>0&&e.jsxs(o,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(er,{fontSize:"small",sx:{mr:1,color:"text.secondary"}}),e.jsxs(l,{variant:"body2",color:"text.secondary",children:[s.completedYear,"Âπ¥"]})]}),(s.city||s.location)&&e.jsxs(o,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(Ue,{fontSize:"small",sx:{mr:1,color:"text.secondary"}}),e.jsxs(l,{variant:"body2",color:"text.secondary",children:[s.city?s.city:"",s.city&&s.location?" / ":"",s.location?s.location:""]})]}),s.tag&&e.jsx(o,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mt:1},children:s.tag.split(",").filter(g=>g.trim()!==""&&!g.includes("„ÅÆËøΩÂä†Âª∫ÁØâ")).map((g,d)=>e.jsx(B,{label:g.trim(),size:"small",color:"secondary",variant:"outlined",sx:{height:"20px",fontSize:"0.65rem"}},d))})]})})})},s.id))}),Yr=()=>e.jsx(o,{component:"span",sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:24,height:24},children:e.jsx(l,{variant:"caption",component:"span",sx:{fontFamily:"serif",fontWeight:"bold",fontSize:"16px"},children:"W"})}),Or=()=>{const{id:r}=It(),[t,s]=u.useState(null),[g,d]=u.useState(!0),[m,c]=u.useState(null),[i,n]=u.useState([]),j=Ve();u.useEffect(()=>{r&&(async()=>{d(!0);try{const y=await $r(parseInt(r));if(!y){c("Âª∫ÁØâÂÆ∂ÊÉÖÂ†±„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇ"),d(!1);return}s(y);const p=[];if(y.teacher1){const T={name:y.teacher1,id:null};try{T.id=await x(y.teacher1)}catch(D){console.error("ÊïôÂ∏´ÊÉÖÂ†±„ÅÆÂèñÂæó„Å´Â§±Êïó:",D)}p.push(T)}if(y.teacher2){const T={name:y.teacher2,id:null};try{T.id=await x(y.teacher2)}catch(D){console.error("ÊïôÂ∏´ÊÉÖÂ†±„ÅÆÂèñÂæó„Å´Â§±Êïó:",D)}p.push(T)}if(y.teacher3){const T={name:y.teacher3,id:null};try{T.id=await x(y.teacher3)}catch(D){console.error("ÊïôÂ∏´ÊÉÖÂ†±„ÅÆÂèñÂæó„Å´Â§±Êïó:",D)}p.push(T)}n(p)}catch(y){console.error("Âª∫ÁØâÂÆ∂„Éá„Éº„ÇøÂèñÂæó„Ç®„É©„Éº:",y),c("Âª∫ÁØâÂÆ∂ÊÉÖÂ†±„ÅÆË™≠„ÅøËæº„Åø‰∏≠„Å´„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü„ÄÇ")}finally{d(!1)}})()},[r]);const x=async f=>null,w=()=>{if(!t)return null;const f=[];if(t.school){let y=t.school;t.faculty&&(y+=` ${t.faculty}`),f.push(y)}return t.schoolAbroad&&f.push(t.schoolAbroad),f.length>0?f.join("„ÄÅ"):null},_=()=>!i||i.length===0?null:i.map((f,y)=>e.jsxs("span",{children:[y>0&&"„ÄÅ",f.id?e.jsx(dr,{component:N,to:`/architects/${f.id}`,color:"inherit",underline:"hover",children:f.name}):f.name]},y)),W=(f,y)=>{if(!y)return;let p="";switch(f){case"nationality":p=`nationality=${encodeURIComponent(y)}`;break;case"born":p=`birthyear_from=${encodeURIComponent(y)}&birthyear_to=${encodeURIComponent(y)}`;break;case"died":p=`deathyear=${encodeURIComponent(y)}`;break;case"category":p=`category=${encodeURIComponent(y)}`;break;default:return}j(`/architects?${p}`)},S=(f,y)=>{const p=`${f} ${y||""} Âª∫ÁØâÂÆ∂`;return`https://www.google.com/search?q=${encodeURIComponent(p)}`},L=f=>`https://ja.wikipedia.org/wiki/Special:Search?search=${encodeURIComponent(f)}`;if(g)return e.jsx(ne,{maxWidth:"lg",sx:{py:4},children:e.jsx(o,{sx:{display:"flex",justifyContent:"center",py:8},children:e.jsx(ve,{})})});if(m||!t)return e.jsx(ne,{maxWidth:"lg",sx:{py:4},children:e.jsxs(ie,{sx:{p:3},children:[e.jsx(l,{variant:"h5",color:"error",gutterBottom:!0,children:"„Ç®„É©„Éº"}),e.jsx(l,{paragraph:!0,children:m||"Âª∫ÁØâÂÆ∂ÊÉÖÂ†±„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇ"}),e.jsx($,{variant:"outlined",startIcon:e.jsx(We,{}),onClick:()=>j(-1),children:"Êàª„Çã"})]})});const E=new Set;t.works&&t.works.forEach(f=>{f.tag&&f.tag.split(",").forEach(p=>{const T=p.trim();T&&!T.includes("„ÅÆËøΩÂä†Âª∫ÁØâ")&&E.add(T)})});const z=[];if(t.nationality&&z.push(`nationality:${t.nationality}`),t.birthYear>0){const f=Math.floor(t.birthYear/10)*10;z.push(`born:${f}s`)}return t.deathYear>0&&z.push(`died:${t.deathYear}`),t.category&&z.push(`category:${t.category}`),t.school&&z.push(`school:${t.school}`),e.jsxs(ne,{maxWidth:"lg",sx:{py:4},children:[e.jsx($,{variant:"outlined",component:N,to:"/architects",startIcon:e.jsx(We,{}),sx:{mb:3},children:"Âª∫ÁØâÂÆ∂‰∏ÄË¶ß„Å´Êàª„Çã"}),e.jsxs(ie,{sx:{p:3,mb:4},children:[e.jsx(l,{variant:"h4",component:"h1",gutterBottom:!0,children:t.name||"‰∏çÊòé"}),e.jsxs(o,{sx:{display:"flex",flexWrap:"wrap",gap:2,my:3},children:[t.nationality&&e.jsx(B,{icon:e.jsx(tr,{}),label:`nationality:${t.nationality}`,variant:"outlined",onClick:()=>W("nationality",t.nationality),clickable:!0}),t.birthYear>0&&e.jsx(B,{icon:e.jsx(rr,{}),label:`born:${Math.floor(t.birthYear/10)*10}s`,variant:"outlined",onClick:()=>W("born",Math.floor(t.birthYear/10)*10),clickable:!0}),t.deathYear>0&&e.jsx(B,{icon:e.jsx(sr,{}),label:`died:${t.deathYear}`,variant:"outlined",onClick:()=>W("died",t.deathYear),clickable:!0}),t.category&&e.jsx(B,{icon:e.jsx(st,{}),label:`category:${t.category}`,variant:"outlined",onClick:()=>W("category",t.category),clickable:!0}),t.office&&e.jsx(B,{icon:e.jsx(nr,{}),label:t.office,variant:"outlined"})]}),e.jsx(Qe,{sx:{my:3}}),e.jsxs(o,{sx:{mb:3,display:"flex",flexDirection:"row",gap:1},children:[t.website&&e.jsx(Ae,{title:"ÂÖ¨Âºè„Éõ„Éº„É†„Éö„Éº„Ç∏",children:e.jsx($,{href:t.website.startsWith("http")?t.website:`http://${t.website}`,target:"_blank",rel:"noopener noreferrer",startIcon:e.jsx(or,{}),variant:"contained",size:"small",sx:{backgroundColor:"#4caf50",color:"#ffffff","&:hover":{backgroundColor:"#388e3c"}},children:"„Éõ„Éº„É†„Éö„Éº„Ç∏"})}),e.jsx(Ae,{title:"GoogleÊ§úÁ¥¢",children:e.jsx($,{href:S(t.name,t.nationality),target:"_blank",rel:"noopener noreferrer",startIcon:e.jsx(qe,{}),variant:"contained",size:"small",sx:{backgroundColor:"#4285F4",color:"#ffffff","&:hover":{backgroundColor:"#3367D6"}},children:"Ê§úÁ¥¢"})}),e.jsx(Ae,{title:"Wikipedia„ÅßÊ§úÁ¥¢",children:e.jsx($,{href:L(t.name),target:"_blank",rel:"noopener noreferrer",startIcon:e.jsx(Yr,{}),variant:"contained",size:"small",sx:{backgroundColor:"#333333",color:"#ffffff","&:hover":{backgroundColor:"#222222"}},children:"Wikipedia"})})]}),e.jsx(ar,{component:ie,variant:"outlined",sx:{mb:4},children:e.jsx(ir,{children:e.jsxs(lr,{children:[t.nationality&&e.jsxs(fe,{children:[e.jsx(G,{component:"th",sx:{width:"30%",bgcolor:"rgba(0, 0, 0, 0.03)"},children:e.jsx(l,{variant:"subtitle2",children:"ÂõΩÁ±ç"})}),e.jsx(G,{children:t.nationality})]}),(t.birthYear>0||t.deathYear>0)&&e.jsxs(fe,{children:[e.jsx(G,{component:"th",sx:{width:"30%",bgcolor:"rgba(0, 0, 0, 0.03)"},children:e.jsx(l,{variant:"subtitle2",children:"ÁîüÂπ¥ - Ê≤°Âπ¥"})}),e.jsxs(G,{children:[t.birthYear>0?`${t.birthYear}Âπ¥`:"‰∏çÊòé",t.deathYear>0?` - ${t.deathYear}Âπ¥`:""]})]}),t.office&&e.jsxs(fe,{children:[e.jsx(G,{component:"th",sx:{width:"30%",bgcolor:"rgba(0, 0, 0, 0.03)"},children:e.jsx(l,{variant:"subtitle2",children:"‰∫ãÂãôÊâÄ"})}),e.jsx(G,{children:t.office})]}),t.prefecture&&e.jsxs(fe,{children:[e.jsx(G,{component:"th",sx:{width:"30%",bgcolor:"rgba(0, 0, 0, 0.03)"},children:e.jsx(l,{variant:"subtitle2",children:"Êã†ÁÇπ"})}),e.jsx(G,{children:t.prefecture})]}),t.nameEn&&e.jsxs(fe,{children:[e.jsx(G,{component:"th",sx:{width:"30%",bgcolor:"rgba(0, 0, 0, 0.03)"},children:e.jsx(l,{variant:"subtitle2",children:"Ëã±Ë™ûË°®Ë®ò"})}),e.jsx(G,{children:t.nameEn})]}),(t.school||t.faculty||t.schoolAbroad)&&e.jsxs(fe,{children:[e.jsx(G,{component:"th",sx:{width:"30%",bgcolor:"rgba(0, 0, 0, 0.03)"},children:e.jsx(l,{variant:"subtitle2",children:"ÊïôËÇ≤ËÉåÊôØ"})}),e.jsx(G,{children:e.jsxs(o,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(cr,{sx:{mr:1,fontSize:"1rem",color:"text.secondary"}}),e.jsx(l,{variant:"body2",children:w()})]})})]}),(t.teacher1||t.teacher2||t.teacher3)&&e.jsxs(fe,{children:[e.jsx(G,{component:"th",sx:{width:"30%",bgcolor:"rgba(0, 0, 0, 0.03)"},children:e.jsx(l,{variant:"subtitle2",children:"Â∏´‰∫ã„Åó„ÅüÂª∫ÁØâÂÆ∂"})}),e.jsx(G,{children:e.jsx(o,{sx:{display:"flex",flexDirection:"column",gap:1},children:_()})})]}),t.category&&e.jsxs(fe,{children:[e.jsx(G,{component:"th",sx:{width:"30%",bgcolor:"rgba(0, 0, 0, 0.03)"},children:e.jsx(l,{variant:"subtitle2",children:"„Ç´„ÉÜ„Ç¥„É™„Éº"})}),e.jsx(G,{children:t.category})]})]})})}),E.size>0&&e.jsxs(o,{sx:{mb:4},children:[e.jsx(l,{variant:"h6",gutterBottom:!0,children:"ÂèóË≥ûÊ≠¥„ÉªÈÅ∏ÂÆö"}),e.jsx(o,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:Array.from(E).map((f,y)=>e.jsx(B,{icon:e.jsx(wt,{}),label:String(f),onClick:()=>W("category",f),clickable:!0,color:"secondary",variant:"outlined",size:"small"},y))})]}),t.bio&&e.jsxs(o,{sx:{mb:4},children:[e.jsx(l,{variant:"h6",gutterBottom:!0,children:"ÁµåÊ≠¥"}),e.jsx(l,{variant:"body1",sx:{whiteSpace:"pre-line"},children:t.bio})]}),t.works&&t.works.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs(o,{sx:{mb:4},children:[e.jsx(l,{variant:"h6",gutterBottom:!0,children:"‰ΩúÂìÅ„Éû„ÉÉ„Éó"}),t.works.some(f=>f.latitude&&f.longitude)?e.jsx(o,{sx:{height:"400px",width:"100%",mb:3,border:"1px solid #eee",borderRadius:"4px",overflow:"hidden"},children:e.jsx(Ge,{markers:t.works.filter(f=>f.latitude&&f.longitude),zoom:5,center:[t.works[0].latitude||35.6762,t.works[0].longitude||139.6503]})}):e.jsx(l,{variant:"body2",color:"text.secondary",children:"‰ΩçÁΩÆÊÉÖÂ†±„ÅåÁôªÈå≤„Åï„Çå„Å¶„ÅÑ„Çã‰ΩúÂìÅ„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ"})]}),e.jsxs(o,{sx:{mb:4},children:[e.jsx(l,{variant:"h6",gutterBottom:!0,children:"‰ª£Ë°®‰ΩúÂìÅ"}),e.jsx(Wr,{architectures:t.works})]})]})]})]})},Br=()=>{const[r,t]=u.useState(!0),[s,g]=u.useState([]),[d,m]=u.useState([]),[c,i]=u.useState({yearFrom:"",yearTo:""}),[n,j]=u.useState(!1),[x,w]=u.useState(null),[_,W]=u.useState(!1);u.useEffect(()=>{L()},[]);const S=p=>{if(!p||p.length===0)return{from:0,to:0};const T=p.filter(K=>K.completedYear>0);if(T.length===0)return{from:0,to:0};const D=T.map(K=>K.completedYear).sort((K,J)=>K-J),q=D[0],A=D[D.length-1],be=Math.min(100,Math.floor((A-q)/2)),te=Math.floor(Math.random()*(D.length-Math.floor(D.length/4))),he=D[te],oe=Math.min(he+be,A);return{from:he,to:oe}},L=async()=>{t(!0);try{const p=await Ot();if(m(p),!c.yearFrom&&!c.yearTo){const T=S(p);i({yearFrom:T.from.toString(),yearTo:T.to.toString()});const D=p.filter(q=>q.completedYear>=T.from&&q.completedYear<=T.to);g(D)}else{let T=p;c.yearFrom&&(T=T.filter(D=>D.completedYear>=parseInt(c.yearFrom))),c.yearTo&&(T=T.filter(D=>D.completedYear<=parseInt(c.yearTo))),g(T)}}catch(p){console.error("Error fetching works:",p)}finally{t(!1)}},E=p=>{const{name:T,value:D}=p.target;i({...c,[T]:D})},z=()=>{t(!0);let p=d;c.yearFrom&&(p=p.filter(T=>T.completedYear>=parseInt(c.yearFrom))),c.yearTo&&(p=p.filter(T=>T.completedYear<=parseInt(c.yearTo))),g(p),t(!1)},f=()=>{i({yearFrom:"",yearTo:""}),g(d)},y=p=>{w(p),W(!0)};return e.jsxs(ne,{maxWidth:"lg",sx:{py:4},children:[e.jsx(l,{variant:"h4",component:"h1",gutterBottom:!0,children:"Âª∫ÁØâÂú∞Âõ≥"}),e.jsxs(ie,{sx:{p:3,mb:4},children:[e.jsx($,{startIcon:e.jsx(hr,{}),onClick:()=>j(!n),sx:{mb:2},children:n?"„Éï„Ç£„É´„Çø„Éº„ÇíÈñâ„Åò„Çã":"„Éï„Ç£„É´„Çø„Éº„ÇíË°®Á§∫"}),n&&e.jsx(o,{sx:{mb:2},children:e.jsxs(M,{container:!0,spacing:2,children:[e.jsx(M,{item:!0,xs:12,sm:6,md:4,children:e.jsx(Te,{fullWidth:!0,label:"Âπ¥‰ª£Ôºà„Åã„ÇâÔºâ",name:"yearFrom",type:"number",value:c.yearFrom,onChange:E})}),e.jsx(M,{item:!0,xs:12,sm:6,md:4,children:e.jsx(Te,{fullWidth:!0,label:"Âπ¥‰ª£Ôºà„Åæ„ÅßÔºâ",name:"yearTo",type:"number",value:c.yearTo,onChange:E})}),e.jsx(M,{item:!0,xs:12,md:4,children:e.jsxs(o,{sx:{display:"flex",gap:1,height:"100%"},children:[e.jsx($,{variant:"contained",color:"primary",onClick:z,sx:{flexGrow:1},children:"„Éï„Ç£„É´„Çø„ÉºÈÅ©Áî®"}),e.jsx($,{variant:"outlined",onClick:f,sx:{flexGrow:1},children:"„ÇØ„É™„Ç¢"})]})})]})}),e.jsxs(o,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(we,{sx:{mr:1}}),e.jsxs(l,{variant:"body2",color:"text.secondary",children:["„Éû„ÉÉ„Éó‰∏ä„Å´Ë°®Á§∫„Åï„Çå„Åü‰ΩúÂìÅ: ",s.length,"‰ª∂ ",c.yearFrom&&c.yearTo&&`(${c.yearFrom}Âπ¥„Äú${c.yearTo}Âπ¥)`]})]})]}),r?e.jsx(o,{sx:{display:"flex",justifyContent:"center",py:4},children:e.jsx(ve,{})}):e.jsxs(o,{sx:{height:600,bgcolor:"grey.200",position:"relative",borderRadius:1},children:[e.jsx(Ge,{markers:s,height:"600px",zoom:5,center:[35.6762,139.6503]}),e.jsxs(o,{sx:{position:"absolute",top:16,right:16,width:320,maxHeight:568,overflow:"auto",bgcolor:"background.paper",borderRadius:1,boxShadow:3,p:2,zIndex:1e3},children:[e.jsx(l,{variant:"h6",gutterBottom:!0,children:"‰ΩúÂìÅ„É™„Çπ„Éà"}),s.length===0?e.jsx(l,{variant:"body2",children:"Êù°‰ª∂„Å´‰∏ÄËá¥„Åô„Çã‰ΩúÂìÅ„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì"}):e.jsx(pt,{dense:!0,children:s.map(p=>e.jsxs(Dt.Fragment,{children:[e.jsx(jt,{onClick:()=>y(p),sx:{cursor:"pointer",bgcolor:x&&x.id===p.id?"action.selected":"transparent","&:hover":{bgcolor:"action.hover"}},children:e.jsx(yt,{primary:p.name,secondary:e.jsxs(e.Fragment,{children:[p.architectName&&e.jsxs("span",{children:[p.architectName,e.jsx("br",{})]}),p.completedYear>0&&`${p.completedYear}Âπ¥ | `,p.city||""]})})}),e.jsx(Qe,{component:"li"})]},p.id))})]})]}),e.jsx(ft,{anchor:"right",open:_,onClose:()=>W(!1),children:x&&e.jsxs(o,{sx:{width:350,p:3},children:[e.jsx(l,{variant:"h5",gutterBottom:!0,children:x.name}),e.jsxs(o,{sx:{mb:3},children:[x.architectName&&e.jsx(l,{variant:"subtitle1",color:"text.secondary",children:x.architectName}),e.jsxs(l,{variant:"body2",children:[x.completedYear>0&&`${x.completedYear}Âπ¥`,x.city&&` | ${x.city}`]}),x.location&&e.jsx(l,{variant:"body2",sx:{mt:1},children:x.location})]}),e.jsx(o,{sx:{mb:3,height:200},children:e.jsx(Ge,{singleMarker:x,height:"200px",zoom:15,center:[x.latitude,x.longitude]})}),e.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[e.jsx($,{variant:"outlined",onClick:()=>W(!1),children:"Èñâ„Åò„Çã"}),e.jsx($,{variant:"contained",component:N,to:`/architecture/${x.id}`,children:"Ë©≥Á¥∞„ÇíË¶ã„Çã"})]})]})})]})};class Bt extends u.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t,errorInfo:null}}componentDidCatch(t,s){console.error("Uncaught error:",t,s),this.setState({error:t,errorInfo:s})}handleRetry=()=>{window.location.reload()};render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx(o,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:4,height:"100vh"},children:e.jsxs(ie,{elevation:3,sx:{padding:4,maxWidth:600,width:"100%",borderRadius:2,textAlign:"center"},children:[e.jsx(l,{variant:"h5",color:"error",gutterBottom:!0,children:"ÂïèÈ°å„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü"}),e.jsx(l,{variant:"body1",paragraph:!0,children:"„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„Åß‰∫àÊúü„Åó„Å™„ÅÑ„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü„ÄÇ „ÅäÊâãÊï∞„Åß„Åô„Åå„ÄÅÂÜçË™≠„ÅøËæº„Åø„Çí„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ„ÄÇ"}),!1,e.jsxs(o,{sx:{mt:3},children:[e.jsx($,{variant:"contained",color:"primary",onClick:this.handleRetry,sx:{mr:2},children:"„Éö„Éº„Ç∏„ÇíÂÜçË™≠„ÅøËæº„Åø"}),e.jsx($,{variant:"outlined",onClick:()=>window.location.href="/",children:"„Éõ„Éº„É†„Å´Êàª„Çã"})]})]})}):this.props.children}}const Pr=()=>{try{const r=window?.location?.hostname||"";return/github\.io$/.test(r)}catch(r){return console.error("Áí∞Â¢É„ÉÅ„Çß„ÉÉ„ÇØ„Ç®„É©„Éº:",r),!1}},Zr=async()=>{try{const t=Pr();console.log("„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥Áí∞Â¢É: Êú¨Áï™"),console.log(`GitHub PagesÁí∞Â¢É: ${t?"„ÅØ„ÅÑ":"„ÅÑ„ÅÑ„Åà"}`);try{const g=await fetch(t?"./db/database-info.json":"/db/database-info.json");if(g.ok){const d=await g.json();console.log("„Éá„Éº„Çø„Éô„Éº„ÇπÊÉÖÂ†±:"),console.log(`- „Éï„Ç°„Ç§„É´: ${d.database}`),console.log(`- Êõ¥Êñ∞Êó•ÊôÇ: ${d.date}`),console.log(`- „Çµ„Ç§„Ç∫: ${(d.size/1024/1024).toFixed(2)} MB`),console.log(`- „ÉÅ„É£„É≥„ÇØ: ${d.chunks} (${d.chunkSize/1024}KB)„ÅÆ„ÉÅ„É£„É≥„ÇØ`),console.log(`- „ÉÜ„Éº„Éñ„É´Êï∞: ${d.tables.length}`),console.log(`- „Ç§„É≥„Éá„ÉÉ„ÇØ„ÇπÊï∞: ${d.indexes.length}`)}else console.warn("„Éá„Éº„Çø„Éô„Éº„Çπ„É°„Çø„Éá„Éº„Çø„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì:",g.status)}catch(s){console.warn("„Éá„Éº„Çø„Éô„Éº„Çπ„É°„Çø„Éá„Éº„ÇøË™≠„ÅøËæº„Åø„Ç®„É©„Éº:",s)}}catch(r){console.error("„Éá„Éº„Çø„Éô„Éº„ÇπË®≠ÂÆö„É≠„Ç∞„Ç®„É©„Éº:",r)}},Nr=({children:r})=>{const[t,s]=u.useState(Rr()),[g,d]=u.useState(null),[m,c]=u.useState(0);return u.useEffect(()=>{let i=!0,n;return(async()=>{t!==Me.READY&&setTimeout(async()=>{n=setInterval(()=>{i&&c(x=>{const w=(95-x)*.1;return Math.min(x+w,95)})},300);try{await _t(),i&&(c(100),s(Me.READY))}catch(x){i&&(d(`„Éá„Éº„Çø„Éô„Éº„Çπ„ÅÆÂàùÊúüÂåñ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü: ${x instanceof Error?x.message:"‰∏çÊòé„Å™„Ç®„É©„Éº"}`),s(Me.ERROR))}finally{clearInterval(n)}},100)})(),()=>{i=!1,clearInterval(n)}},[t]),e.jsx(e.Fragment,{children:r})},ot={primary:{main:"#2E3440",light:"#4C566A",dark:"#1B1F2B",contrastText:"#FFFFFF"},secondary:{main:"#88C0D0",light:"#B3D4E0",dark:"#5E81AC",contrastText:"#2E3440"},accent:{main:"#D08770",light:"#E5A088",dark:"#BF616A"},background:{default:"#ECEFF4",paper:"#FFFFFF",elevated:"#F8F9FA"},text:{primary:"#2E3440",secondary:"#4C566A",disabled:"#D8DEE9"},divider:"#E5E9F0",success:{main:"#A3BE8C",light:"#B8CCA3",dark:"#8CAF69"},warning:{main:"#EBCB8B",light:"#F0D5A3",dark:"#D4B571"},error:{main:"#BF616A",light:"#CC8088",dark:"#A54A56"},info:{main:"#88C0D0",light:"#B3D4E0",dark:"#5E81AC"}},Hr={fontFamily:'"Inter", "Roboto", "Helvetica Neue", "Arial", sans-serif',h1:{fontSize:"3rem",fontWeight:700,lineHeight:1.2,letterSpacing:"-0.02em"},h2:{fontSize:"2.25rem",fontWeight:600,lineHeight:1.3,letterSpacing:"-0.01em"},h3:{fontSize:"1.875rem",fontWeight:600,lineHeight:1.3,letterSpacing:"-0.01em"},h4:{fontSize:"1.5rem",fontWeight:600,lineHeight:1.4},h5:{fontSize:"1.25rem",fontWeight:600,lineHeight:1.4},h6:{fontSize:"1.125rem",fontWeight:600,lineHeight:1.4},subtitle1:{fontSize:"1rem",fontWeight:500,lineHeight:1.5},subtitle2:{fontSize:"0.875rem",fontWeight:500,lineHeight:1.5},body1:{fontSize:"1rem",fontWeight:400,lineHeight:1.6},body2:{fontSize:"0.875rem",fontWeight:400,lineHeight:1.6},caption:{fontSize:"0.75rem",fontWeight:400,lineHeight:1.5},button:{fontSize:"0.875rem",fontWeight:600,textTransform:"none",letterSpacing:"0.02em"}},Mr={MuiButton:{styleOverrides:{root:{borderRadius:8,padding:"10px 24px",transition:"all 0.2s ease-in-out","&:hover":{transform:"translateY(-1px)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"}},contained:{boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"}}},MuiCard:{styleOverrides:{root:{borderRadius:12,boxShadow:"0 2px 12px rgba(0, 0, 0, 0.08)",transition:"all 0.3s ease-in-out","&:hover":{transform:"translateY(-2px)",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)"}}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:8,transition:"all 0.2s ease-in-out","&:hover":{"& .MuiOutlinedInput-notchedOutline":{borderColor:ot.secondary.main}},"&.Mui-focused":{"& .MuiOutlinedInput-notchedOutline":{borderColor:ot.primary.main,borderWidth:2}}}}}},MuiAppBar:{styleOverrides:{root:{boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(10px)",backgroundColor:"rgba(46, 52, 64, 0.95)"}}},MuiChip:{styleOverrides:{root:{borderRadius:8,fontWeight:500}}},MuiPaper:{styleOverrides:{root:{borderRadius:12,boxShadow:"0 2px 12px rgba(0, 0, 0, 0.08)"},elevation1:{boxShadow:"0 2px 8px rgba(0, 0, 0, 0.06)"},elevation2:{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},elevation3:{boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)"}}}},zr=xr({palette:ot,typography:Hr,components:Mr,spacing:8,shape:{borderRadius:8},breakpoints:{values:{xs:0,sm:600,md:960,lg:1280,xl:1920}},transitions:{easing:{easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"}}}),Ur=()=>{const{pathname:r}=Je();return u.useEffect(()=>{window.scrollTo(0,0)},[r]),null},Gr=()=>(u.useEffect(()=>{console.log("App running in production mode");try{Zr()}catch(r){console.warn("Failed to log database details:",r)}},[]),e.jsxs(e.Fragment,{children:[e.jsx(Ur,{}),e.jsx(br,{}),e.jsx("main",{className:"container",role:"main",children:e.jsx(Bt,{children:e.jsxs(pr,{children:[e.jsx(Se,{path:"/",element:e.jsx(vr,{})}),e.jsx(Se,{path:"/architecture",element:e.jsx(Dr,{})}),e.jsx(Se,{path:"/architecture/:id",element:e.jsx(kr,{})}),e.jsx(Se,{path:"/architects",element:e.jsx(Fr,{})}),e.jsx(Se,{path:"/architects/:id",element:e.jsx(Or,{})}),e.jsx(Se,{path:"/map",element:e.jsx(Br,{})})]})})}),e.jsx(Cr,{})]})),qr=()=>e.jsx(Bt,{children:e.jsxs(ur,{theme:zr,children:[e.jsx(gr,{}),e.jsx(fr,{children:e.jsx(Nr,{children:e.jsx(Gr,{})})})]})});console.log("React „Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÇíÂàùÊúüÂåñ‰∏≠...","production");console.log("DOM root element:",document.getElementById("root"));const Pt=document.getElementById("root");if(!Pt)throw console.error('rootË¶ÅÁ¥†„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„ÄÇHTML„Å´<div id="root"></div>„ÅåÂ≠òÂú®„Åô„Çã„ÅãÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ'),new Error("Failed to find the root element");const Kr=$t(Pt);console.log("Using HashRouter for GitHub Pages compatibility");try{Kr.render(e.jsx(Dt.StrictMode,{children:e.jsx(qr,{})})),console.log("React „Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÅÆ„É¨„É≥„ÉÄ„É™„É≥„Ç∞„ÅåÊàêÂäü„Åó„Åæ„Åó„Åü")}catch(r){console.error("React „Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÅÆ„É¨„É≥„ÉÄ„É™„É≥„Ç∞‰∏≠„Å´„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü:",r)}
//# sourceMappingURL=index-DlESUSuc.js.map
